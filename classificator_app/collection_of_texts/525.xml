<?xml version="1.0" ?>
<doc>
	<label auto="true" type="str" verify="true"><![CDATA[Develop]]></label>
	<author auto="true" type="list" verify="true">
		<item type="str"><![CDATA[domovoi89]]></item>
	</author>
	<date auto="true" type="str" verify="true"><![CDATA[2022-12-01, 13:49]]></date>
	<link auto="true" type="str" verify="true"><![CDATA[https://habr.com/ru/post/702860/]]></link>
	<title auto="true" type="str" verify="true"><![CDATA[–ü—Ä–æ—Å—Ç–æ–π Telegram-–±–æ—Ç –Ω–∞ JavaScript –∑–∞ 10 –º–∏–Ω—É—Ç]]></title>
	<categories auto="true" type="list" verify="true">
		<item type="str"><![CDATA[–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä—ã]]></item>
		<item type="str"><![CDATA[JavaScript]]></item>
		<item type="str"><![CDATA[–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ]]></item>
	</categories>
	<key_words auto="true" type="list" verify="true">
		<item type="str"><![CDATA[javascript]]></item>
		<item type="str"><![CDATA[telegram]]></item>
		<item type="str"><![CDATA[telegram bot]]></item>
		<item type="str"><![CDATA[telegram api]]></item>
		<item type="str"><![CDATA[–±–æ—Ç]]></item>
		<item type="str"><![CDATA[—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞]]></item>
		<item type="str"><![CDATA[–¥–∂—É–Ω–∏–æ—Ä]]></item>
		<item type="str"><![CDATA[–Ω–∞—á–∏–Ω–∞—é—â–∏–º]]></item>
	</key_words>
	<text auto="true" type="str" verify="true"><![CDATA[–ü—Ä–∏–≤–µ—Ç, –•–∞–±—Ä! –≠—Ç—É —Å—Ç–∞—Ç—å—é –Ω–∞–ø–∏—Å–∞–ª –¢–∞—Ä–∞—Å –ì–æ–ª–æ–º–æ–∑—ã–π, fullstack web-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –≤ —à–∫–æ–ª–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è Elbrus Bootcamp. –•–æ—Ç—è –ø—Ä–æ –±–æ—Ç–æ–≤ —Ä–∞—Å—Å–∫–∞–∑–∞–Ω–æ —É–∂–µ –Ω–µ–º–∞–ª–æ, —ç—Ç–∞ —Ç–µ–º–∞ –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, ‚Äî –∏ –æ–ø—ã—Ç –Ω–∞—à–∏—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —ç—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç. –ü–æ–∑–≤–æ–ª–∏–º —Å–µ–±–µ –Ω–∞–ø–∏—Å–∞—Ç—å –µ—â–µ –æ–¥–Ω—É –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –ø—Ä–æ—Å—Ç–æ–≥–æ –±–æ—Ç–∞ –Ω–∞ JavaScript —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞. –í –±–∞–∑–æ–≤–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ –µ–≥–æ –∑–∞–¥–∞—á–∞ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –ø–æ–≥–æ–¥—É –ø–æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
–ü–∞—Ä—É —Å–ª–æ–≤ –æ–± —É—Ä–æ–≤–Ω–µ –∑–Ω–∞–Ω–∏–π, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —Ä–∞—Å—Å—á–∏—Ç–∞–Ω —ç—Ç–æ—Ç —Ç–µ–∫—Å—Ç. –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–º–µ—Ç—å –±–∞–∑–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ JavaScript, –∞ —Ç–∞–∫–∂–µ –∑–Ω–∞—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç API. –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É telegraf.js, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –±–∞–∑–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ API Telegram, –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, axios). 
–®–∞–≥ –ø–µ—Ä–≤—ã–π: –±–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
–û—Ç–∫—Ä–æ–µ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã npm -y. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ –ø–æ—è–≤–∏—Ç—Å—è —Ñ–∞–π–ª package.json. –¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∫–æ–º–∞–Ω–¥–æ–π npm i, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–π —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª –ø—Ä–æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –Ω–∞–º –±–∏–±–ª–∏–æ—Ç–µ–∫. –í—Å–µ –Ω–∞–∑–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏: –≤ —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ —ç—Ç–æ –±—É–¥—É—Ç telegraf –∏ axios. 
–°—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ API –ø–æ–≥–æ–¥—ã –æ—Ç–¥–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ ‚Äî –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∏ –ø–æ–ª—É—á–∞—Ç—å –æ—Ç–≤–µ—Ç—ã. 
–ü–æ–∫–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∫ –Ω–∏–º. –£ telegraf.js –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –≥–æ—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞. –ú–æ–∂–Ω–æ –≤–∑—è—Ç—å –ø–µ—Ä–≤—ã–π –ø—Ä–∏–º–µ—Ä –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç. 
–î–ª—è —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤—ã–π —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º bot.js –∏ –¥–æ–±–∞–≤–∏–º –≤ –Ω–µ–≥–æ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥: 
const { Telegraf } = require('telegraf');

const bot = new Telegraf(process.env.BOT_TOKEN);
bot.start((ctx) => ctx.reply('Welcome'));
bot.help((ctx) => ctx.reply('Send me a sticker'));
bot.on('sticker', (ctx) => ctx.reply('üëç'));
bot.hears('hi', (ctx) => ctx.reply('Hey there'));
bot.launch();

// Enable graceful stop
process.once('SIGINT', () => bot.stop('SIGINT'));
process.once('SIGTERM', () => bot.stop('SIGTERM'));
–í package.json –ø—Ä–æ–ø–∏—à–µ–º —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞. –î–ª—è —ç—Ç–æ–≥–æ –≤ —Ä–∞–∑–¥–µ–ª–µ scripts –¥–æ–±–∞–≤–∏–º –Ω–æ–≤—ã–π –ø—É–Ω–∫—Ç —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º: 
"start": "node bot.js"
–ï—Å–ª–∏ –º—ã –∑–∞–ø—É—Å—Ç–∏–º –ø—Ä–æ–µ–∫—Ç –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∫–æ–º–∞–Ω–¥–æ–π npm start, —Ç–æ —É–≤–∏–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ ‚ÄùBot token is required‚Äù. –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ Telegram BotFather ‚Äî –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ –±–æ—Ç–∞ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç –¥—Ä—É–≥–∏–µ –±–æ—Ç—ã –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –∏–º–∏. –í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –≤—ã–±–∏—Ä–∞–µ–º /start, –∑–∞—Ç–µ–º ‚Äî /newbot, –∏ —Å–ª–µ–¥–æ–º –∑–∞–¥–∞–µ–º –∏–º—è –∏ –∞–¥—Ä–µ—Å. –í —ç—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —ç—Ç–æ –±—É–¥–µ—Ç elbrusbootcampweatherbot.
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ BotFather –ø—Ä–∏—à–ª–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ç–æ–∫–µ–Ω–æ–º –∏ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –±–æ—Ç. –ö–æ–ø–∏—Ä—É–µ–º —Ç–æ–∫–µ–Ω –∏ –≤—Å—Ç–∞–≤–ª—è–µ–º –µ–≥–æ –≤ —Ç—Ä–µ—Ç—å—é —Å—Ç—Ä–æ—á–∫—É –ø—Ä–∏–º–µ—Ä–∞: 
const bot = new Telegraf(process.env.BOT_TOKEN);
–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞—Ö–æ–¥–∏–º –±–æ—Ç–∞ –≤ –ø–æ–∏—Å–∫–µ –≤ Telegram –ø–æ –∏–º–µ–Ω–∏. –¢–µ–ø–µ—Ä—å –±–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –Ω–æ –ø–æ–∫–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö –ø–æ–ª–µ–∑–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π. –ß—Ç–æ–±—ã —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å, –ø–æ—Å—Ç—Ä–æ—á–Ω–æ —Ä–∞–∑–±–µ—Ä–µ–º –∫–æ–¥ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞. 
–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ telegraf, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å API Telegram –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ—Ç–æ–º. –í —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–æ–∫–µ —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞ –∏ —É–∫–∞–∑—ã–≤–∞–µ–º –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–µ–º—É. 
–î–∞–ª–µ–µ —É–∫–∞–∑–∞–Ω–æ, –∫–∞–∫ –±–æ—Ç –±—É–¥–µ—Ç —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã: –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ /start –æ–Ω –æ—Ç–ø—Ä–∞–≤–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ welcome, –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å—Ç—Ä–∏–∫–µ—Ä–∞ ‚Äî —ç–º–æ–¥–∑–∏ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–≤–µ —Å—Ç—Ä–æ—á–∫–∏ –Ω—É–∂–Ω—ã –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –±–æ—Ç–æ–º –∫–æ–º–∞–Ω–¥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à–∞–ª–æ—Å—å –≤ –æ–±–ª–∞—á–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö. 
–î—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã –∫—Ä–æ–º–µ /start –Ω–∞–º –Ω–µ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è, –ø–æ—ç—Ç–æ–º—É –∏—Ö –º–æ–∂–Ω–æ —Å–º–µ–ª–æ —É–¥–∞–ª–∏—Ç—å: 
const { Telegraf } = require('telegraf');

const bot = new Telegraf(process.env.BOT_TOKEN);
bot.start((ctx) => ctx.reply('Welcome'));
bot.launch();

// Enable graceful stop
process.once('SIGINT', () => bot.stop('SIGINT'));
process.once('SIGTERM', () => bot.stop('SIGTERM'));
–î–æ–±–∞–≤–∏–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã: –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ–º –ø—Ä–æ–≥–Ω–æ–∑–æ–º –ø–æ–≥–æ–¥—ã –¥–ª—è —ç—Ç–æ–π —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏. –ü–µ—Ä–≤—ã–º –¥–µ–ª–æ–º –Ω–∞–ø–∏—à–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –≤—ã–≤–æ–¥–∏—Ç—å –µ–≥–æ –≤ –∫–æ–Ω—Å–æ–ª—å.
bot.on ('message',(ctx) => {
  console.log('ctx.message');
} )
–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –±–æ—Ç—É –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –º—ã —É–≤–∏–¥–∏–º –æ–±—ä–µ–∫—Ç location, –≤ –∫–æ—Ç–æ—Ä–æ–º —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è —à–∏—Ä–æ—Ç–∞ –∏ –¥–æ–ª–≥–æ—Ç–∞. –î–æ–±–∞–≤–∏–º –ø—Ä–æ–≤–µ—Ä–∫—É: –µ—Å–ª–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –æ–±—ä–µ–∫—Ç location, –¥–∞–Ω–Ω—ã–µ –∏–∑ –Ω–µ–≥–æ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ API –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –ø–æ–≥–æ–¥—ã. 
bot.on ('message',(ctx) => {
  if('ctx.message.location'){
    console.log('ctx.message.location');
} )
–®–∞–≥ –≤—Ç–æ—Ä–æ–π: –ø–æ–¥–∫–ª—é—á–∞–µ–º API
–ö–∞–∫ –∏ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —Å–ª—É—á–∞–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∏–º–µ—Ä –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ OpenWeather. –ù–∞–º –Ω—É–∂–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å –∏ –ø–µ—Ä–µ–¥–∞—Ç—å —Ç—É–¥–∞ —à–∏—Ä–æ—Ç—É, –¥–æ–ª–≥–æ—Ç—É –∏ API-–∫–ª—é—á. –í –æ—Ç–≤–µ—Ç –º—ã –ø–æ–ª—É—á–∏–º —Ç–µ–∫—É—â—É—é –ø–æ–≥–æ–¥—É.
–í—Å—Ç–∞–≤–∏–º –ø—Ä–∏–º–µ—Ä –≤ –∫–æ–¥, –∏—Å–ø–æ–ª—å–∑—É—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ ctx.message.location —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —à–∏—Ä–æ—Ç—ã –∏ –¥–æ–ª–≥–æ—Ç—ã:
bot.on('message', (ctx) => {
  if (ctx.message.location) {
    const weatherAPIUrl = `https://openweathermap.org/data/2.5/weather?lat=${ctx.message.location.latitude}&lon=${ctx.message.location.longitude}&appid=439d4b8O4bc8187953eb36d2a8c26a02`;
  }
});
API-–∫–ª—é—á –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –Ω–∞ —Å–∞–π—Ç–µ OpenWeather. –ö–ª—é—á —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä appid.
–°–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º –Ω—É–∂–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –ø–æ –∞–¥—Ä–µ—Å—É, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–º—É OpenWeather, –∏ –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É axios. –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —É–∫–∞–∑–∞–Ω–∞ –≤ –µ–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
const axios = require('axios');
–ü–æ—Å–∫–æ–ª—å–∫—É –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º —Å–µ—Ä–≤–µ—Ä–æ–º –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –¥–æ–±–∞–≤–∏–º async –∏ await –≤ –º–µ—Ç–æ–¥ bot.on:
bot.on('message', async (ctx) => {
  if (ctx.message.location) {
    const weatherAPIUrl = `https://openweathermap.org/data/2.5/weather?lat=${ctx.message.location.latitude}&lon=${ctx.message.location.longitude}&appid=439d4b8O4bc8187953eb36d2a8c26a02`;
    const response = await axios.get(weatherAPIUrl);
  }
});
–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –±–æ—Ç—É –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –º—ã —É–≤–∏–¥–∏–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–≥–æ–¥–µ –≤ —Ç–µ–∫—É—â–µ–º –º–µ—Å—Ç–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –û—Å—Ç–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Ç–≤–µ—Ç–∞. –í —Ç–µ–∫—Å—Ç–µ —É–∫–∞–∂–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–π–æ–Ω–∞ –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –≤ –≥—Ä–∞–¥—É—Å–∞—Ö –¶–µ–ª—å—Å–∏—è:
ctx.reply(`${response.data.name}: ${response.data.weather[0].main} ${response.data.main.temp} ¬∞C`);
–ó–∞–∫–ª—é—á–µ–Ω–∏–µ
–ù–∞ —ç—Ç–æ–º –≤—Å–µ: –∏—Ç–æ–≥–æ–≤—ã–π –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞ GitHub.
–ü—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –±–æ—Ç –±—É–¥–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ–±–ª–∞—á–Ω–æ –Ω–∞ —É–ª–∏—Ü–µ –∏–ª–∏ —Å–æ–ª–Ω–µ—á–Ω–æ, –µ—Å—Ç—å –æ—Å–∞–¥–∫–∏ –∏–ª–∏ –Ω–µ—Ç –∏ –¥—Ä—É–≥–∏–µ. –¢–∞–∫–∂–µ –∫ –±–æ—Ç—É –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∞ –∏ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–≥–æ–¥—ã –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫.  –ü—Ä–∏–≤–µ—Ç, –•–∞–±—Ä! –≠—Ç—É —Å—Ç–∞—Ç—å—é –Ω–∞–ø–∏—Å–∞–ª –¢–∞—Ä–∞—Å –ì–æ–ª–æ–º–æ–∑—ã–π, fullstack web-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –≤ —à–∫–æ–ª–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è Elbrus Bootcamp. –•–æ—Ç—è –ø—Ä–æ –±–æ—Ç–æ–≤ —Ä–∞—Å—Å–∫–∞–∑–∞–Ω–æ —É–∂–µ –Ω–µ–º–∞–ª–æ, —ç—Ç–∞ —Ç–µ–º–∞ –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, ‚Äî –∏ –æ–ø—ã—Ç –Ω–∞—à–∏—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —ç—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç. –ü–æ–∑–≤–æ–ª–∏–º —Å–µ–±–µ –Ω–∞–ø–∏—Å–∞—Ç—å –µ—â–µ –æ–¥–Ω—É –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –ø—Ä–æ—Å—Ç–æ–≥–æ –±–æ—Ç–∞ –Ω–∞ JavaScript —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞. –í –±–∞–∑–æ–≤–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ –µ–≥–æ –∑–∞–¥–∞—á–∞ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –ø–æ–≥–æ–¥—É –ø–æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.   –ü–∞—Ä—É —Å–ª–æ–≤ –æ–± —É—Ä–æ–≤–Ω–µ –∑–Ω–∞–Ω–∏–π, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —Ä–∞—Å—Å—á–∏—Ç–∞–Ω —ç—Ç–æ—Ç —Ç–µ–∫—Å—Ç. –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–º–µ—Ç—å –±–∞–∑–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ JavaScript, –∞ —Ç–∞–∫–∂–µ –∑–Ω–∞—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç API. –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É telegraf.js, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –±–∞–∑–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ API Telegram, –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, axios).  –®–∞–≥ –ø–µ—Ä–≤—ã–π: –±–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –û—Ç–∫—Ä–æ–µ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã npm -y. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ –ø–æ—è–≤–∏—Ç—Å—è —Ñ–∞–π–ª package.json. –¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∫–æ–º–∞–Ω–¥–æ–π npm i, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–π —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª –ø—Ä–æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –Ω–∞–º –±–∏–±–ª–∏–æ—Ç–µ–∫. –í—Å–µ –Ω–∞–∑–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏: –≤ —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ —ç—Ç–æ –±—É–¥—É—Ç telegraf –∏ axios.  –°—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ API –ø–æ–≥–æ–¥—ã –æ—Ç–¥–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ ‚Äî –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∏ –ø–æ–ª—É—á–∞—Ç—å –æ—Ç–≤–µ—Ç—ã.  –ü–æ–∫–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∫ –Ω–∏–º. –£ telegraf.js –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –≥–æ—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞. –ú–æ–∂–Ω–æ –≤–∑—è—Ç—å –ø–µ—Ä–≤—ã–π –ø—Ä–∏–º–µ—Ä –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç.  –µ—Å—Ç—å –µ—Å—Ç—å –î–ª—è —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤—ã–π —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º bot.js –∏ –¥–æ–±–∞–≤–∏–º –≤ –Ω–µ–≥–æ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:  const { Telegraf } = require('telegraf');

const bot = new Telegraf(process.env.BOT_TOKEN);
bot.start((ctx) => ctx.reply('Welcome'));
bot.help((ctx) => ctx.reply('Send me a sticker'));
bot.on('sticker', (ctx) => ctx.reply('üëç'));
bot.hears('hi', (ctx) => ctx.reply('Hey there'));
bot.launch();

// Enable graceful stop
process.once('SIGINT', () => bot.stop('SIGINT'));
process.once('SIGTERM', () => bot.stop('SIGTERM')); const { Telegraf } = require('telegraf');

const bot = new Telegraf(process.env.BOT_TOKEN);
bot.start((ctx) => ctx.reply('Welcome'));
bot.help((ctx) => ctx.reply('Send me a sticker'));
bot.on('sticker', (ctx) => ctx.reply('üëç'));
bot.hears('hi', (ctx) => ctx.reply('Hey there'));
bot.launch();

// Enable graceful stop
process.once('SIGINT', () => bot.stop('SIGINT'));
process.once('SIGTERM', () => bot.stop('SIGTERM')); –í package.json –ø—Ä–æ–ø–∏—à–µ–º —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞. –î–ª—è —ç—Ç–æ–≥–æ –≤ —Ä–∞–∑–¥–µ–ª–µ scripts –¥–æ–±–∞–≤–∏–º –Ω–æ–≤—ã–π –ø—É–Ω–∫—Ç —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º:  "start": "node bot.js" "start": "node bot.js" –ï—Å–ª–∏ –º—ã –∑–∞–ø—É—Å—Ç–∏–º –ø—Ä–æ–µ–∫—Ç –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∫–æ–º–∞–Ω–¥–æ–π npm start, —Ç–æ —É–≤–∏–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ ‚ÄùBot token is required‚Äù. –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ Telegram BotFather ‚Äî –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ –±–æ—Ç–∞ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç –¥—Ä—É–≥–∏–µ –±–æ—Ç—ã –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –∏–º–∏. –í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –≤—ã–±–∏—Ä–∞–µ–º /start, –∑–∞—Ç–µ–º ‚Äî /newbot, –∏ —Å–ª–µ–¥–æ–º –∑–∞–¥–∞–µ–º –∏–º—è –∏ –∞–¥—Ä–µ—Å. –í —ç—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —ç—Ç–æ –±—É–¥–µ—Ç elbrusbootcampweatherbot. BotFather BotFather –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ BotFather –ø—Ä–∏—à–ª–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ç–æ–∫–µ–Ω–æ–º –∏ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –±–æ—Ç. –ö–æ–ø–∏—Ä—É–µ–º —Ç–æ–∫–µ–Ω –∏ –≤—Å—Ç–∞–≤–ª—è–µ–º –µ–≥–æ –≤ —Ç—Ä–µ—Ç—å—é —Å—Ç—Ä–æ—á–∫—É –ø—Ä–∏–º–µ—Ä–∞:  const bot = new Telegraf(process.env.BOT_TOKEN); const bot = new Telegraf(process.env.BOT_TOKEN); –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞—Ö–æ–¥–∏–º –±–æ—Ç–∞ –≤ –ø–æ–∏—Å–∫–µ –≤ Telegram –ø–æ –∏–º–µ–Ω–∏. –¢–µ–ø–µ—Ä—å –±–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –Ω–æ –ø–æ–∫–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö –ø–æ–ª–µ–∑–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π. –ß—Ç–æ–±—ã —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å, –ø–æ—Å—Ç—Ä–æ—á–Ω–æ —Ä–∞–∑–±–µ—Ä–µ–º –∫–æ–¥ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞.  –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ telegraf, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å API Telegram –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ—Ç–æ–º. –í —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–æ–∫–µ —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞ –∏ —É–∫–∞–∑—ã–≤–∞–µ–º –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–µ–º—É.  –î–∞–ª–µ–µ —É–∫–∞–∑–∞–Ω–æ, –∫–∞–∫ –±–æ—Ç –±—É–¥–µ—Ç —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã: –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ /start –æ–Ω –æ—Ç–ø—Ä–∞–≤–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ welcome, –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å—Ç—Ä–∏–∫–µ—Ä–∞ ‚Äî —ç–º–æ–¥–∑–∏ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–≤–µ —Å—Ç—Ä–æ—á–∫–∏ –Ω—É–∂–Ω—ã –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –±–æ—Ç–æ–º –∫–æ–º–∞–Ω–¥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à–∞–ª–æ—Å—å –≤ –æ–±–ª–∞—á–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö.  –î—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã –∫—Ä–æ–º–µ /start –Ω–∞–º –Ω–µ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è, –ø–æ—ç—Ç–æ–º—É –∏—Ö –º–æ–∂–Ω–æ —Å–º–µ–ª–æ —É–¥–∞–ª–∏—Ç—å:  const { Telegraf } = require('telegraf');

const bot = new Telegraf(process.env.BOT_TOKEN);
bot.start((ctx) => ctx.reply('Welcome'));
bot.launch();

// Enable graceful stop
process.once('SIGINT', () => bot.stop('SIGINT'));
process.once('SIGTERM', () => bot.stop('SIGTERM')); const { Telegraf } = require('telegraf');

const bot = new Telegraf(process.env.BOT_TOKEN);
bot.start((ctx) => ctx.reply('Welcome'));
bot.launch();

// Enable graceful stop
process.once('SIGINT', () => bot.stop('SIGINT'));
process.once('SIGTERM', () => bot.stop('SIGTERM')); –î–æ–±–∞–≤–∏–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã: –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ–º –ø—Ä–æ–≥–Ω–æ–∑–æ–º –ø–æ–≥–æ–¥—ã –¥–ª—è —ç—Ç–æ–π —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏. –ü–µ—Ä–≤—ã–º –¥–µ–ª–æ–º –Ω–∞–ø–∏—à–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –≤—ã–≤–æ–¥–∏—Ç—å –µ–≥–æ –≤ –∫–æ–Ω—Å–æ–ª—å. bot.on ('message',(ctx) => {
  console.log('ctx.message');
} ) bot.on ('message',(ctx) => {
  console.log('ctx.message');
} ) –¢–µ–ø–µ—Ä—å –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –±–æ—Ç—É –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –º—ã —É–≤–∏–¥–∏–º –æ–±—ä–µ–∫—Ç location, –≤ –∫–æ—Ç–æ—Ä–æ–º —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è —à–∏—Ä–æ—Ç–∞ –∏ –¥–æ–ª–≥–æ—Ç–∞. –î–æ–±–∞–≤–∏–º –ø—Ä–æ–≤–µ—Ä–∫—É: –µ—Å–ª–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –æ–±—ä–µ–∫—Ç location, –¥–∞–Ω–Ω—ã–µ –∏–∑ –Ω–µ–≥–æ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ API –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –ø–æ–≥–æ–¥—ã.  bot.on ('message',(ctx) => {
  if('ctx.message.location'){
    console.log('ctx.message.location');
} ) bot.on ('message',(ctx) => {
  if('ctx.message.location'){
    console.log('ctx.message.location');
} ) –®–∞–≥ –≤—Ç–æ—Ä–æ–π: –ø–æ–¥–∫–ª—é—á–∞–µ–º API –ö–∞–∫ –∏ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —Å–ª—É—á–∞–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∏–º–µ—Ä –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ OpenWeather. –ù–∞–º –Ω—É–∂–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å –∏ –ø–µ—Ä–µ–¥–∞—Ç—å —Ç—É–¥–∞ —à–∏—Ä–æ—Ç—É, –¥–æ–ª–≥–æ—Ç—É –∏ API-–∫–ª—é—á. –í –æ—Ç–≤–µ—Ç –º—ã –ø–æ–ª—É—á–∏–º —Ç–µ–∫—É—â—É—é –ø–æ–≥–æ–¥—É. –ø—Ä–∏–º–µ—Ä –ø—Ä–∏–º–µ—Ä –í—Å—Ç–∞–≤–∏–º –ø—Ä–∏–º–µ—Ä –≤ –∫–æ–¥, –∏—Å–ø–æ–ª—å–∑—É—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ ctx.message.location —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —à–∏—Ä–æ—Ç—ã –∏ –¥–æ–ª–≥–æ—Ç—ã: bot.on('message', (ctx) => {
  if (ctx.message.location) {
    const weatherAPIUrl = `https://openweathermap.org/data/2.5/weather?lat=${ctx.message.location.latitude}&lon=${ctx.message.location.longitude}&appid=439d4b8O4bc8187953eb36d2a8c26a02`;
  }
}); bot.on('message', (ctx) => {
  if (ctx.message.location) {
    const weatherAPIUrl = `https://openweathermap.org/data/2.5/weather?lat=${ctx.message.location.latitude}&lon=${ctx.message.location.longitude}&appid=439d4b8O4bc8187953eb36d2a8c26a02`;
  }
}); API-–∫–ª—é—á –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –Ω–∞ —Å–∞–π—Ç–µ OpenWeather. –ö–ª—é—á —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä appid. –°–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º –Ω—É–∂–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –ø–æ –∞–¥—Ä–µ—Å—É, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–º—É OpenWeather, –∏ –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É axios. –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —É–∫–∞–∑–∞–Ω–∞ –≤ –µ–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º: –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ const axios = require('axios'); const axios = require('axios'); –ü–æ—Å–∫–æ–ª—å–∫—É –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º —Å–µ—Ä–≤–µ—Ä–æ–º –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –¥–æ–±–∞–≤–∏–º async –∏ await –≤ –º–µ—Ç–æ–¥ bot.on: bot.on('message', async (ctx) => {
  if (ctx.message.location) {
    const weatherAPIUrl = `https://openweathermap.org/data/2.5/weather?lat=${ctx.message.location.latitude}&lon=${ctx.message.location.longitude}&appid=439d4b8O4bc8187953eb36d2a8c26a02`;
    const response = await axios.get(weatherAPIUrl);
  }
}); bot.on('message', async (ctx) => {
  if (ctx.message.location) {
    const weatherAPIUrl = `https://openweathermap.org/data/2.5/weather?lat=${ctx.message.location.latitude}&lon=${ctx.message.location.longitude}&appid=439d4b8O4bc8187953eb36d2a8c26a02`;
    const response = await axios.get(weatherAPIUrl);
  }
}); –¢–µ–ø–µ—Ä—å –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –±–æ—Ç—É –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –º—ã —É–≤–∏–¥–∏–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–≥–æ–¥–µ –≤ —Ç–µ–∫—É—â–µ–º –º–µ—Å—Ç–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –û—Å—Ç–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Ç–≤–µ—Ç–∞. –í —Ç–µ–∫—Å—Ç–µ —É–∫–∞–∂–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–π–æ–Ω–∞ –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –≤ –≥—Ä–∞–¥—É—Å–∞—Ö –¶–µ–ª—å—Å–∏—è: ctx.reply(`${response.data.name}: ${response.data.weather[0].main} ${response.data.main.temp} ¬∞C`); ctx.reply(`${response.data.name}: ${response.data.weather[0].main} ${response.data.main.temp} ¬∞C`); –ó–∞–∫–ª—é—á–µ–Ω–∏–µ –ù–∞ —ç—Ç–æ–º –≤—Å–µ: –∏—Ç–æ–≥–æ–≤—ã–π –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞ GitHub. —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ü—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –±–æ—Ç –±—É–¥–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –æ–±–ª–∞—á–Ω–æ –Ω–∞ —É–ª–∏—Ü–µ –∏–ª–∏ —Å–æ–ª–Ω–µ—á–Ω–æ, –µ—Å—Ç—å –æ—Å–∞–¥–∫–∏ –∏–ª–∏ –Ω–µ—Ç –∏ –¥—Ä—É–≥–∏–µ. –¢–∞–∫–∂–µ –∫ –±–æ—Ç—É –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∞ –∏ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–≥–æ–¥—ã –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫.  ]]></text>
</doc>
