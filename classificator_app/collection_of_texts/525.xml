<?xml version="1.0" ?>
<doc>
	<label auto="true" type="str" verify="true"><![CDATA[Develop]]></label>
	<author auto="true" type="list" verify="true">
		<item type="str"><![CDATA[domovoi89]]></item>
	</author>
	<date auto="true" type="str" verify="true"><![CDATA[2022-12-01, 13:49]]></date>
	<link auto="true" type="str" verify="true"><![CDATA[https://habr.com/ru/post/702860/]]></link>
	<title auto="true" type="str" verify="true"><![CDATA[ÐŸÑ€Ð¾ÑÑ‚Ð¾Ð¹ Telegram-Ð±Ð¾Ñ‚ Ð½Ð° JavaScript Ð·Ð° 10 Ð¼Ð¸Ð½ÑƒÑ‚]]></title>
	<categories auto="true" type="list" verify="true">
		<item type="str"><![CDATA[ÐœÐµÑÑÐµÐ½Ð´Ð¶ÐµÑ€Ñ‹]]></item>
		<item type="str"><![CDATA[JavaScript]]></item>
		<item type="str"><![CDATA[ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ]]></item>
	</categories>
	<key_words auto="true" type="list" verify="true">
		<item type="str"><![CDATA[javascript]]></item>
		<item type="str"><![CDATA[telegram]]></item>
		<item type="str"><![CDATA[telegram bot]]></item>
		<item type="str"><![CDATA[telegram api]]></item>
		<item type="str"><![CDATA[Ð±Ð¾Ñ‚]]></item>
		<item type="str"><![CDATA[Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°]]></item>
		<item type="str"><![CDATA[Ð´Ð¶ÑƒÐ½Ð¸Ð¾Ñ€]]></item>
		<item type="str"><![CDATA[Ð½Ð°Ñ‡Ð¸Ð½Ð°ÑŽÑ‰Ð¸Ð¼]]></item>
	</key_words>
	<text auto="true" type="str" verify="true"><![CDATA[ÐŸÑ€Ð¸Ð²ÐµÑ‚, Ð¥Ð°Ð±Ñ€! Ð­Ñ‚Ñƒ ÑÑ‚Ð°Ñ‚ÑŒÑŽ Ð½Ð°Ð¿Ð¸ÑÐ°Ð» Ð¢Ð°Ñ€Ð°Ñ Ð“Ð¾Ð»Ð¾Ð¼Ð¾Ð·Ñ‹Ð¹, fullstack web-Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº Ð¸ Ð¿Ñ€ÐµÐ¿Ð¾Ð´Ð°Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð² ÑˆÐºÐ¾Ð»Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Elbrus Bootcamp. Ð¥Ð¾Ñ‚Ñ Ð¿Ñ€Ð¾ Ð±Ð¾Ñ‚Ð¾Ð² Ñ€Ð°ÑÑÐºÐ°Ð·Ð°Ð½Ð¾ ÑƒÐ¶Ðµ Ð½ÐµÐ¼Ð°Ð»Ð¾, ÑÑ‚Ð° Ñ‚ÐµÐ¼Ð° Ð¿Ð¾-Ð¿Ñ€ÐµÐ¶Ð½ÐµÐ¼Ñƒ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÑƒÐµÑ‚ Ð½Ð°Ñ‡Ð¸Ð½Ð°ÑŽÑ‰Ð¸Ñ… Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¾Ð², â€” Ð¸ Ð¾Ð¿Ñ‹Ñ‚ Ð½Ð°ÑˆÐ¸Ñ… ÑÑ‚ÑƒÐ´ÐµÐ½Ñ‚Ð¾Ð² ÑÑ‚Ð¾ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´Ð°ÐµÑ‚. ÐŸÐ¾Ð·Ð²Ð¾Ð»Ð¸Ð¼ ÑÐµÐ±Ðµ Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÐµÑ‰Ðµ Ð¾Ð´Ð½Ñƒ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸ÑŽ Ð¿Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸ÑŽ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð³Ð¾ Ð±Ð¾Ñ‚Ð° Ð½Ð° JavaScript Ñ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒÑŽ Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»Ð°. Ð’ Ð±Ð°Ð·Ð¾Ð²Ð¾Ð¼ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ðµ ÐµÐ³Ð¾ Ð·Ð°Ð´Ð°Ñ‡Ð° â€” Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°Ñ‚ÑŒ Ñ‚ÐµÐºÑƒÑ‰ÑƒÑŽ Ð¿Ð¾Ð³Ð¾Ð´Ñƒ Ð¿Ð¾ Ð³ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ð¸Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ.
ÐŸÐ°Ñ€Ñƒ ÑÐ»Ð¾Ð² Ð¾Ð± ÑƒÑ€Ð¾Ð²Ð½Ðµ Ð·Ð½Ð°Ð½Ð¸Ð¹, Ð½Ð° ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ñ€Ð°ÑÑÑ‡Ð¸Ñ‚Ð°Ð½ ÑÑ‚Ð¾Ñ‚ Ñ‚ÐµÐºÑÑ‚. Ð”Ð»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð±Ð¾Ñ‚Ð° Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð¸Ð¼ÐµÑ‚ÑŒ Ð±Ð°Ð·Ð¾Ð²Ð¾Ðµ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¾ JavaScript, Ð° Ñ‚Ð°ÐºÐ¶Ðµ Ð·Ð½Ð°Ñ‚ÑŒ, ÐºÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ API. ÐŸÐµÑ€ÐµÐ´ Ð½Ð°Ñ‡Ð°Ð»Ð¾Ð¼ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð½ÑƒÐ¶Ð½Ð¾ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÑƒ telegraf.js, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð½Ð° Ð±Ð°Ð·Ðµ Ð¾Ñ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ API Telegram, Ð¸ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÑƒ Ð´Ð»Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ HTTP-Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, axios). 
Ð¨Ð°Ð³ Ð¿ÐµÑ€Ð²Ñ‹Ð¹: Ð±Ð°Ð·Ð¾Ð²Ñ‹Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»
ÐžÑ‚ÐºÑ€Ð¾ÐµÐ¼ Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€ ÐºÐ¾Ð´Ð° Ð¸ Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÐ¼ Ð¿Ñ€Ð¾ÐµÐºÑ‚ Ñ‡ÐµÑ€ÐµÐ· Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð» Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ npm -y. ÐŸÐ¾ÑÐ»Ðµ ÑÑ‚Ð¾Ð³Ð¾ Ð² Ð¿Ñ€Ð¾ÐµÐºÑ‚Ðµ Ð¿Ð¾ÑÐ²Ð¸Ñ‚ÑÑ Ñ„Ð°Ð¹Ð» package.json. Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¼Ñ‹ Ð¼Ð¾Ð¶ÐµÐ¼ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð²ÑÐµ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ñ‹Ðµ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¾Ð¹ npm i, Ð¿Ð¾ÑÐ»Ðµ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¹ Ñ‡ÐµÑ€ÐµÐ· Ð¿Ñ€Ð¾Ð±ÐµÐ» Ð¿Ñ€Ð¾Ð¿Ð¸ÑÑ‹Ð²Ð°ÑŽÑ‚ÑÑ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ñ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ñ‹Ñ… Ð½Ð°Ð¼ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐº. Ð’ÑÐµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ñ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð² Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸: Ð² ÑÑ‚Ð¾Ð¼ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ðµ ÑÑ‚Ð¾ Ð±ÑƒÐ´ÑƒÑ‚ telegraf Ð¸ axios. 
Ð¡Ñ‚Ð¾Ð¸Ñ‚ Ð¾Ñ‚Ð¼ÐµÑ‚Ð¸Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾ API Ð¿Ð¾Ð³Ð¾Ð´Ñ‹ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ð¾ ÑƒÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°Ñ‚ÑŒ Ð½Ðµ Ð½ÑƒÐ¶Ð½Ð¾ â€” Ð¾Ð½Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð¿Ð¾ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ðµ ÐºÐ»Ð¸ÐµÐ½Ñ‚-ÑÐµÑ€Ð²ÐµÑ€, Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÑŒ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹. 
ÐŸÐ¾ÐºÐ° ÑƒÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÑŽÑ‚ÑÑ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸, Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸ÑŽ Ðº Ð½Ð¸Ð¼. Ð£ telegraf.js ÐµÑÑ‚ÑŒ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð¾Ð² Ð³Ð¾Ñ‚Ð¾Ð²Ð¾Ð³Ð¾ Ð±Ð¾Ñ‚Ð°. ÐœÐ¾Ð¶Ð½Ð¾ Ð²Ð·ÑÑ‚ÑŒ Ð¿ÐµÑ€Ð²Ñ‹Ð¹ Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Ð¸ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ, ÐºÐ°Ðº Ð¾Ð½ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚. 
Ð”Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ ÑÐ¾Ð·Ð´Ð°Ð´Ð¸Ð¼ Ð½Ð¾Ð²Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» Ñ Ð¸Ð¼ÐµÐ½ÐµÐ¼ bot.js Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð¸Ð¼ Ð² Ð½ÐµÐ³Ð¾ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ ÐºÐ¾Ð´: 
const { Telegraf } = require('telegraf');

const bot = new Telegraf(process.env.BOT_TOKEN);
bot.start((ctx) => ctx.reply('Welcome'));
bot.help((ctx) => ctx.reply('Send me a sticker'));
bot.on('sticker', (ctx) => ctx.reply('ðŸ‘'));
bot.hears('hi', (ctx) => ctx.reply('Hey there'));
bot.launch();

// Enable graceful stop
process.once('SIGINT', () => bot.stop('SIGINT'));
process.once('SIGTERM', () => bot.stop('SIGTERM'));
Ð’ package.json Ð¿Ñ€Ð¾Ð¿Ð¸ÑˆÐµÐ¼ ÑÑ‚Ð°Ñ€Ñ‚Ð¾Ð²Ñ‹Ð¹ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð´Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ð°. Ð”Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð² Ñ€Ð°Ð·Ð´ÐµÐ»Ðµ scripts Ð´Ð¾Ð±Ð°Ð²Ð¸Ð¼ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¿ÑƒÐ½ÐºÑ‚ ÑÐ¾ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¼ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ð½Ð¸ÐµÐ¼: 
"start": "node bot.js"
Ð•ÑÐ»Ð¸ Ð¼Ñ‹ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ð¼ Ð¿Ñ€Ð¾ÐµÐºÑ‚ Ð² Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð»Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¾Ð¹ npm start, Ñ‚Ð¾ ÑƒÐ²Ð¸Ð´Ð¸Ð¼ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ â€Bot token is requiredâ€. ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ñ‚Ð¾ÐºÐµÐ½ Ð¼Ð¾Ð¶Ð½Ð¾ Ñ‡ÐµÑ€ÐµÐ· Telegram BotFather â€” Ð¾Ñ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð±Ð¾Ñ‚Ð° Ð¼ÐµÑÑÐµÐ½Ð´Ð¶ÐµÑ€Ð°, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ ÑÐ¾Ð·Ð´Ð°ÐµÑ‚ Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð±Ð¾Ñ‚Ñ‹ Ð¸ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ Ð¸Ð¼Ð¸. Ð’ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐµ Ð²Ñ‹Ð±Ð¸Ñ€Ð°ÐµÐ¼ /start, Ð·Ð°Ñ‚ÐµÐ¼ â€” /newbot, Ð¸ ÑÐ»ÐµÐ´Ð¾Ð¼ Ð·Ð°Ð´Ð°ÐµÐ¼ Ð¸Ð¼Ñ Ð¸ Ð°Ð´Ñ€ÐµÑ. Ð’ ÑÑ‚Ð¾Ð¹ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸ ÑÑ‚Ð¾ Ð±ÑƒÐ´ÐµÑ‚ elbrusbootcampweatherbot.
ÐŸÐ¾ÑÐ»Ðµ ÑÑ‚Ð¾Ð³Ð¾ BotFather Ð¿Ñ€Ð¸ÑˆÐ»ÐµÑ‚ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ñ Ñ‚Ð¾ÐºÐµÐ½Ð¾Ð¼ Ð¸ ÑÑÑ‹Ð»ÐºÐ¾Ð¹ Ð½Ð° Ð±Ð¾Ñ‚. ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ Ñ‚Ð¾ÐºÐµÐ½ Ð¸ Ð²ÑÑ‚Ð°Ð²Ð»ÑÐµÐ¼ ÐµÐ³Ð¾ Ð² Ñ‚Ñ€ÐµÑ‚ÑŒÑŽ ÑÑ‚Ñ€Ð¾Ñ‡ÐºÑƒ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð°: 
const bot = new Telegraf(process.env.BOT_TOKEN);
Ð”Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð½Ð°Ñ…Ð¾Ð´Ð¸Ð¼ Ð±Ð¾Ñ‚Ð° Ð² Ð¿Ð¾Ð¸ÑÐºÐµ Ð² Telegram Ð¿Ð¾ Ð¸Ð¼ÐµÐ½Ð¸. Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð±Ð¾Ñ‚ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ, Ð½Ð¾ Ð¿Ð¾ÐºÐ° Ð½Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ Ð½Ð¸ÐºÐ°ÐºÐ¸Ñ… Ð¿Ð¾Ð»ÐµÐ·Ð½Ñ‹Ñ… Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹. Ð§Ñ‚Ð¾Ð±Ñ‹ Ñ€Ð°Ð·Ð¾Ð±Ñ€Ð°Ñ‚ÑŒÑÑ, Ñ‡Ñ‚Ð¾ Ð¸Ð¼ÐµÐ½Ð½Ð¾ Ð½ÑƒÐ¶Ð½Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ, Ð¿Ð¾ÑÑ‚Ñ€Ð¾Ñ‡Ð½Ð¾ Ñ€Ð°Ð·Ð±ÐµÑ€ÐµÐ¼ ÐºÐ¾Ð´ Ð¸Ð· Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð°. 
ÐŸÐµÑ€Ð²Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ° Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚ Ð·Ð° Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸ telegraf, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð½ÐµÐ¿Ð¾ÑÑ€ÐµÐ´ÑÑ‚Ð²ÐµÐ½Ð½Ð¾ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²ÑƒÐµÑ‚ Ñ API Telegram Ð¸ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð½Ð°Ð¼ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ñ‹Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ñ‹ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Ð±Ð¾Ñ‚Ð¾Ð¼. Ð’ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¹ ÑÑ‚Ñ€Ð¾ÐºÐµ ÑÐ¾Ð·Ð´Ð°ÐµÐ¼ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ð±Ð¾Ñ‚Ð° Ð¸ ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÐ¼ ÐºÐ»ÑŽÑ‡ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº Ð½ÐµÐ¼Ñƒ. 
Ð”Ð°Ð»ÐµÐµ ÑƒÐºÐ°Ð·Ð°Ð½Ð¾, ÐºÐ°Ðº Ð±Ð¾Ñ‚ Ð±ÑƒÐ´ÐµÑ‚ Ñ€ÐµÐ°Ð³Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð½Ð° Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹: Ð¿Ñ€Ð¸ Ð½Ð°Ð¶Ð°Ñ‚Ð¸Ð¸ /start Ð¾Ð½ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ welcome, Ð¿Ñ€Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐµ ÑÑ‚Ñ€Ð¸ÐºÐµÑ€Ð° â€” ÑÐ¼Ð¾Ð´Ð·Ð¸ Ð¸ Ñ‚Ð°Ðº Ð´Ð°Ð»ÐµÐµ. ÐŸÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ Ð´Ð²Ðµ ÑÑ‚Ñ€Ð¾Ñ‡ÐºÐ¸ Ð½ÑƒÐ¶Ð½Ñ‹ Ð´Ð»Ñ Ñ‚Ð¾Ð³Ð¾, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ Ð±Ð¾Ñ‚Ð¾Ð¼ ÐºÐ¾Ð¼Ð°Ð½Ð´ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ Ð·Ð°Ð²ÐµÑ€ÑˆÐ°Ð»Ð¾ÑÑŒ Ð² Ð¾Ð±Ð»Ð°Ñ‡Ð½Ñ‹Ñ… ÑÐµÑ€Ð²Ð¸ÑÐ°Ñ…. 
Ð”Ñ€ÑƒÐ³Ð¸Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ñ‹ ÐºÑ€Ð¾Ð¼Ðµ /start Ð½Ð°Ð¼ Ð½Ðµ Ð¿Ð¾Ð½Ð°Ð´Ð¾Ð±ÑÑ‚ÑÑ, Ð¿Ð¾ÑÑ‚Ð¾Ð¼Ñƒ Ð¸Ñ… Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¼ÐµÐ»Ð¾ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ: 
const { Telegraf } = require('telegraf');

const bot = new Telegraf(process.env.BOT_TOKEN);
bot.start((ctx) => ctx.reply('Welcome'));
bot.launch();

// Enable graceful stop
process.once('SIGINT', () => bot.stop('SIGINT'));
process.once('SIGTERM', () => bot.stop('SIGTERM'));
Ð”Ð¾Ð±Ð°Ð²Ð¸Ð¼ ÑÐ¾Ð±ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ñ‹: Ð¿Ñ€Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐµ Ð³ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ð¸Ð¸ Ð±Ð¾Ñ‚ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚ Ð°ÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð¿Ñ€Ð¾Ð³Ð½Ð¾Ð·Ð¾Ð¼ Ð¿Ð¾Ð³Ð¾Ð´Ñ‹ Ð´Ð»Ñ ÑÑ‚Ð¾Ð¹ Ñ‚ÐµÑ€Ñ€Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸. ÐŸÐµÑ€Ð²Ñ‹Ð¼ Ð´ÐµÐ»Ð¾Ð¼ Ð½Ð°Ð¿Ð¸ÑˆÐµÐ¼ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¾Ñ‚ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ð¸ Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ ÐµÐ³Ð¾ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ.
bot.on ('message',(ctx) => {
  console.log('ctx.message');
} )
Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¿Ñ€Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐµ Ð±Ð¾Ñ‚Ñƒ Ð³ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ð¸Ð¸ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸ Ð¼Ñ‹ ÑƒÐ²Ð¸Ð´Ð¸Ð¼ Ð¾Ð±ÑŠÐµÐºÑ‚ location, Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ÑÑ ÑˆÐ¸Ñ€Ð¾Ñ‚Ð° Ð¸ Ð´Ð¾Ð»Ð³Ð¾Ñ‚Ð°. Ð”Ð¾Ð±Ð°Ð²Ð¸Ð¼ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÑƒ: ÐµÑÐ»Ð¸ Ð² ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ÑÑ Ð¾Ð±ÑŠÐµÐºÑ‚ location, Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð· Ð½ÐµÐ³Ð¾ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÑŽÑ‚ÑÑ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€ Ñ‡ÐµÑ€ÐµÐ· API Ð°Ð³Ñ€ÐµÐ³Ð°Ñ‚Ð¾Ñ€Ð° Ð¿Ñ€Ð¾Ð³Ð½Ð¾Ð·Ð¾Ð² Ð¿Ð¾Ð³Ð¾Ð´Ñ‹. 
bot.on ('message',(ctx) => {
  if('ctx.message.location'){
    console.log('ctx.message.location');
} )
Ð¨Ð°Ð³ Ð²Ñ‚Ð¾Ñ€Ð¾Ð¹: Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ API
ÐšÐ°Ðº Ð¸ Ð² Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐ¼ ÑÐ»ÑƒÑ‡Ð°Ðµ, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Ð¸Ð· Ð¾Ñ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸ OpenWeather. ÐÐ°Ð¼ Ð½ÑƒÐ¶Ð½Ð¾ Ð¾Ð±Ñ€Ð°Ñ‚Ð¸Ñ‚ÑŒÑÑ Ð½Ð° ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð°Ð´Ñ€ÐµÑ Ð¸ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‚ÑŒ Ñ‚ÑƒÐ´Ð° ÑˆÐ¸Ñ€Ð¾Ñ‚Ñƒ, Ð´Ð¾Ð»Ð³Ð¾Ñ‚Ñƒ Ð¸ API-ÐºÐ»ÑŽÑ‡. Ð’ Ð¾Ñ‚Ð²ÐµÑ‚ Ð¼Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ð¼ Ñ‚ÐµÐºÑƒÑ‰ÑƒÑŽ Ð¿Ð¾Ð³Ð¾Ð´Ñƒ.
Ð’ÑÑ‚Ð°Ð²Ð¸Ð¼ Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Ð² ÐºÐ¾Ð´, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ ctx.message.location Ñ ÑƒÐºÐ°Ð·Ð°Ð½Ð¸ÐµÐ¼ ÑˆÐ¸Ñ€Ð¾Ñ‚Ñ‹ Ð¸ Ð´Ð¾Ð»Ð³Ð¾Ñ‚Ñ‹:
bot.on('message', (ctx) => {
  if (ctx.message.location) {
    const weatherAPIUrl = `https://openweathermap.org/data/2.5/weather?lat=${ctx.message.location.latitude}&lon=${ctx.message.location.longitude}&appid=439d4b8O4bc8187953eb36d2a8c26a02`;
  }
});
API-ÐºÐ»ÑŽÑ‡ Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð² Ð»Ð¸Ñ‡Ð½Ð¾Ð¼ ÐºÐ°Ð±Ð¸Ð½ÐµÑ‚Ðµ Ð½Ð° ÑÐ°Ð¹Ñ‚Ðµ OpenWeather. ÐšÐ»ÑŽÑ‡ ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ ÐºÐ°Ðº Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ appid.
Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¼ ÑˆÐ°Ð³Ð¾Ð¼ Ð½ÑƒÐ¶Ð½Ð¾ Ð¾Ð±Ñ€Ð°Ñ‚Ð¸Ñ‚ÑŒÑÑ Ð¿Ð¾ Ð°Ð´Ñ€ÐµÑÑƒ, Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð½Ð¾Ð¼Ñƒ OpenWeather, Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ. Ð”Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÑƒ axios. Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸ ÑƒÐºÐ°Ð·Ð°Ð½Ð° Ð² ÐµÐµ Ð¾Ñ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸ Ð¸ Ð²Ñ‹Ð³Ð»ÑÐ´Ð¸Ñ‚ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¼ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð¼:
const axios = require('axios');
ÐŸÐ¾ÑÐºÐ¾Ð»ÑŒÐºÑƒ Ð²ÑÐµ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ ÑÐ¾ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ð½Ð¸Ð¼ ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð¼ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÑŽÑ‚ÑÑ Ð°ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾, Ð´Ð¾Ð±Ð°Ð²Ð¸Ð¼ async Ð¸ await Ð² Ð¼ÐµÑ‚Ð¾Ð´ bot.on:
bot.on('message', async (ctx) => {
  if (ctx.message.location) {
    const weatherAPIUrl = `https://openweathermap.org/data/2.5/weather?lat=${ctx.message.location.latitude}&lon=${ctx.message.location.longitude}&appid=439d4b8O4bc8187953eb36d2a8c26a02`;
    const response = await axios.get(weatherAPIUrl);
  }
});
Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¿Ñ€Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐµ Ð±Ð¾Ñ‚Ñƒ Ð³ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ð¸Ð¸ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸ Ð¼Ñ‹ ÑƒÐ²Ð¸Ð´Ð¸Ð¼ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð¾ Ð¿Ð¾Ð³Ð¾Ð´Ðµ Ð² Ñ‚ÐµÐºÑƒÑ‰ÐµÐ¼ Ð¼ÐµÑÑ‚Ðµ Ñ€Ð°ÑÐ¿Ð¾Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ. ÐžÑÑ‚Ð°ÐµÑ‚ÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÑ„Ð¾Ñ€Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð±Ð¾Ñ‚ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŽ Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ Ð¾Ñ‚Ð²ÐµÑ‚Ð°. Ð’ Ñ‚ÐµÐºÑÑ‚Ðµ ÑƒÐºÐ°Ð¶ÐµÐ¼ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ñ€Ð°Ð¹Ð¾Ð½Ð° Ð¸ Ñ‚ÐµÐ¼Ð¿ÐµÑ€Ð°Ñ‚ÑƒÑ€Ñƒ Ð² Ð³Ñ€Ð°Ð´ÑƒÑÐ°Ñ… Ð¦ÐµÐ»ÑŒÑÐ¸Ñ:
ctx.reply(`${response.data.name}: ${response.data.weather[0].main} ${response.data.main.temp} Â°C`);
Ð—Ð°ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ
ÐÐ° ÑÑ‚Ð¾Ð¼ Ð²ÑÐµ: Ð¸Ñ‚Ð¾Ð³Ð¾Ð²Ñ‹Ð¹ ÐºÐ¾Ð´ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° Ð¼Ð¾Ð¶Ð½Ð¾ Ð½Ð°Ð¹Ñ‚Ð¸ Ð² Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸ Ð½Ð° GitHub.
ÐŸÑ€Ð¸ Ð¶ÐµÐ»Ð°Ð½Ð¸Ð¸ Ð¼Ð¾Ð¶Ð½Ð¾ ÑƒÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð±Ð¾Ñ‚ Ð±ÑƒÐ´ÐµÑ‚ Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ Ð² ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¸. ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð¾Ð±Ð»Ð°Ñ‡Ð½Ð¾ Ð½Ð° ÑƒÐ»Ð¸Ñ†Ðµ Ð¸Ð»Ð¸ ÑÐ¾Ð»Ð½ÐµÑ‡Ð½Ð¾, ÐµÑÑ‚ÑŒ Ð¾ÑÐ°Ð´ÐºÐ¸ Ð¸Ð»Ð¸ Ð½ÐµÑ‚ Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ðµ. Ð¢Ð°ÐºÐ¶Ðµ Ðº Ð±Ð¾Ñ‚Ñƒ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ñ‡Ð¸ÐºÐ° Ð¸ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð¸Ñ‚ÑŒ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ Ð¿Ð¾Ð³Ð¾Ð´Ñ‹ Ð½Ð° Ñ€ÑƒÑÑÐºÐ¸Ð¹ ÑÐ·Ñ‹Ðº.  ÐŸÑ€Ð¸Ð²ÐµÑ‚, Ð¥Ð°Ð±Ñ€! Ð­Ñ‚Ñƒ ÑÑ‚Ð°Ñ‚ÑŒÑŽ Ð½Ð°Ð¿Ð¸ÑÐ°Ð» Ð¢Ð°Ñ€Ð°Ñ Ð“Ð¾Ð»Ð¾Ð¼Ð¾Ð·Ñ‹Ð¹, fullstack web-Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº Ð¸ Ð¿Ñ€ÐµÐ¿Ð¾Ð´Ð°Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð² ÑˆÐºÐ¾Ð»Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Elbrus Bootcamp. Ð¥Ð¾Ñ‚Ñ Ð¿Ñ€Ð¾ Ð±Ð¾Ñ‚Ð¾Ð² Ñ€Ð°ÑÑÐºÐ°Ð·Ð°Ð½Ð¾ ÑƒÐ¶Ðµ Ð½ÐµÐ¼Ð°Ð»Ð¾, ÑÑ‚Ð° Ñ‚ÐµÐ¼Ð° Ð¿Ð¾-Ð¿Ñ€ÐµÐ¶Ð½ÐµÐ¼Ñƒ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÑƒÐµÑ‚ Ð½Ð°Ñ‡Ð¸Ð½Ð°ÑŽÑ‰Ð¸Ñ… Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¾Ð², â€” Ð¸ Ð¾Ð¿Ñ‹Ñ‚ Ð½Ð°ÑˆÐ¸Ñ… ÑÑ‚ÑƒÐ´ÐµÐ½Ñ‚Ð¾Ð² ÑÑ‚Ð¾ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´Ð°ÐµÑ‚. ÐŸÐ¾Ð·Ð²Ð¾Ð»Ð¸Ð¼ ÑÐµÐ±Ðµ Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÐµÑ‰Ðµ Ð¾Ð´Ð½Ñƒ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸ÑŽ Ð¿Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸ÑŽ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð³Ð¾ Ð±Ð¾Ñ‚Ð° Ð½Ð° JavaScript Ñ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒÑŽ Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»Ð°. Ð’ Ð±Ð°Ð·Ð¾Ð²Ð¾Ð¼ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ðµ ÐµÐ³Ð¾ Ð·Ð°Ð´Ð°Ñ‡Ð° â€” Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°Ñ‚ÑŒ Ñ‚ÐµÐºÑƒÑ‰ÑƒÑŽ Ð¿Ð¾Ð³Ð¾Ð´Ñƒ Ð¿Ð¾ Ð³ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ð¸Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ.   ÐŸÐ°Ñ€Ñƒ ÑÐ»Ð¾Ð² Ð¾Ð± ÑƒÑ€Ð¾Ð²Ð½Ðµ Ð·Ð½Ð°Ð½Ð¸Ð¹, Ð½Ð° ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ñ€Ð°ÑÑÑ‡Ð¸Ñ‚Ð°Ð½ ÑÑ‚Ð¾Ñ‚ Ñ‚ÐµÐºÑÑ‚. Ð”Ð»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð±Ð¾Ñ‚Ð° Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð¸Ð¼ÐµÑ‚ÑŒ Ð±Ð°Ð·Ð¾Ð²Ð¾Ðµ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¾ JavaScript, Ð° Ñ‚Ð°ÐºÐ¶Ðµ Ð·Ð½Ð°Ñ‚ÑŒ, ÐºÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ API. ÐŸÐµÑ€ÐµÐ´ Ð½Ð°Ñ‡Ð°Ð»Ð¾Ð¼ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð½ÑƒÐ¶Ð½Ð¾ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÑƒ telegraf.js, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð½Ð° Ð±Ð°Ð·Ðµ Ð¾Ñ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ API Telegram, Ð¸ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÑƒ Ð´Ð»Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ HTTP-Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, axios).  Ð¨Ð°Ð³ Ð¿ÐµÑ€Ð²Ñ‹Ð¹: Ð±Ð°Ð·Ð¾Ð²Ñ‹Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð» ÐžÑ‚ÐºÑ€Ð¾ÐµÐ¼ Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€ ÐºÐ¾Ð´Ð° Ð¸ Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÐ¼ Ð¿Ñ€Ð¾ÐµÐºÑ‚ Ñ‡ÐµÑ€ÐµÐ· Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð» Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ npm -y. ÐŸÐ¾ÑÐ»Ðµ ÑÑ‚Ð¾Ð³Ð¾ Ð² Ð¿Ñ€Ð¾ÐµÐºÑ‚Ðµ Ð¿Ð¾ÑÐ²Ð¸Ñ‚ÑÑ Ñ„Ð°Ð¹Ð» package.json. Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¼Ñ‹ Ð¼Ð¾Ð¶ÐµÐ¼ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð²ÑÐµ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ñ‹Ðµ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¾Ð¹ npm i, Ð¿Ð¾ÑÐ»Ðµ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¹ Ñ‡ÐµÑ€ÐµÐ· Ð¿Ñ€Ð¾Ð±ÐµÐ» Ð¿Ñ€Ð¾Ð¿Ð¸ÑÑ‹Ð²Ð°ÑŽÑ‚ÑÑ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ñ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ñ‹Ñ… Ð½Ð°Ð¼ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐº. Ð’ÑÐµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ñ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð² Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸: Ð² ÑÑ‚Ð¾Ð¼ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ðµ ÑÑ‚Ð¾ Ð±ÑƒÐ´ÑƒÑ‚ telegraf Ð¸ axios.  Ð¡Ñ‚Ð¾Ð¸Ñ‚ Ð¾Ñ‚Ð¼ÐµÑ‚Ð¸Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾ API Ð¿Ð¾Ð³Ð¾Ð´Ñ‹ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ð¾ ÑƒÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°Ñ‚ÑŒ Ð½Ðµ Ð½ÑƒÐ¶Ð½Ð¾ â€” Ð¾Ð½Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð¿Ð¾ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ðµ ÐºÐ»Ð¸ÐµÐ½Ñ‚-ÑÐµÑ€Ð²ÐµÑ€, Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÑŒ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹.  ÐŸÐ¾ÐºÐ° ÑƒÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÑŽÑ‚ÑÑ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸, Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸ÑŽ Ðº Ð½Ð¸Ð¼. Ð£ telegraf.js ÐµÑÑ‚ÑŒ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð¾Ð² Ð³Ð¾Ñ‚Ð¾Ð²Ð¾Ð³Ð¾ Ð±Ð¾Ñ‚Ð°. ÐœÐ¾Ð¶Ð½Ð¾ Ð²Ð·ÑÑ‚ÑŒ Ð¿ÐµÑ€Ð²Ñ‹Ð¹ Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Ð¸ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ, ÐºÐ°Ðº Ð¾Ð½ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚.  ÐµÑÑ‚ÑŒ ÐµÑÑ‚ÑŒ Ð”Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ ÑÐ¾Ð·Ð´Ð°Ð´Ð¸Ð¼ Ð½Ð¾Ð²Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» Ñ Ð¸Ð¼ÐµÐ½ÐµÐ¼ bot.js Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð¸Ð¼ Ð² Ð½ÐµÐ³Ð¾ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ ÐºÐ¾Ð´:  const { Telegraf } = require('telegraf');

const bot = new Telegraf(process.env.BOT_TOKEN);
bot.start((ctx) => ctx.reply('Welcome'));
bot.help((ctx) => ctx.reply('Send me a sticker'));
bot.on('sticker', (ctx) => ctx.reply('ðŸ‘'));
bot.hears('hi', (ctx) => ctx.reply('Hey there'));
bot.launch();

// Enable graceful stop
process.once('SIGINT', () => bot.stop('SIGINT'));
process.once('SIGTERM', () => bot.stop('SIGTERM')); const { Telegraf } = require('telegraf');

const bot = new Telegraf(process.env.BOT_TOKEN);
bot.start((ctx) => ctx.reply('Welcome'));
bot.help((ctx) => ctx.reply('Send me a sticker'));
bot.on('sticker', (ctx) => ctx.reply('ðŸ‘'));
bot.hears('hi', (ctx) => ctx.reply('Hey there'));
bot.launch();

// Enable graceful stop
process.once('SIGINT', () => bot.stop('SIGINT'));
process.once('SIGTERM', () => bot.stop('SIGTERM')); Ð’ package.json Ð¿Ñ€Ð¾Ð¿Ð¸ÑˆÐµÐ¼ ÑÑ‚Ð°Ñ€Ñ‚Ð¾Ð²Ñ‹Ð¹ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð´Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ð°. Ð”Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð² Ñ€Ð°Ð·Ð´ÐµÐ»Ðµ scripts Ð´Ð¾Ð±Ð°Ð²Ð¸Ð¼ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¿ÑƒÐ½ÐºÑ‚ ÑÐ¾ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¼ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ð½Ð¸ÐµÐ¼:  "start": "node bot.js" "start": "node bot.js" Ð•ÑÐ»Ð¸ Ð¼Ñ‹ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ð¼ Ð¿Ñ€Ð¾ÐµÐºÑ‚ Ð² Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð»Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¾Ð¹ npm start, Ñ‚Ð¾ ÑƒÐ²Ð¸Ð´Ð¸Ð¼ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ â€Bot token is requiredâ€. ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ñ‚Ð¾ÐºÐµÐ½ Ð¼Ð¾Ð¶Ð½Ð¾ Ñ‡ÐµÑ€ÐµÐ· Telegram BotFather â€” Ð¾Ñ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð±Ð¾Ñ‚Ð° Ð¼ÐµÑÑÐµÐ½Ð´Ð¶ÐµÑ€Ð°, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ ÑÐ¾Ð·Ð´Ð°ÐµÑ‚ Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð±Ð¾Ñ‚Ñ‹ Ð¸ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ Ð¸Ð¼Ð¸. Ð’ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐµ Ð²Ñ‹Ð±Ð¸Ñ€Ð°ÐµÐ¼ /start, Ð·Ð°Ñ‚ÐµÐ¼ â€” /newbot, Ð¸ ÑÐ»ÐµÐ´Ð¾Ð¼ Ð·Ð°Ð´Ð°ÐµÐ¼ Ð¸Ð¼Ñ Ð¸ Ð°Ð´Ñ€ÐµÑ. Ð’ ÑÑ‚Ð¾Ð¹ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸ ÑÑ‚Ð¾ Ð±ÑƒÐ´ÐµÑ‚ elbrusbootcampweatherbot. BotFather BotFather ÐŸÐ¾ÑÐ»Ðµ ÑÑ‚Ð¾Ð³Ð¾ BotFather Ð¿Ñ€Ð¸ÑˆÐ»ÐµÑ‚ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ñ Ñ‚Ð¾ÐºÐµÐ½Ð¾Ð¼ Ð¸ ÑÑÑ‹Ð»ÐºÐ¾Ð¹ Ð½Ð° Ð±Ð¾Ñ‚. ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ Ñ‚Ð¾ÐºÐµÐ½ Ð¸ Ð²ÑÑ‚Ð°Ð²Ð»ÑÐµÐ¼ ÐµÐ³Ð¾ Ð² Ñ‚Ñ€ÐµÑ‚ÑŒÑŽ ÑÑ‚Ñ€Ð¾Ñ‡ÐºÑƒ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð°:  const bot = new Telegraf(process.env.BOT_TOKEN); const bot = new Telegraf(process.env.BOT_TOKEN); Ð”Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð½Ð°Ñ…Ð¾Ð´Ð¸Ð¼ Ð±Ð¾Ñ‚Ð° Ð² Ð¿Ð¾Ð¸ÑÐºÐµ Ð² Telegram Ð¿Ð¾ Ð¸Ð¼ÐµÐ½Ð¸. Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð±Ð¾Ñ‚ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ, Ð½Ð¾ Ð¿Ð¾ÐºÐ° Ð½Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ Ð½Ð¸ÐºÐ°ÐºÐ¸Ñ… Ð¿Ð¾Ð»ÐµÐ·Ð½Ñ‹Ñ… Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹. Ð§Ñ‚Ð¾Ð±Ñ‹ Ñ€Ð°Ð·Ð¾Ð±Ñ€Ð°Ñ‚ÑŒÑÑ, Ñ‡Ñ‚Ð¾ Ð¸Ð¼ÐµÐ½Ð½Ð¾ Ð½ÑƒÐ¶Ð½Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ, Ð¿Ð¾ÑÑ‚Ñ€Ð¾Ñ‡Ð½Ð¾ Ñ€Ð°Ð·Ð±ÐµÑ€ÐµÐ¼ ÐºÐ¾Ð´ Ð¸Ð· Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð°.  ÐŸÐµÑ€Ð²Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ° Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚ Ð·Ð° Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸ telegraf, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð½ÐµÐ¿Ð¾ÑÑ€ÐµÐ´ÑÑ‚Ð²ÐµÐ½Ð½Ð¾ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²ÑƒÐµÑ‚ Ñ API Telegram Ð¸ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð½Ð°Ð¼ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ñ‹Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ñ‹ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Ð±Ð¾Ñ‚Ð¾Ð¼. Ð’ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¹ ÑÑ‚Ñ€Ð¾ÐºÐµ ÑÐ¾Ð·Ð´Ð°ÐµÐ¼ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ð±Ð¾Ñ‚Ð° Ð¸ ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÐ¼ ÐºÐ»ÑŽÑ‡ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº Ð½ÐµÐ¼Ñƒ.  Ð”Ð°Ð»ÐµÐµ ÑƒÐºÐ°Ð·Ð°Ð½Ð¾, ÐºÐ°Ðº Ð±Ð¾Ñ‚ Ð±ÑƒÐ´ÐµÑ‚ Ñ€ÐµÐ°Ð³Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð½Ð° Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹: Ð¿Ñ€Ð¸ Ð½Ð°Ð¶Ð°Ñ‚Ð¸Ð¸ /start Ð¾Ð½ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ welcome, Ð¿Ñ€Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐµ ÑÑ‚Ñ€Ð¸ÐºÐµÑ€Ð° â€” ÑÐ¼Ð¾Ð´Ð·Ð¸ Ð¸ Ñ‚Ð°Ðº Ð´Ð°Ð»ÐµÐµ. ÐŸÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ Ð´Ð²Ðµ ÑÑ‚Ñ€Ð¾Ñ‡ÐºÐ¸ Ð½ÑƒÐ¶Ð½Ñ‹ Ð´Ð»Ñ Ñ‚Ð¾Ð³Ð¾, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ Ð±Ð¾Ñ‚Ð¾Ð¼ ÐºÐ¾Ð¼Ð°Ð½Ð´ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ Ð·Ð°Ð²ÐµÑ€ÑˆÐ°Ð»Ð¾ÑÑŒ Ð² Ð¾Ð±Ð»Ð°Ñ‡Ð½Ñ‹Ñ… ÑÐµÑ€Ð²Ð¸ÑÐ°Ñ….  Ð”Ñ€ÑƒÐ³Ð¸Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ñ‹ ÐºÑ€Ð¾Ð¼Ðµ /start Ð½Ð°Ð¼ Ð½Ðµ Ð¿Ð¾Ð½Ð°Ð´Ð¾Ð±ÑÑ‚ÑÑ, Ð¿Ð¾ÑÑ‚Ð¾Ð¼Ñƒ Ð¸Ñ… Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¼ÐµÐ»Ð¾ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ:  const { Telegraf } = require('telegraf');

const bot = new Telegraf(process.env.BOT_TOKEN);
bot.start((ctx) => ctx.reply('Welcome'));
bot.launch();

// Enable graceful stop
process.once('SIGINT', () => bot.stop('SIGINT'));
process.once('SIGTERM', () => bot.stop('SIGTERM')); const { Telegraf } = require('telegraf');

const bot = new Telegraf(process.env.BOT_TOKEN);
bot.start((ctx) => ctx.reply('Welcome'));
bot.launch();

// Enable graceful stop
process.once('SIGINT', () => bot.stop('SIGINT'));
process.once('SIGTERM', () => bot.stop('SIGTERM')); Ð”Ð¾Ð±Ð°Ð²Ð¸Ð¼ ÑÐ¾Ð±ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ñ‹: Ð¿Ñ€Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐµ Ð³ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ð¸Ð¸ Ð±Ð¾Ñ‚ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚ Ð°ÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð¿Ñ€Ð¾Ð³Ð½Ð¾Ð·Ð¾Ð¼ Ð¿Ð¾Ð³Ð¾Ð´Ñ‹ Ð´Ð»Ñ ÑÑ‚Ð¾Ð¹ Ñ‚ÐµÑ€Ñ€Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸. ÐŸÐµÑ€Ð²Ñ‹Ð¼ Ð´ÐµÐ»Ð¾Ð¼ Ð½Ð°Ð¿Ð¸ÑˆÐµÐ¼ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¾Ñ‚ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ð¸ Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ ÐµÐ³Ð¾ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ. bot.on ('message',(ctx) => {
  console.log('ctx.message');
} ) bot.on ('message',(ctx) => {
  console.log('ctx.message');
} ) Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¿Ñ€Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐµ Ð±Ð¾Ñ‚Ñƒ Ð³ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ð¸Ð¸ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸ Ð¼Ñ‹ ÑƒÐ²Ð¸Ð´Ð¸Ð¼ Ð¾Ð±ÑŠÐµÐºÑ‚ location, Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ÑÑ ÑˆÐ¸Ñ€Ð¾Ñ‚Ð° Ð¸ Ð´Ð¾Ð»Ð³Ð¾Ñ‚Ð°. Ð”Ð¾Ð±Ð°Ð²Ð¸Ð¼ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÑƒ: ÐµÑÐ»Ð¸ Ð² ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ÑÑ Ð¾Ð±ÑŠÐµÐºÑ‚ location, Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð· Ð½ÐµÐ³Ð¾ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÑŽÑ‚ÑÑ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€ Ñ‡ÐµÑ€ÐµÐ· API Ð°Ð³Ñ€ÐµÐ³Ð°Ñ‚Ð¾Ñ€Ð° Ð¿Ñ€Ð¾Ð³Ð½Ð¾Ð·Ð¾Ð² Ð¿Ð¾Ð³Ð¾Ð´Ñ‹.  bot.on ('message',(ctx) => {
  if('ctx.message.location'){
    console.log('ctx.message.location');
} ) bot.on ('message',(ctx) => {
  if('ctx.message.location'){
    console.log('ctx.message.location');
} ) Ð¨Ð°Ð³ Ð²Ñ‚Ð¾Ñ€Ð¾Ð¹: Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ API ÐšÐ°Ðº Ð¸ Ð² Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐ¼ ÑÐ»ÑƒÑ‡Ð°Ðµ, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Ð¸Ð· Ð¾Ñ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸ OpenWeather. ÐÐ°Ð¼ Ð½ÑƒÐ¶Ð½Ð¾ Ð¾Ð±Ñ€Ð°Ñ‚Ð¸Ñ‚ÑŒÑÑ Ð½Ð° ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð°Ð´Ñ€ÐµÑ Ð¸ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‚ÑŒ Ñ‚ÑƒÐ´Ð° ÑˆÐ¸Ñ€Ð¾Ñ‚Ñƒ, Ð´Ð¾Ð»Ð³Ð¾Ñ‚Ñƒ Ð¸ API-ÐºÐ»ÑŽÑ‡. Ð’ Ð¾Ñ‚Ð²ÐµÑ‚ Ð¼Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ð¼ Ñ‚ÐµÐºÑƒÑ‰ÑƒÑŽ Ð¿Ð¾Ð³Ð¾Ð´Ñƒ. Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Ð’ÑÑ‚Ð°Ð²Ð¸Ð¼ Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Ð² ÐºÐ¾Ð´, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ ctx.message.location Ñ ÑƒÐºÐ°Ð·Ð°Ð½Ð¸ÐµÐ¼ ÑˆÐ¸Ñ€Ð¾Ñ‚Ñ‹ Ð¸ Ð´Ð¾Ð»Ð³Ð¾Ñ‚Ñ‹: bot.on('message', (ctx) => {
  if (ctx.message.location) {
    const weatherAPIUrl = `https://openweathermap.org/data/2.5/weather?lat=${ctx.message.location.latitude}&lon=${ctx.message.location.longitude}&appid=439d4b8O4bc8187953eb36d2a8c26a02`;
  }
}); bot.on('message', (ctx) => {
  if (ctx.message.location) {
    const weatherAPIUrl = `https://openweathermap.org/data/2.5/weather?lat=${ctx.message.location.latitude}&lon=${ctx.message.location.longitude}&appid=439d4b8O4bc8187953eb36d2a8c26a02`;
  }
}); API-ÐºÐ»ÑŽÑ‡ Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð² Ð»Ð¸Ñ‡Ð½Ð¾Ð¼ ÐºÐ°Ð±Ð¸Ð½ÐµÑ‚Ðµ Ð½Ð° ÑÐ°Ð¹Ñ‚Ðµ OpenWeather. ÐšÐ»ÑŽÑ‡ ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ ÐºÐ°Ðº Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ appid. Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¼ ÑˆÐ°Ð³Ð¾Ð¼ Ð½ÑƒÐ¶Ð½Ð¾ Ð¾Ð±Ñ€Ð°Ñ‚Ð¸Ñ‚ÑŒÑÑ Ð¿Ð¾ Ð°Ð´Ñ€ÐµÑÑƒ, Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð½Ð¾Ð¼Ñƒ OpenWeather, Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ. Ð”Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÑƒ axios. Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸ ÑƒÐºÐ°Ð·Ð°Ð½Ð° Ð² ÐµÐµ Ð¾Ñ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸ Ð¸ Ð²Ñ‹Ð³Ð»ÑÐ´Ð¸Ñ‚ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¼ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð¼: Ð¾Ñ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸ Ð¾Ñ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸ const axios = require('axios'); const axios = require('axios'); ÐŸÐ¾ÑÐºÐ¾Ð»ÑŒÐºÑƒ Ð²ÑÐµ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ ÑÐ¾ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ð½Ð¸Ð¼ ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð¼ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÑŽÑ‚ÑÑ Ð°ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾, Ð´Ð¾Ð±Ð°Ð²Ð¸Ð¼ async Ð¸ await Ð² Ð¼ÐµÑ‚Ð¾Ð´ bot.on: bot.on('message', async (ctx) => {
  if (ctx.message.location) {
    const weatherAPIUrl = `https://openweathermap.org/data/2.5/weather?lat=${ctx.message.location.latitude}&lon=${ctx.message.location.longitude}&appid=439d4b8O4bc8187953eb36d2a8c26a02`;
    const response = await axios.get(weatherAPIUrl);
  }
}); bot.on('message', async (ctx) => {
  if (ctx.message.location) {
    const weatherAPIUrl = `https://openweathermap.org/data/2.5/weather?lat=${ctx.message.location.latitude}&lon=${ctx.message.location.longitude}&appid=439d4b8O4bc8187953eb36d2a8c26a02`;
    const response = await axios.get(weatherAPIUrl);
  }
}); Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¿Ñ€Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐµ Ð±Ð¾Ñ‚Ñƒ Ð³ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ð¸Ð¸ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸ Ð¼Ñ‹ ÑƒÐ²Ð¸Ð´Ð¸Ð¼ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð¾ Ð¿Ð¾Ð³Ð¾Ð´Ðµ Ð² Ñ‚ÐµÐºÑƒÑ‰ÐµÐ¼ Ð¼ÐµÑÑ‚Ðµ Ñ€Ð°ÑÐ¿Ð¾Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ. ÐžÑÑ‚Ð°ÐµÑ‚ÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÑ„Ð¾Ñ€Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð±Ð¾Ñ‚ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŽ Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ Ð¾Ñ‚Ð²ÐµÑ‚Ð°. Ð’ Ñ‚ÐµÐºÑÑ‚Ðµ ÑƒÐºÐ°Ð¶ÐµÐ¼ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ñ€Ð°Ð¹Ð¾Ð½Ð° Ð¸ Ñ‚ÐµÐ¼Ð¿ÐµÑ€Ð°Ñ‚ÑƒÑ€Ñƒ Ð² Ð³Ñ€Ð°Ð´ÑƒÑÐ°Ñ… Ð¦ÐµÐ»ÑŒÑÐ¸Ñ: ctx.reply(`${response.data.name}: ${response.data.weather[0].main} ${response.data.main.temp} Â°C`); ctx.reply(`${response.data.name}: ${response.data.weather[0].main} ${response.data.main.temp} Â°C`); Ð—Ð°ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ ÐÐ° ÑÑ‚Ð¾Ð¼ Ð²ÑÐµ: Ð¸Ñ‚Ð¾Ð³Ð¾Ð²Ñ‹Ð¹ ÐºÐ¾Ð´ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° Ð¼Ð¾Ð¶Ð½Ð¾ Ð½Ð°Ð¹Ñ‚Ð¸ Ð² Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸ Ð½Ð° GitHub. Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸ ÐŸÑ€Ð¸ Ð¶ÐµÐ»Ð°Ð½Ð¸Ð¸ Ð¼Ð¾Ð¶Ð½Ð¾ ÑƒÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð±Ð¾Ñ‚ Ð±ÑƒÐ´ÐµÑ‚ Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ Ð² ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¸. ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð¾Ð±Ð»Ð°Ñ‡Ð½Ð¾ Ð½Ð° ÑƒÐ»Ð¸Ñ†Ðµ Ð¸Ð»Ð¸ ÑÐ¾Ð»Ð½ÐµÑ‡Ð½Ð¾, ÐµÑÑ‚ÑŒ Ð¾ÑÐ°Ð´ÐºÐ¸ Ð¸Ð»Ð¸ Ð½ÐµÑ‚ Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ðµ. Ð¢Ð°ÐºÐ¶Ðµ Ðº Ð±Ð¾Ñ‚Ñƒ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ñ‡Ð¸ÐºÐ° Ð¸ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð¸Ñ‚ÑŒ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ Ð¿Ð¾Ð³Ð¾Ð´Ñ‹ Ð½Ð° Ñ€ÑƒÑÑÐºÐ¸Ð¹ ÑÐ·Ñ‹Ðº.  ]]></text>
</doc>
