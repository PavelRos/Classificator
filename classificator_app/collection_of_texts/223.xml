<?xml version="1.0" ?>
<doc>
	<original_author auto="true" type="list" verify="true">
		<item type="str"><![CDATA[Mike Puchol]]></item>
	</original_author>
	<label auto="true" type="str" verify="true"><![CDATA[Develop]]></label>
	<author auto="true" type="list" verify="true">
		<item type="str"><![CDATA[Bright_Translate]]></item>
	</author>
	<date auto="true" type="str" verify="true"><![CDATA[2022-12-11, 13:00]]></date>
	<link auto="true" type="str" verify="true"><![CDATA[https://habr.com/ru/company/ruvds/blog/704580/]]></link>
	<title auto="true" type="str" verify="true"><![CDATA[Моделирование возможностей связи комплекса Starlink]]></title>
	<categories auto="true" type="list" verify="true">
		<item type="str"><![CDATA[Блог компании RUVDS.com]]></item>
		<item type="str"><![CDATA[Беспроводные технологии]]></item>
		<item type="str"><![CDATA[Разработка систем связи]]></item>
		<item type="str"><![CDATA[Космонавтика]]></item>
	</categories>
	<key_words auto="true" type="list" verify="true">
		<item type="str"><![CDATA[ruvds_перевод]]></item>
		<item type="str"><![CDATA[спутниковая связь]]></item>
		<item type="str"><![CDATA[starlink]]></item>
		<item type="str"><![CDATA[tdm]]></item>
		<item type="str"><![CDATA[распределение луча]]></item>
	</key_words>
	<text auto="true" type="str" verify="true"><![CDATA[starlink.sx v0.1 pre-pre-alpha

Прошло 18 месяцев с того момента, как я запустил свой проект starlink.sx, в первую очередь нацеленный на расширение моего понимания принципов работы комплекса Starlink от SpaceX, а также изучение возможностей его применения в Кении. В этой стране мой стартап – Poa Internet – предлагает доступный широкополосный доступ непривилегированным сообществам, используя фиксированный беспроводной доступ (FWA). Учитывая отсутствие хорошей оптоволоконной структуры в большей части Африки, использование Starlink в качестве транзитного соединения для распределения FWA выглядит вполне годным.

И хотя я ожидал, что это будет короткий проект на пару-тройку месяцев, судя по моему трекеру Loon вскоре стало ясно, что запуск низкоорбитального (LEO) комплекса на негеостационарной орбите (NGSO) сопряжён со множеством областей – не только с аэрокосмической инженерией, орбитальной механикой или беспроводными коммуникациями, но также с юридическими, финансовыми, регуляторными нюансами и прочим. Мне предстоял непростой путь.

Сегодня я выпустил v2.0 сайта, впервые предложив возможность моделирования потенциальных мощностей для обслуживания потребителей в выбранной стране.



Большие и жирные оговорки по статье

Ниже я пояснил основные нюансы этого первого релиза. Некоторые из них я устраню в последующих обновлениях, а некоторые останутся, так как зависят от закрытой информации, которую SpaceX может никогда не раскрыть.

Я запрещаю любой организации или субъекту ссылаться на эту статью или результаты, полученные с помощью моей симуляции, включая их в документы, подаваемые в регулирующие органы под любой юрисдикцией. Если вам интересен пример того, как делать не надо, прочтите письмо (англ.) Джонатана МакДауэлла к Федеральной комиссии связи (FCC), в котором он просит исправить ошибочные толкования его работы в документах, поданных Viasat против SpaceX. При этом вопросы, предложения и обратную связь я приветствую.
Эта симуляция предназначена для изучения влияния различных техник на возможности предоставления услуг. Она не выражает квалифицированного мнения о фактических возможностях обслуживания, предлагаемых Starlink сегодня, или его потенциале для изменений.
Некоторые результаты в сравнении с реальностью окажутся очень оптимистичными, другие, наоборот, печальными. Оптимистичные связаны с тем, что моделирование выполняется единовременно только для одной страны, хотя в реальности спутниковые ресурсы необходимо будет делить с соседними странами. Пессимистичность же отражается тем фактом, что Starlink мог бы предоставлять услуги с внутриорбитальных свободных спутников, которые я не учитываю, вместо придержания их в резерве на случаи сбоев.
Симуляция изучает только возможности скачивания.
Для выполнения одного измерительного сеанса могут потребоваться объёмные вычисления, задействующие значительный ресурс CPU и надолго блокирующие браузер. Для большой страны с 30,000 ячеек, обслуживаемых 150 спутниками, каждый из которых имеет 48 остронаправленных лучей, может потребоваться вплоть до 216 миллионов вычислений.

Краткое вступление по возможностям Starlink

Для того чтобы симулировать мощности и потенциал обслуживания комплекса Starlink необходимо понять, из чего строятся возможности спутников и наземного сегмента. Ниже приведена упрощённая схема компонентов этой системы.



Начиная с клиентской стороны — Starlink предоставляет пользовательские терминалы (UT), обычно называемые Dishy и представляющие собой антенны под электронным управлением (ESA) с моторами для механизированной подстройки азимута/высоты. UT задействует технологию фазированных решёток для формирования исходящего (uplink) и входящего (downlink) луча в Ku-диапазоне (от 12 до 24 Ггц), нацеленного на обслуживающий ячейку спутник. Для разделения территорий Starlink использует гексагональную систему ячеек Uber, которую можно посмотреть в действии здесь. Спутники, в свою очередь, также используют EAS для проецирования остронаправленного луча и передачи трафика к шлюзу (GW), используя две параболических антенны Ка-диапазона (от 27 до 40 Ггц) в карданном подвесе. Каждый шлюз обычно оборудован девятью антеннами в конфигурациях: 3х3, 4 и 5 (в две линии) или 1х9.


Типичная конфигурация 3x3 в Турции

Восемь антенн активны, а одна остаётся наготове в запасе. Получается, что шлюз может полноценно обслуживать четыре спутника. В свою очередь, шлюзы подключаются к точкам присутствия (POP) через оптоволокно, проводящее трафик в магистраль Internet.

▍ Возможности спутников

Из публично доступной информации, например, документов FCC, AMAS и прочих статей, известно, что каждый спутник оснащён четырьмя ESA в Ku-диапазоне – одна для исходящей связи, три для входящей. При этом каждая его антенна может проецировать восемь лучей в двух поляризациях (RHCP/LHCP), давая в общей сложности 48 входящих лучей и 16 исходящих. Соотношение входящие/исходящие получается равным 75/25. Максимальная пропускная способность, доступная Starlink в Ku-диапазоне, составляет 8 входящих каналов по 250МГц (всего 2ГГц) и 8 исходящих по 62.5МГц (всего 500МГц).


Фото: SpaceX starlink.com/technology

▍ Пропускная способность шлюза

Две параболические антенны Ka-диапазона при совместном подключении к шлюзу могут обеспечить пропускную способность в районе 20ГБ/с. Каждой антенне шлюза доступно не более 4 исходящих каналов по 500МГц (всего 2ГГц) и 5 входящих по 250МГц (всего 1.25ГГц).


Типичная антенна шлюза. Фото: /u/diadumenianus с Reddit

▍ Оптические межспутниковые линии связи (ISL)

Недавним апгрейдом спутников Starlink начиная с v1.5 от июня 2021, стали оптические межспутниковые линии связи. Каждый спутник оснащён тремя оптическими головками, использующими лазер для связи с другими спутниками в одной плоскости и между плоскостей, как показано ниже.



В описанном выше сценарии к шлюзу подключён один спутник. Остальные не имеют к нему прямого подключения, но используют внутриплоскостной и межплоскостной ISL для перенаправления трафика, в связи с чем способны обслуживать UT, которые в ином случае оказались бы вне зоны покрытия. В Starlink разместили снимок этих ISL-головок:


Фото: SpaceX starlink.com/technology

Нюанс: ISL не является панацеей. Вам по-прежнему нужно куда-то разгружать трафик. Таким образом, если одна плоскость с 20 спутниками использует один шлюз, каждый из этих спутников будет иметь сбалансированную мощность, равную 5% от той, что имел бы отдельный спутник. В Ка- и V/E-диапазонах доступен небольшой спектр, в связи с чем вырисовывается терагерцовый разрыв.

Прогноз: Starlink и прочие масштабные комплексы NGSO в конечном счёте для предоставления необходимых мощностей будут вынуждены перейти на использование оптических шлюзов.

Пределы и ограничения

Существует ряд наложенных регуляторами ограничений, которые снижают качество предоставляемого Starlink обслуживания.

▍ Повторное использование частоты и межчастотные остронаправленные лучи

Любой спутник, излучающий радиочастотную энергию (РЧ) в сторону Земли, должен соответствовать ограничениям мощности получателя, которая измеряется как эквивалентная плотность потока мощности (EPFD) и устанавливается в основном Международным союзом радиосвязи (ITU). Мощность остронаправленных лучей, которые имеют общую частоту, и зоны покрытия которых пересекаются, является аддитивной, в связи с чем для вписывания в ограничения мощность передачи каждого луча необходимо уменьшать. Starlink вынужден использовать Nco=1 (по одному межчастотному лучу для одной ячейки). По сути, это означает, что одновременно на одну ячейку можно спроецировать только восемь остронаправленных лучей без их наложения. Это оказывает значительное влияние на повторное использование частот и мощности системы.

Нюанс: данная симуляция не учитывает Nco=1, поскольку сложность вычислений в таком случае сильно возрастает. Можно предположить, что планировщик Starlink обеспечит применение ограничений.

▍ Доступность спектра шлюза

В определённых районах доступный шлюзам спектр Ка-диапазона ввиду приоритетного использования другими лицензиатами уменьшается вдвое, что ведёт к двухкратному сокращению пропускной способности каждого из этих шлюзов. Симуляция этот момент учитывает и применяет для подключённых спутников скорректированную пропускную полосу – там, где данные регуляторов публично доступны. В противном случае предполагается, что шлюзы имеют полную пропускную способность.

▍ Защита GSO

Операторы геосинхронной орбиты (GSO), чьи спутники находятся на геостационарных экваториальных орбитах (GEO), не имеют возможности перемещать эти спутники для избежания наложения сигналов, вызывающего помехи у потребителей, например, спутникового ТВ, поскольку они используют один сегмент спектра Ku-диапазона со Starlink. В связи с этим им предоставляется приоритетная защита от операторов NGSO, которые в случае выравнивания с поясом GSO должны уменьшать излучение. Степень защиты зависит от ширины луча, уровней мощности передачи и прочих факторов. В случае Starlink она начиналась с ±16º, но недавно была уменьшена до ±10º, что вызвало резкое увеличение покрытия регионов. Именно поэтому UT с помощью моторов наклоняется в сторону от пояса GSO, ориентируя антенну так, чтобы она могла осуществлять передачу в направлении спутников.


Плоский UT слева с большим неиспользуемым сегментом своего FOV. Наклон увеличивает доступный диапазон угла места

▍ Упрощённая попытка симуляции мощностей

Если мы возьмём простое представление возможностей комплекса Starlink, то узнаем, что каждый спутник покрывает область диаметром ~1,800 км, имеет 48 остронаправленных входящих лучей и соответствующее транзитное соединение через шлюз. В поле обзора (FOR) спутника находится примерно (зависит от высоты) 10,000 ячеек H3 с разрешением 5. На изображении ниже ячейки, находящиеся под защитой GSO, показаны пустыми, в результате чего их остаётся около 8,000.



Тут может возникнуть вопрос, как один спутник с 48 входящими лучами может обслужить 8,000 ячеек – ему потребуется разделить между ними имеющиеся ~20ГБ/с, предоставив всего по 2.5Мб/с на ячейку при условии, что он сможет достаточно быстро перемещать лучи. Ответом здесь будет наложение зон охвата спутников, которое может привести к тому, что одна ячейка в любой момент времени окажется в зоне видимости 12-14 спутников. Посмотрим, как будет выглядеть симуляция 1 луча на ячейку с выделением этой ячейке 100% времени.



Серые ячейки представляют те, что обслуживания не получили совсем. Те же, которым ресурсы спутников были выделены, закрашены от зелёного до красного, согласно тому, насколько выделенная им пропускная способность была больше или меньше средней. Жёлтый означает, что ячейка имеет среднюю мощность среди всех обслуживаемых ячеек. При увеличении масштаба видно, что эти два спутника обслуживали по 48 ячеек при пропускной способности луча 417Мб/с.



В принципе, любая обслуживаемая ячейка должна обозначаться жёлтым, поскольку спутники полностью выделяют остронаправленный луч каждой – что же происходит с теми, который оказываются красными? Эти ячейки обслуживаются спутником, который не имеет прямой связи со шлюзом, а подключён через ISL:



В этих случаях симулятор предполагает, что спутник располагает 10% от нормальной пропускной способности, которую бы он имел в случае полного охвата шлюза. Таким образом, каждая ячейка получает лишь 42Мб/с, что намного ниже среднего значения – отсюда и красный цвет.

Итоговые результаты немного удручают:


Из почти 37,000 ячеек мы смогли обслужить лишь 6,000, или 16% от общего числа.

Нюанс: многие ячейки в Аляске не будут покрыты, что бы мы ни делали, ввиду недостаточной плотности спутников в слоях с высоким наклоном орбиты. Мы пока не можем достичь 100% охвата ячеек для симуляции США.

В процессе мы использовали 131 спутник и 5,992 их луча. Из теоретической общей пропускной способности этих спутников мы задействовали 99%, или 2.3Тб/с. Максимально достижимая для ячейки скорость передачи составляет 700Мб/с (канал 250МГц), а средняя оказалась равна почти 380Мб/с. При гарантированной скорости передачи данных (CIR) 5Мб/с для каждого UT можно обслужить более 450,000 терминалов, или по 75 терминалов на ячейку.

Механизмы выделения ресурсов

Чтобы преодолеть ограничения выделения по одному лучу на ячейку и иметь возможность охватить больше ячеек при том же числе спутников, можно задействовать различные методы. Некоторые, например, частотное мультиплексирование (FDM), в этом контексте не рассматриваются, поскольку не позволяют добиться увеличения охвата ячеек.

▍ Временное мультиплексирование (TDM)

TDM, также известное в спутниковой индустрии как «переключение луча», позволяет фиксировать луч в течение определённого периода времени на одной ячейке, потом на другой и так далее. Объём выделяемой на ячейку мощности определяется как продолжительность каждого временного отрезка, умноженная на пропускную способность канала. При подобном выделении ресурсов мы получаем множественный доступ с разделением по времени (TDMA) – метод, позволяющий множеству абонентов использовать общий ресурс с распределением доступа к нему по времени. К примеру, если луч 700Мб/с будет выделен для каждой ячейки 10% времени, то сможет обслужить 10 ячеек, предоставив по 70Мб/с на каждую.

▍ Распространения луча

Контур луча Starlink в точке надира практически круглый и охватывает чуть более одной ячейки H3. По мере поворота луча в сторону от надира контур становится более эллиптическим. Можете поэкспериментировать с этим эффектом, посветив фонариком на стену под разным углом:


Луч близок к надиру


Луч при большом угле поворота

При отображении на гексагональные ячейки это будет выглядеть так:



Луч А охватывает только одну ячейку, а луч B в результате увеличения угла поворота относительно надира принял эллиптическую форму и охватывает не только основную ячейку, но и четыре дополнительных.

Технически все UT внутри контура луча имеют достаточный бюджет канала для сообщения со спутником, поэтому луч, распределённый по пяти ячейкам, может обслуживать UT в любой из них. Хотя планировщик ресурсов может решать, к каким ячейкам в зоне видимости луча он предоставит доступ, заблокировав связь с остальными. Это позволит уменьшить ущерб для гарантированной полосы пропускания (CIR) из-за излишнего рассеивания луча. При максимальном угле поворота луч может охватить до 30 ячеек – то есть в нашем случае при 700Мб/с в среднем получится выделить лишь ~23Мб/с на ячейку.

▍ Прогнозирование потребностей ячеек

Пока использование наземных станций, работающих в движении (ESIM), не будет разрешено регулятором, UT для получения обслуживания должны быть стационарны. И хотя первые тесты показали, что использование в движении работает, компания SpaceX в последних программных обновлениях эту возможность отключила. При наличии UT, привязанных к определённой соте, и небольшого подмножества, способного перемещаться, используя RV-сервис, планировщику относительно легко определить, какой объём пропускной способности и какой ячейке необходимо выделить для соответствия CIR. Определённые события, такие как фестиваль Burning Man, могут привести к внезапному появлению большого числа пользователей RV в неожиданном месте, но планировщик это обнаружит и увеличит выделение для неё ресурсов.

Симулятор решает данную проблему, используя вместо плотности UT плотность населения. Взяв собранный Kontur набор данных о глобальной плотности населения, разбитых по ячейкам H3, я скомпоновал эти данные по ячейкам H3 с разрешением 5 и подставил население каждой ячейки в симуляцию. Для подстройки количества подходящих ячеек можно выбирать любую плотность, начиная с одного человека на ячейку. Если настроить симуляцию для охвата только тех ячеек, которые содержат от 1 до 1,000 людей, то есть наиболее малонаселённые, потребуется покрыть более ~16,000 ячеек:



Здесь ясно видно, где находится большая часть «пустого пространства». Несмотря на то, что мы сократили число ячеек-кандидатов на 20,000, оставшееся их множество кластеризовано, и большинство (67%) по-прежнему остаются без обслуживания. Увеличение плотности спутников однозначно бы здесь помогло – необходимо учитывать, что полноценный комплекс Gen1 состоит из 4,400 спутников, в то время как на данный момент активны лишь ~2,000 из них.

Нюанс: до этого момента мы приписывали всего по одному лучу на ячейку, хотя точно знаем, что в каждой ячейке их существует как минимум два – основной и резервный – а может и больше, если того требует спрос.

Комплексные симуляции

Использованные выше методы можно использовать для оценки их влияния на пропускную способность и охват зоны обслуживания. Разберём их по очереди.

▍ Симуляция только с TDM

Если выполнить первую симуляцию для всех ячеек ещё раз, но установить величину TDM на 25% (то есть каждая ячейка получит 25% мощности луча) и задать по два луча на ячейку, то результат прилично изменится:



Теперь мы охватываем уже не 16%, а 35% ячеек, по-прежнему можем обслужить около 460,000 UT при CIR = 5 Мб/с и использовать 98% пропускной способности спутников. Хотя средняя пропускная способность упала с ~380Мб/с до ~180Мб/с. При увеличении видно, что одна отдельная ячейка обслуживается двумя выделенными лучами от двух спутников, каждый из которых обеспечивает 104Мб/с:



Если увеличить разделение TDM до 10%, то можно будет охватить 71% ячеек, выделив каждой по 87Мб/с, и по-прежнему обслужить то же число UT с той же пропускной способностью:



▍ Симуляция только с распределением луча

Если вернуться к 100% рабочему циклу для каждой ячейки, но включить распределение луча на 5 ячеек, то мы увеличим число обслуживаемых ячеек до 41%, задействовав 95% пропускной способности спутника и обслужив, опять же, ~460,000 UT. Логично, что средняя пропускная способность на ячейку упала до ~153Мб/с.



Если увеличить распределение луча до 10 ячеек, то мы увеличим их охват до 52% ценой уменьшения задействуемой мощности спутника и средней пропускной способности до ~113Мб/с.



Ячейка ниже обслуживается одним основным лучом (зелёный), предоставляющим полосу 208Мб/с, и одним второстепенным (розовый), предоставляющим 60Мб/с.



Как и в случае с TDM, если мы установим значение 11 и, допустим, неограниченное распределение луча, то сможем охватить 62% ячеек со скоростью 85Мб/с, но общая используемая пропускная способность упадёт до 1.9Тб/с, или 89%, и мы сможем обслужить всего ~388,000 UT.

Получается, если выбирать лишь один метод, то выигрывает здесь TDM, поскольку при использовании распределения луча мы теряем почти 16% UT.

▍ Симуляция с TDM и распределением луча

Как и в большинстве случаев, ответ наверняка лежит где-то посередине. Начнём с 50% TDM и распределения луча по 5 ячейкам:



Действительно, в середине, но не так, как ожидалось. Мы охватываем 67% ячеек при скорости 88Мб/с и задействуем 92% общей пропускной способности, обслуживая ~430,000 UT.

У вас может возникнуть вопрос: «Почему покрываемые ячейки так сильно кластеризованы?» Ответ в дополнительной настройке симуляции, а именно приоритете ячеек, расположенных ближе к надиру, перед ячейками, находящимися под максимальным уклоном. До сих пор во всех симуляциях мы использовали этот приоритет, в результате чего симулятор в порядке удаления приписывал ресурсы ячейкам, наиболее близким к надиру спутника. При изменении этого приоритета на максимальный наклон процесс будет начинаться с ячеек, расположенных на периферии зоны покрытия спутника. Если вы помните приведённую выше схему с двумя лучами, то по ней видно – чем больше угол поворота и наклонная дальность, тем более эллиптическим становится FOR луча, и тем больше ячеек он охватывает.

Нюанс: даже если мы разрешим неограниченное распределение при лучах, близких к надиру, FOR будет охватывать максимум 2-3 ячейки. Чтобы увидеть реальный эффект распределения луча, приоритет нужно смещать в сторону максимального наклона.

Давайте повторим симуляцию, но теперь с приоритетом максимального наклона:



Какие изменения! Теперь охвачено 74% ячеек, использовано 94% пропускной способности, по 75Мб/с на ячейку, и обслужено ~412,000 UT, или по 15 UT на ячейку. Если увеличить распределение луча до неограниченного, то мы сможем охватить почти все ячейки, но пожертвуем пропускной способностью, которая упадёт до 49Мб/с, и числом обслуживаемых UT, которое сократиться до ~310,000.

Вы также можете заметить, что теперь мы используем лишь 85% от общей пропускной способности спутника и всего 3632 луча на 105 спутниках (~35 лучей на каждом). Для каждого спутника мы «теряем» 13 лучей. Что тут можно сделать? Давайте попробуем увеличить число лучей на ячейку до шести и установим TDM на 25%:



Теперь мы охватили 87% ячеек со средней скоростью 71Мб/с и обслуживаем ~450,000 UT, задействуя 87% пропускной способности спутника.

▍ Корректировка по плотности населения

Средняя площадь покрытия ячейки H3 составляет 252 км2. Согласно исследованию Starlink и RDOF, проведённому компанией Cartesian для Fiber Broadband Association и Rural Broadband Association, 88.3% выигранных Starlink на аукционе RDOF локаций относятся к сельской местности, которая определяется плотностью населения менее 500 человек на квадратную милю.

Одна квадратная миля равна 2.59 км2, значит сельской ячейкой будет считаться та, в которой числится менее 48,650 людей. Если настроить симуляцию на игнорирование ячеек с населением менее 10 человек, мы сможем обслужить то же число UT, но при более высокой скорости, которая составит 84Мб/с.



Здесь начинает вырисовываться интересный паттерн. Сравните результаты выше с официальной картой покрытия Starlink:



Видите, что большая часть юга и среднего запада показана как “Expanding in 2023”, и что это соответствует результатам последнего выполнения симуляции? Основная причина тому не в плотности спутников – вы можете прогнать симуляцию в любое время дня и получите одинаковые результаты – а в том, что многие шлюзы этого региона работают на 50% от своей мощности ввиду приоритетного использования спектра более важным лицензиатом. Единственные способы для SpaceX исправить это подразумевают увеличение числа шлюзов, обслуживающих регион, переключение на другие спектры вроде диапазонов V/E или переход на использование оптической коммуникации в сегменте «космос – земля».

Симулятор пропускной способности

▍ Настройки симуляции

На панели инструментов кликните по иконке Capacity simulation, которая выведет окно настроек симуляции:



При выборе страны вы увидите предупреждение, если количество находящихся в ней ячеек может привести к длительному выполнению симуляции. В зависимости от остальных настроек её обработка может занять больше минуты. Чем больше вы распределяете ресурсы, например, увеличиваете TDM или распространение луча, тем больше потребуется вычислений.

Draw spot beam links: показывает тонкую зелёную линию между каждым спутником и основными покрываемыми им ячейками. При использовании TDM эта опция покажет столько лучей, сколько будет выделено TDM, например, при 10% каждый спутник проецирует 480 линий.
Simulation mode: приоритет “nadir” приведёт к выделению ресурсов ячейкам, расположенным ближе к точке под спутником, а приоритет “max slant” – ячейкам, находящимся на краю зоны его охвата.
Beam spread: по какому числу ячеек можно распределить луч в диапазоне его FOR. Неограниченное значение приведёт к распределению луча по всем ячейкам, находящимся в зоне FOR.
Provisioned rate per UT: эта опция устанавливает CIR, которая, в свою очередь, используется для вычисления количества доступных для обслуживания UT.
Available 250 MHz channels: эта функция ещё не была реализована и на симулятор не влияет.
TDM allocation per cell: сколько раз делить каждый луч по времени. При установке 50% деление составит 50/50.
Beams per cell: максимальное число лучей, выделенных на ячейку. Симулятор попытается достичь этого значения, но когда пропускная способность спутников будет исчерпана, ячейки начнут получать меньшее число лучей, что отразиться на конечном результате.
Cell population range: можно установить между “no people” и “unlimited”, чтобы ограничить количество используемых в симуляции ячеек.

▍ Изучение результатов симуляции

Первым делом мы просматриваем статистику:


После выполнения симуляции мы увидим, сколько использовалось ячеек, сколько из них было охвачено как минимум одним лучом, ресурсы скольких спутников задействовались, и сколько всего лучей было назначено.

В следующей строке показан общий объём используемой пропускной мощности, полученный сложением каждого выделенного луча, в том числе в виде процента от теоретического максимума. Максимальная мощность ячейки (maximum cell cap) – это теоретический максимум, который одна ячейка могла получить при таких настройках. Последней в этой строке идёт средняя мощность (average cap), вычисленная по всем обслуженным ячейкам.

Количество терминалов (Terminals) высчитывается путём деления общей мощности на установленную CIR.

Увеличив масштаб, мы увидим отдельные ячейки, а всплывающая подсказка покажет количество назначенных лучей (beams), мощность ячейки (capacity) и её население (population):



Кликнув по ячейке, можно увидеть, какие лучи повлияли на её общую пропускную способность, и от каких спутников они исходили. Зелёные линии показывают выделение основных лучей, а розовые – выделение части другого распространяемого на ячейку луча:



Когда ячейки обслуживаются ISL-спутниками, мощность луча сокращается до 10% от своего стандартного значения. Если приблизить Алеутские острова, то мы видим, что одна ячейка была обслужена тремя ISL-спутниками, каждый из которых предоставил ей несколько лучей:


Пятнадцати живущим в этой ячейке людям реально повезло!

▍ Экспорт данных симуляции

После генерации симуляции её данные можно экспортировать в формате CSV с помощью кнопки Export. В итоге вы получите файл, содержащий все ячейки, упорядоченные по количеству населения, а также данные симуляции для каждой из них:



Другие интересные симуляции

▍ Бразилия



Эта карта также не совпадает с картой охвата Starlink. Объясняется это тем, что некоторые шлюзы ещё не работают:



Отключая шлюзы (правый клик -> Disable), можно симулировать влияние на потенциальную пропускную способность:



▍ Кения

Используя только ISL, 1,200 UT можно будет обслуживать при скорости 5Мб/с, задействовав всю мощность двух спутников. В результате будет покрыто только 65% ячеек.



Известные проблемы

Похоже, что ячейки Австралии были вычислены неверно, поэтому для данного региона симуляция сейчас не работает.
Симулятор иногда может не генерировать результаты. В этом случае перезагрузите страницу.
Каждый прогон симуляции синхронен, то есть блокирует браузер на продолжительное время, а в некоторых приводит к предупреждениям вроде “ожидать или закрыть”. Измените таймер “Simulation pause” в General Settings, чтобы иметь возможность нажать кнопку паузы или изменить другие настройки.    starlink.sx v0.1 pre-pre-alpha starlink.sx v0.1 pre-pre-alpha   starlink.sx Starlink SpaceX   судя по моему трекеру Loon   v2.0 сайта       Большие и жирные оговорки по статье Большие и жирные оговорки по статье    Я запрещаю любой организации или субъекту ссылаться на эту статью или результаты, полученные с помощью моей симуляции, включая их в документы, подаваемые в регулирующие органы под любой юрисдикцией. Если вам интересен пример того, как делать не надо, прочтите письмо (англ.) Джонатана МакДауэлла к Федеральной комиссии связи (FCC), в котором он просит исправить ошибочные толкования его работы в документах, поданных Viasat против SpaceX. При этом вопросы, предложения и обратную связь я приветствую.
Эта симуляция предназначена для изучения влияния различных техник на возможности предоставления услуг. Она не выражает квалифицированного мнения о фактических возможностях обслуживания, предлагаемых Starlink сегодня, или его потенциале для изменений.
Некоторые результаты в сравнении с реальностью окажутся очень оптимистичными, другие, наоборот, печальными. Оптимистичные связаны с тем, что моделирование выполняется единовременно только для одной страны, хотя в реальности спутниковые ресурсы необходимо будет делить с соседними странами. Пессимистичность же отражается тем фактом, что Starlink мог бы предоставлять услуги с внутриорбитальных свободных спутников, которые я не учитываю, вместо придержания их в резерве на случаи сбоев.
Симуляция изучает только возможности скачивания.
Для выполнения одного измерительного сеанса могут потребоваться объёмные вычисления, задействующие значительный ресурс CPU и надолго блокирующие браузер. Для большой страны с 30,000 ячеек, обслуживаемых 150 спутниками, каждый из которых имеет 48 остронаправленных лучей, может потребоваться вплоть до 216 миллионов вычислений. Я запрещаю любой организации или субъекту ссылаться на эту статью или результаты, полученные с помощью моей симуляции, включая их в документы, подаваемые в регулирующие органы под любой юрисдикцией. Если вам интересен пример того, как делать не надо, прочтите письмо (англ.) Джонатана МакДауэлла к Федеральной комиссии связи (FCC), в котором он просит исправить ошибочные толкования его работы в документах, поданных Viasat против SpaceX. При этом вопросы, предложения и обратную связь я приветствую. письмо Джонатана МакДауэлла Эта симуляция предназначена для изучения влияния различных техник на возможности предоставления услуг. Она не выражает квалифицированного мнения о фактических возможностях обслуживания, предлагаемых Starlink сегодня, или его потенциале для изменений. Некоторые результаты в сравнении с реальностью окажутся очень оптимистичными, другие, наоборот, печальными. Оптимистичные связаны с тем, что моделирование выполняется единовременно только для одной страны, хотя в реальности спутниковые ресурсы необходимо будет делить с соседними странами. Пессимистичность же отражается тем фактом, что Starlink мог бы предоставлять услуги с внутриорбитальных свободных спутников, которые я не учитываю, вместо придержания их в резерве на случаи сбоев. Симуляция изучает только возможности скачивания. Для выполнения одного измерительного сеанса могут потребоваться объёмные вычисления, задействующие значительный ресурс CPU и надолго блокирующие браузер. Для большой страны с 30,000 ячеек, обслуживаемых 150 спутниками, каждый из которых имеет 48 остронаправленных лучей, может потребоваться вплоть до 216 миллионов вычислений.  Краткое вступление по возможностям Starlink Краткое вступление по возможностям Starlink       антенны под электронным управлением гексагональную систему ячеек Uber здесь     Типичная конфигурация 3x3 в Турции Типичная конфигурация 3x3 в Турции     ▍ Возможности спутников ▍ Возможности спутников      Фото: SpaceX starlink.com/technology Фото: SpaceX starlink.com/technology starlink.com/technology   ▍ Пропускная способность шлюза ▍ Пропускная способность шлюза  обеспечить пропускную способность в районе 20ГБ/с     Типичная антенна шлюза. Фото: /u/diadumenianus с Reddit Типичная антенна шлюза. Фото: /u/diadumenianus с Reddit   ▍ Оптические межспутниковые линии связи (ISL) ▍ Оптические межспутниковые линии связи (ISL)          ]]></text>
</doc>
