<?xml version="1.0" ?>
<doc>
	<label auto="true" type="str" verify="true"><![CDATA[Other]]></label>
	<author auto="true" type="list" verify="true">
		<item type="str"><![CDATA[Unigine]]></item>
	</author>
	<date auto="true" type="str" verify="true"><![CDATA[2022-05-27, 13:08]]></date>
	<link auto="true" type="str" verify="true"><![CDATA[https://habr.com/ru/company/unigine/blog/668174/]]></link>
	<title auto="true" type="str" verify="true"><![CDATA[Технологии UNIGINE 2: система воды]]></title>
	<categories auto="true" type="list" verify="true">
		<item type="str"><![CDATA[Блог компании UNIGINE]]></item>
		<item type="str"><![CDATA[Работа с 3D-графикой]]></item>
	</categories>
	<key_words auto="true" type="list" verify="true">
		<item type="str"><![CDATA[unigine]]></item>
		<item type="str"><![CDATA[3d-engine]]></item>
		<item type="str"><![CDATA[3d-графика]]></item>
		<item type="str"><![CDATA[каустика]]></item>
		<item type="str"><![CDATA[реалистичная вода]]></item>
	</key_words>
	<text auto="true" type="str" verify="true"><![CDATA[С версии 2.2 UNIGINE позволяет визуализировать реалистичную воду со сложным поведением и поддержкой двустороннего взаимодействия с твердыми телами, а так же создавать различные типы водных бассейнов: океаны, моря, озера. По состоянию на версию 2.15.1 на крупных водоемах можно создавать волны, используя слои волн, пресеты по шкале Бофорта или вручную, и обеспечивать плавные переходы между различными состояниями поверхности. При этом на дальнем расстоянии отсутствует видимый тайлинг.
Вода в UNIGINE реализована в виде 2 типов объектов: Global Water и Water Mesh. Global Water представляет собой бесконечно растянутую сетку с автоматической тесселяцией, что позволяет создавать бескрайний океан. Однако Global Water поддерживает лишь один уровень воды, так что для создания горных озер, рек или других водоемов с перепадом высот следует использовать объект Water Mesh.
Океан, созданный с помощью Global Water
Озеро, созданное с помощью Water Mesh
Поверхность воды поддерживает отражения в экранном пространстве и эффект преломления световых лучей (каустики), что делает ее по-настоящему фотореалистичной. Также имеется процедурная генерация пены.
Кроме того, объект Global Water имеет поддержку подводного режима, что дает возможность опускать камеру ниже ватерлинии с бесшовным переходом как в реальном мире (можно даже остановить камеру на середине и увидеть саму ватерлинию).
Реалистичная симуляция волн в реальном времени основана на быстрой модели Герстнера, когда все высоты вычисляются математически. Каждый параметр настраивается через API, благодаря чему можно применять результаты расчетов с использованием различных гидродинамических моделей. Такой уровень контроля открывает широкий спектр возможностей для симуляторов, позволяя моделировать практически любое состояние водной поверхности и погоды на море в режиме реального времени. Для оптимизации производительности доступны гибкие настройки качества.
Для тех же, кто просто хочет, чтобы море выглядело правдоподобно и достаточно реалистично, без необходимости настраивать множество ползунков и полей со списком, есть режим автоматической генерации волн с пресетами по шкале Бофорта (от спокойного — 0, до урагана — 12).
Для имитации расходящихся волн от твердых тел и кильватерного следа во время движения судов используется объект Field Height. Он позволяет модифицировать текущую карту высот поверхности Global Water, посредством наложения на нее своей собственной. Так можно определить зоны для изменения высот под бортом судов или корпусом других плавучих объектов. Внутри отмеченной зоны карта высот постепенно изменяется от центра зоны.
Любой водоем имеет берега и прибрежная полоса тоже должна выглядеть естественно. В реальном мире волны набегают на берег и затем отходят. Такое поведение волн можно смоделировать и в UNIGINE, задав с помощью объекта Field Shoreline зоны прилива и отлива возле берегов. Причем, земля, песок, камни и все остальное на берегу будет оставаться мокрым после набегания волны.
В UNIGINE SDK версии 2.15 появился точный контроль над спектром волн через API. Генерация волн теперь гибко настраивается в реальном времени: от направления движения и амплитуды до формообразующих факторов. Кроме того, стало возможным создавать и контролировать целые группы волн (от маленьких до больших). Максимальное количество моделируемых волн — 256, но для оптимальной производительности рекомендуется использовать не более 100.
Также в UNIGINE реализовано обнаружение пересечений с поверхностью воды (intersection detection). Этот алгоритм можно использовать, например, для имитации всплеска в точке соприкосновения снаряда с поверхностью воды, а также для правильной расстановки судов, учитывая видимость и высоту бортов над водой. В версии SDK 2.15 обнаружение пересечений стало работать до 10 раз быстрее и появилась дополнительная гибкость в настройке производительности, а также была значительно улучшена процедурная пена.
Мы планируем и дальше улучшать систему визуализации воды в будущих версиях UNIGINE. Ведутся работы по усовершенствованию рендеринга для увеличения производительности и качества отрисовки. Также ожидаются улучшения по локальным водоемам (создаваемым с помощью объекта Water Mesh) вроде рек или озер. С версии 2.2 UNIGINE позволяет визуализировать реалистичную воду со сложным поведением и поддержкой двустороннего взаимодействия с твердыми телами, а так же создавать различные типы водных бассейнов: океаны, моря, озера. По состоянию на версию 2.15.1 на крупных водоемах можно создавать волны, используя слои волн, пресеты по шкале Бофорта или вручную, и обеспечивать плавные переходы между различными состояниями поверхности. При этом на дальнем расстоянии отсутствует видимый тайлинг. Вода в UNIGINE реализована в виде 2 типов объектов: Global Water и Water Mesh. Global Water представляет собой бесконечно растянутую сетку с автоматической тесселяцией, что позволяет создавать бескрайний океан. Однако Global Water поддерживает лишь один уровень воды, так что для создания горных озер, рек или других водоемов с перепадом высот следует использовать объект Water Mesh. Global Water Global Water Global Water Water Mesh Water Mesh Water Mesh  Океан, созданный с помощью Global Water  Озеро, созданное с помощью Water Mesh Поверхность воды поддерживает отражения в экранном пространстве и эффект преломления световых лучей (каустики), что делает ее по-настоящему фотореалистичной. Также имеется процедурная генерация пены. Кроме того, объект Global Water имеет поддержку подводного режима, что дает возможность опускать камеру ниже ватерлинии с бесшовным переходом как в реальном мире (можно даже остановить камеру на середине и увидеть саму ватерлинию).   Реалистичная симуляция волн в реальном времени основана на быстрой модели Герстнера, когда все высоты вычисляются математически. Каждый параметр настраивается через API, благодаря чему можно применять результаты расчетов с использованием различных гидродинамических моделей. Такой уровень контроля открывает широкий спектр возможностей для симуляторов, позволяя моделировать практически любое состояние водной поверхности и погоды на море в режиме реального времени. Для оптимизации производительности доступны гибкие настройки качества. Для тех же, кто просто хочет, чтобы море выглядело правдоподобно и достаточно реалистично, без необходимости настраивать множество ползунков и полей со списком, есть режим автоматической генерации волн с пресетами по шкале Бофорта (от спокойного — 0, до урагана — 12).    Для имитации расходящихся волн от твердых тел и кильватерного следа во время движения судов используется объект Field Height. Он позволяет модифицировать текущую карту высот поверхности Global Water, посредством наложения на нее своей собственной. Так можно определить зоны для изменения высот под бортом судов или корпусом других плавучих объектов. Внутри отмеченной зоны карта высот постепенно изменяется от центра зоны. Field Height Field Height Field Height  Любой водоем имеет берега и прибрежная полоса тоже должна выглядеть естественно. В реальном мире волны набегают на берег и затем отходят. Такое поведение волн можно смоделировать и в UNIGINE, задав с помощью объекта Field Shoreline зоны прилива и отлива возле берегов. Причем, земля, песок, камни и все остальное на берегу будет оставаться мокрым после набегания волны. Field Shoreline Field Shoreline Field Shoreline  В UNIGINE SDK версии 2.15 появился точный контроль над спектром волн через API. Генерация волн теперь гибко настраивается в реальном времени: от направления движения и амплитуды до формообразующих факторов. Кроме того, стало возможным создавать и контролировать целые группы волн (от маленьких до больших). Максимальное количество моделируемых волн — 256, но для оптимальной производительности рекомендуется использовать не более 100. Также в UNIGINE реализовано обнаружение пересечений с поверхностью воды (intersection detection). Этот алгоритм можно использовать, например, для имитации всплеска в точке соприкосновения снаряда с поверхностью воды, а также для правильной расстановки судов, учитывая видимость и высоту бортов над водой. В версии SDK 2.15 обнаружение пересечений стало работать до 10 раз быстрее и появилась дополнительная гибкость в настройке производительности, а также была значительно улучшена процедурная пена. intersection detection  Мы планируем и дальше улучшать систему визуализации воды в будущих версиях UNIGINE. Ведутся работы по усовершенствованию рендеринга для увеличения производительности и качества отрисовки. Также ожидаются улучшения по локальным водоемам (создаваемым с помощью объекта Water Mesh) вроде рек или озер.]]></text>
</doc>
