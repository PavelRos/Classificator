<?xml version="1.0" ?>
<doc>
	<label auto="true" type="str" verify="true"><![CDATA[Develop]]></label>
	<author auto="true" type="list" verify="true">
		<item type="str"><![CDATA[3fonov]]></item>
	</author>
	<date auto="true" type="str" verify="true"><![CDATA[2022-12-10, 18:35]]></date>
	<link auto="true" type="str" verify="true"><![CDATA[https://habr.com/ru/post/704672/]]></link>
	<title auto="true" type="str" verify="true"><![CDATA[Fullstack –Ω–∞ –î–∂–∞–Ω–≥–æ –∏ –í—å—é]]></title>
	<categories auto="true" type="list" verify="true">
		<item type="str"><![CDATA[–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±-—Å–∞–π—Ç–æ–≤]]></item>
		<item type="str"><![CDATA[Python]]></item>
		<item type="str"><![CDATA[Django]]></item>
		<item type="str"><![CDATA[VueJS]]></item>
	</categories>
	<key_words auto="true" type="list" verify="true">
		<item type="str"><![CDATA[django]]></item>
		<item type="str"><![CDATA[bts]]></item>
		<item type="str"><![CDATA[vuejs]]></item>
		<item type="str"><![CDATA[fullstack]]></item>
	</key_words>
	<text auto="true" type="str" verify="true"><![CDATA[–ü—Ä–∏–≤–µ—Ç. –°–µ–≥–æ–¥–Ω—è —Ö–æ—á—É —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –ø—Ä–æ —Ç–æ, –∫–∞–∫ –∑–∞ –∫—É–ª–∏—Å–∞–º–∏ —É—Å—Ç—Ä–æ–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ –º–æ–µ–≥–æ –º–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç–∞ –ø–æ –≤–µ–¥–µ–Ω–∏—é –∑–∞–¥–∞—á autofocus.su. –í –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∑–∞–º–µ—Ç–∫–µ —è —Ä–∞—Å—Å–∫–∞–∑–∞–ª –ø—Ä–æ –ø—Ä–∏–Ω—Ü–∏–ø—ã, –ª–µ–∂–∞—â–∏–µ –≤ –æ—Å–Ω–æ–≤–µ –º–µ—Ç–æ–¥–∞ –ê–≤—Ç–æ—Ñ–æ–∫—É—Å–∞. –ê —Ç—É—Ç –±—É–¥–µ—Ç —Å–∫–æ—Ä–µ–µ –Ω–∞–±–æ—Ä –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ —Å –∫–æ—Ä–æ—Ç–∫–∏–º–∏ –æ–ø–∏—Å–∞–Ω–∏—è–º–∏ —Ç–æ–≥–æ, —á—Ç–æ –∏ –∫–∞–∫ —Å–≤—è–∑–∞–Ω–æ –º–µ–∂–¥—É —Å–æ–±–æ–π. –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –±—É–¥–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –≤ –≤–∞—à–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Å–ª—É—á–∞–µ, –Ω–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –ø–æ–∏—Å–∫–æ–≤ –±—É–¥—É—Ç –ø–æ–Ω—è—Ç–Ω—ã.
–õ–∏—á–Ω–æ –º–Ω–µ —á–∞—Å—Ç–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –∫–∞–∫–æ–≥–æ-—Ç–æ —Å–∫–µ–ª–µ—Ç–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —á—Ç–æ–±—ã –±—ã–ª–æ —Å —á–µ–≥–æ –Ω–∞—á–∞—Ç—å. –ù–∞–¥–µ—é—Å—å, —á—Ç–æ –±—É–¥—É –ø–æ–ª–µ–∑–µ–Ω.
–ù–∞—á–Ω–µ–º —Å –±—ç–∫–µ–Ω–¥–∞.
Django
–í –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî Django. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è –∫–æ—Å–º–∏—á–µ—Å–∫–∏—Ö –∑–≤–µ–∑–¥–æ–ª–µ—Ç–æ–≤. –û—á–µ–Ω—å –º–Ω–æ–≥–æ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏ –Ω—é–∞–Ω—Å–∞–º –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ —Å—Ç–∞—Ç—å—è—Ö @kesn –°–ø–∞—Å–∏–±–æ –µ–º—É –∑–∞ —ç—Ç–æ!
–í –î–∂–∞–Ω–≥–æ —É –º–µ–Ω—è —Å–µ–π—á–∞—Å —Ç—Ä–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî –¥–ª—è –∑–∞–¥–∞—á, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏–ª —Å–≤–æ–∏–º –∫–ª–∞—Å—Å–æ–º User –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö:
AUTH_USER_MODEL = 'accounts.User'
–ü–æ–º–∏–º–æ –ø—Ä–æ—á–µ–≥–æ, —è —Å–¥–µ–ª–∞–ª –æ—Å–Ω–æ–≤–Ω—ã–º –∫–ª—é—á–æ–º –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–ø–æ—á—Ç—ã –∏ —É–±—Ä–∞–ª –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:
email = models.EmailField(primary_key=True)
password = None
REQUIRED_FIELDS = []
USERNAME_FIELD = 'email'
–≠—Ç–æ—Ç –∫–ª–∞—Å—Å —è –∏—Å–ø–æ–ª—å–∑—É—é –≤–º–µ—Å—Ç–µ —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ Django-sesame.
django-sesame
–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ Django —Å –ø–æ–º–æ—â—å—é –≤–æ–ª—à–µ–±–Ω—ã—Ö —Å—Å—ã–ª–æ–∫. –ü—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –≤ –ø—Ä–æ–µ–∫—Ç, –¥–µ–ª–∞–µ—Ç–µ –ø—è—Ç–æ–∫ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –º–æ–∂–µ—Ç–µ –ø—Ä–∏—Å—ã–ª–∞—Ç—å –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è–º —Å—Å—ã–ª–∫–∏, –ø–µ—Ä–µ–π–¥—è –ø–æ –∫–æ—Ç–æ—Ä—ã–º –æ–Ω–∏ —Å–º–æ–≥—É—Ç –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è:
https://example.com/sesame/login/?sesame=zxST9d0XT9xgfYLvoa9e2myN
–í–∏–¥ —Å—Å—ã–ª–∫–∏, —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –∏ –¥—Ä—É–≥–∏–µ –Ω—é–∞–Ω—Å—ã –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å. –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–º–µ—á–∞—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–∞–∫ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–≤—à–∏—Ö —Å–≤–æ–π –∞–¥—Ä–µ—Å –ø–æ—á—Ç—ã.
dotenv
–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è python, –∫–æ—Ç–æ—Ä–∞—è —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª .env –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—ã. –ê –≤—ã –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ .gitignore –∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –Ω–∞—Å—Ç–æ—è—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã. –†–µ—à–∞–µ—Ç –∫—É—á—É –≥–æ–ª–æ–≤–Ω–æ–π –±–æ–ª–∏ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é. –í settings.py –ø–∏—à–µ–º:
import dotenv

dotenv_file = BASE_DIR / ".env"
if os.path.isfile(dotenv_file):
    dotenv.load_dotenv(dotenv_file)
–ê –¥–∞–ª—å—à–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã –∫–∞–∫ –æ–±—ã—á–Ω–æ:
DEBUG = os.environ.get('DJANGO_DEBUG', default=False) in [
    'True', 'true', '1', True]
–ï—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ .env —Å—Ç—Ä–æ–∫—É
DJANGO_DEBUG=1
–¢–æ DEBUG –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±—É–¥–µ—Ç —Ä–∞–≤–µ–Ω True
graphene-django
–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ê–ü–ò –Ω–∞ –æ—Å–Ω–æ–≤–µ —è–∑—ã–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ GraphQL. –ï–≥–æ –ø—Ä–∏–¥—É–º–∞–ª–∏ –≤ Facebook (–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, –∑–∞–ø—Ä–µ—â–µ–Ω–Ω–æ–π –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –†–æ—Å—Å–∏–∏). –û–Ω  –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –ê–ü–ò –Ω–∞ –æ–¥–Ω—É —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø–∞ –∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å, –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –Ω—É–∂–Ω—ã, —É—á–∏—Ç—ã–≤–∞—è –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫–æ–π –∑–∞–ø—Ä–æ—Å:
query UserItems
    {
        user {
            pages
            page
            email
            isValidated
        }
        items {
            text
            id
            repeats
            state
        }
    }
–ò –≤ –æ—Ç–≤–µ—Ç –ø—Ä–∏–¥–µ—Ç –æ–±—ä–µ–∫—Ç User –∏ –º–∞—Å—Å–∏–≤ Items —Å –∑–∞–¥–∞—á–∫–∞–º–∏. –ê –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é –º—É—Ç–∞—Ü–∏–π:
mutation addItem($text: String!){
    createItem(text: $text){
        user {
           email
        }
    }
  }
–ö–æ–Ω–µ—á–Ω–æ, —ç—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä—è–º —Å –¥–≤—É—Ö —Å—Ç—Ä–æ–∫. –í–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã –º–æ–∂–µ—Ç –æ—Ç–¥–∞–≤–∞—Ç—å –≤–∞—à–∞ —Ç–æ—á–∫–∞ graphql –∏ –∫–∞–∫ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –º—É—Ç–∞—Ü–∏–∏. –°–ø–µ—Ä–≤–∞ –º–µ–Ω—è graphql –Ω–µ–º–Ω–æ–≥–æ –ø—É–≥–∞–ª, –∞ –ø–æ—Ç–æ–º —Ä–∞—Å–ø—Ä–æ–±–æ–≤–∞–ª.
–ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Ñ—Ä–æ–Ω—Ç—É.
Vue.js
–í –∫–∞—á–µ—Å—Ç–≤–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —á–∞—Å—Ç–∏ –≤—ã–±—Ä–∞–ª Vue.js –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–æ—á–µ–º—É –±—ã –∏ –Ω–µ—Ç. –°–¥–µ–ª–∞–ª –≤–µ—Ä—Å–∏—é –∏–∑ –∫–æ—Ä–æ–±–∫–∏ —Å Typescript. –ù–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ frontend —Ä—è–¥–æ–º —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ Django:
–ò–∑ –≤–∞–∂–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ —É–∫–∞–∑–∞–ª —Ä–∞–∑–Ω—ã–µ –ø–∞–ø–∫–∏ –¥–ª—è production –∏ development:
outputDir: process.env.NODE_ENV === "production" ? "dist" : "static"
–ò —Ç–æ, –∫—É–¥–∞, —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å —Å–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
configureWebpack: {
    output: {
      filename:
        process.env.NODE_ENV === "production"
          ? "../../static/js/[name].js"
          : "static/js/[name].js",
      chunkFilename:
        process.env.NODE_ENV === "production"
          ? "../../static/js/[name].js"
          : "static/js/[name].js",
    },
    plugins: [
      new WriteFilePlugin(),
      process.env.NODE_ENV === "production"
        ? new BundleTracker({
            filename: "webpack-stats-prod.json",
            publicPath: "/",
          })
        : new BundleTracker({
            filename: "webpack-stats.json",
            publicPath: "http://localhost:8080/",
          }),
    ],
  },
–ê –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–¥—Ä—É–∂–∏—Ç—å –≤—Å–µ —ç—Ç–æ —Å Django –ø–æ–Ω–∞–¥–æ–±–∏–ª—Å—è:
webpack_loader
–ü–ª–∞–≥–∏–Ω –æ—Ç Jazzband, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∞–Ω–¥–ª—ã Webpack –≤ —à–∞–±–ª–æ–Ω–∞—Ö:
{% extends "base.html" %}

{% load render_bundle from webpack_loader %}

{% block title %}
  Autofocus
{% endblock title %}

{% block head %}
  {{ block.super }}
{% endblock head %}
    
{% block body %}
  <div id="app"></div>
{% endblock body %}

{% block script %}
  {% render_bundle 'app' %}
{% endblock script %}
Vue Apollo
–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–¥—Ä—É–∂–∏—Ç—å Vue.JS —Å GraphQL –µ—Å—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Vue Apollo. –ü–æ–¥–∫–ª—é—á–∞–µ–º –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –Ω–µ –∑–∞–±—ã–≤–∞–µ–º –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–æ–∫–∏–Ω—É—Ç—å x-csrftoken. –ï–≥–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –≤—ã—Ç–∞—Å–∫–∏–≤–∞–µ–º –∏–∑ –∫—É–∫ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –ø–∞–∫–µ—Ç–∞ js-cookie:
import { createApp, provide, h } from "vue";
import App from "./App.vue";
import "./registerServiceWorker";
import { DefaultApolloClient } from "@vue/apollo-composable";
import { ApolloClient, InMemoryCache, createHttpLink } from "@apollo/client/core";
import Cookies from "js-cookie";

const cache = new InMemoryCache();

const link = createHttpLink({
    uri: "/graphql",
    headers: {
        "x-csrftoken": Cookies.get("csrftoken")
    }
});

const apolloClient = new ApolloClient({
    cache,
    link: link,
});

const app = createApp({
    setup() {
        provide(DefaultApolloClient, apolloClient);
    },

    render: () => h(App),
});

app.mount("#app");
Tailwind CSS
–î–ª—è css –∏—Å–ø–æ–ª—å–∑—É—é Tailwind css. –ï–≥–æ –ø—Ä–µ–ª–µ—Å—Ç—å –≤ —Ç–æ–º, —á—Ç–æ, –≤–æ-–ø–µ—Ä–≤—ã—Ö, —Ç–∞–º –µ—Å—Ç—å —Ö–æ—Ä–æ—à–æ –ø—Ä–æ–¥—É–º–∞–Ω–Ω–∞—è –∏ —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–ª–∞—Å—Å–æ–≤. –í–æ-–≤—Ç–æ—Ä—ã—Ö, –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∏—Ö –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏ —Ç–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –Ω–µ –≤—Å—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É, –∞ —Ç–æ–ª—å–∫–æ —Ç–µ –∫–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è. –ù–∞–ø—Ä–∏–º–µ—Ä –≤—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å —Ç–∞–∫–æ–π –∫–æ–¥:
.page__current {
    @apply bg-slate-800 dark:bg-slate-400;
    @apply text-white dark:text-slate-700;
    @apply rounded-full;
    @apply cursor-default;
  }
–ê –Ω–∞ –≤—ã—Ö–æ–¥–µ –ø–æ–ª—É—á–∏—Ç—Å—è:
.page__current {
  --tw-bg-opacity: 1;
  background-color: rgb(30 41 59 / var(--tw-bg-opacity));
}

@media (prefers-color-scheme: dark) {
  .page__current {
    --tw-bg-opacity: 1;
    background-color: rgb(148 163 184 / var(--tw-bg-opacity));
  }
}

.page__current {
  --tw-text-opacity: 1;
  color: rgb(255 255 255 / var(--tw-text-opacity));
}

@media (prefers-color-scheme: dark) {
  .page__current {
    --tw-text-opacity: 1;
    color: rgb(51 65 85 / var(--tw-text-opacity));
  }
}

.page__current {
  border-radius: 9999px;
  cursor: default;
}
–ü—Ä–∏ —ç—Ç–æ–º, –µ—Å–ª–∏ –∫–ª–∞—Å—Å –Ω–∏–≥–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —Ç–æ –æ–Ω –Ω–µ –ø–æ–ø–∞–¥–µ—Ç –≤ —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∏–π —Ñ–∞–π–ª. –£–∫–∞–∑–∞—Ç—å, –≥–¥–µ –∏ –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∫–ª–∞—Å—Å–æ–≤ –º–æ–∂–Ω–æ –≤ tailwind.config.js:
/** @type {import('tailwindcss').Config} */

module.exports = {
  content: [
    "./focus/**/*.{html,js}",
    "./accounts/**/*.{html,js}",
    "./frontend/src/**/*.{html,vue,js}"
  ],
  theme: {
    extend: {},
    fontFamily: {
      sans: ["PT Sans", "sans-serif"],
    },
  },
  plugins: [require("@tailwindcss/typography"), require("@tailwindcss/forms")],
};
–í–æ–æ–±—â–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Tailwind –ø—Ä—è–º–æ –≤–æ Vue.js, –Ω–æ –ø–æ–∫–∞ –Ω–µ —Ä–∞–∑–±–∏—Ä–∞–ª—Å—è, –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞—Ç—å. –•–æ—Ç—è —ç—Ç–æ –±—ã–ª–æ –±—ã —É–¥–æ–±–Ω–µ–µ: –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∏–ª–∏ –≤–º–µ—Å—Ç–µ —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–î–ª—è —é–Ω–∏—Ç-—Ç–µ—Å—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é TestCase —Å–∞–º–æ–π Django. –ï—â–µ –µ—Å—Ç—å –ø–∞–ø–∫–∞ –≤ –ø—Ä–æ–µ–∫—Ç–µ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º functional_tests, –≤ –∫–æ—Ç–æ—Ä–æ–π —Ö—Ä–∞–Ω—è—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã, –Ω–∞ –æ—Å–Ω–æ–≤–µ Selenium+Chromedriver. –í —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–∞—Ö –ø–æ–∫—Ä—ã—Ç—å –≤–µ—Å—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ü–ª—é—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—à–∏–±–æ–∫. 
–ü–æ–∫–∞ –Ω–µ –ø–æ–¥—Å—Ç—É–ø–∞–ª—Å—è –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –≤—ã–∫–∞—Ç–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä. –í—Ä–æ–¥–µ –µ—Å—Ç—å Mailtrap, –Ω–æ —Ä—É–∫–∏ –ø–æ–∫–∞ –Ω–µ –¥–æ—à–ª–∏. –ü—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ª–æ–∫–∞–ª—å–Ω–æ ‚Äî –ø–æ–¥–º–µ–Ω—è—é –ø–æ—á—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç –Ω–∞ console.EmailBackend, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—á–∞—Ç–∞–µ—Ç –ø–æ—á—Ç—É –ø—Ä—è–º–æ –≤ –∫–æ–Ω—Å–æ–ª—å:
if DEBUG:
    EMAIL_BACKEND = "django.core.mail.backends.console.EmailBackend"
else:
    EMAIL_USE_TLS = True
    EMAIL_HOST = ‚Äò***‚Äô
    EMAIL_PORT = 587
    EMAIL_HOST_USER = ‚Äò***‚Äô
    EMAIL_HOST_PASSWORD = os.environ.get('EMAIL_HOST_PASSWORD', '')
    DEFAULT_FROM_EMAIL = ‚Äò***‚Äô
–ò –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é –µ–µ —Å –ø–æ–º–æ—â—å—é django.core.mail. –¢–∞–º –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø–∏—Å—å–º–∞ –∏ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∏—Ö —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:
# –ê –≤ –ø–æ—á—Ç–æ–≤–æ–º —è—â–∏–∫–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–∏—Å—å–º–æ
self.assertEqual(len(mail.outbox), 1)

# –í –ø–∏—Å—å–º–µ –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ –Ω–∞ –≤—Ö–æ–¥
email_text = mail.outbox[0].body
link = re.search(r'(http.*)$', email_text, re.MULTILINE).group(1)
self.assertIsNotNone(link)
Vue.JS –ø–æ–∫–∞ –Ω–∏–∫–∞–∫ –Ω–µ —Ç–µ—Å—Ç–∏—Ä—É—é.
Dokku
–î–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —è –∏—Å–ø–æ–ª—å–∑—É—é Dokku. –≠—Ç–æ –æ–ø–µ–Ω—Å–æ—Ä—Å–Ω—ã–π –∞–Ω–∞–ª–æ–≥ Heroku ‚Äî –æ–±–ª–∞—á–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏. –ó–≤—É—á–∏—Ç —Å–ª–æ–∂–Ω–æ, –∞ –Ω–∞ –¥–µ–ª–µ –≤—ã –ø—Ä–æ—Å—Ç–æ –ø—É—à–∏—Ç–µ –≤–µ—Ç–∫—É –ø–æ –∞–¥—Ä–µ—Å—É –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –æ–Ω–æ —Å–∞–º–æ —Ç–∞–º –≤—Å–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–µ—Ç—Å—è. –í –ø–µ—Ä–≤—ã–π —Ä–∞–∑ —è —Å —ç—Ç–∏–º –ø–æ–¥—Ö–æ–¥–æ–º —Å—Ç–æ–ª–∫–Ω—É–ª—Å—è –≤ —Å—Ç–∞—Ç—å–µ @ohld–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π –ü—Ä–æ–¥–∞–∫—à–Ω-—Ä–µ–¥–∏ –¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç –Ω–∞ Django.
–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–æ–µ–∫—Ç Django –≤ Dokku –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞:
.buildpacks‚Äî —É–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–æ–π —Å–±–æ—Ä—â–∏–∫ –ø—Ä–æ–µ–∫—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
https://github.com/heroku/heroku-buildpack-python.git#v222
App.json ‚Äî –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, cron:
{
  "formation": {
    "web": {
      "quantity": 1
    }
  },
  "cron": [
    {
      "command": "python manage.py clean_users",
      "schedule": "@daily"
    },
    {
      "command": "cd af_dbt && dbt deps && dbt run",
      "schedule": "@daily"
    }
  ]
}
Procfile ‚Äî —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø—Ä–æ—Ü–µ—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –±–∏–ª–¥–∞:
release: python manage.py migrate --noinput && python manage.py collectstatic --no-input
web: gunicorn --bind :$PORT --workers 4 --worker-class uvicorn.workers.UvicornWorker autofocus.asgi:application
Runtime.txt ‚Äî —É–∫–∞–∑—ã–≤–∞–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –≤–µ—Ä—Å–∏—é Python:
python-3.10.8
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–æ—Å—Ç–æ –ø—É—à–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∏ –≤—Å–µ. Dokku —à—É—Ä—à–∏—Ç –∏ –±–µ—Å—à–æ–≤–Ω–æ –≤—ã–∫–∞—Ç—ã–≤–∞–µ—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –ø–æ–≤–µ—Ä—Ö —Å—Ç–∞—Ä–æ–π.
Postrgres
–¢–∞–∫–∂–µ –≤–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –∫–∞–∫–∞—è-—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö. –Ø –≤—ã–±—Ä–∞–ª Postgres –∏ –ø–ª–∞–≥–∏–Ω –∫ Dokku dokku postgres. –° –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥ create –∏ link —Å–æ–∑–¥–∞–µ—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç–µ –µ–µ –∫ –≤–∞—à–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é. –¢–∞–∫–∂–µ, –≤—ã –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å –±–∞–∑—É –¥–æ—Å—Ç—É–ø–Ω–æ–π —Å–Ω–∞—Ä—É–∂–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø—Ä–∏ –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã expose. –ê –µ—â–µ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –±–∞–∫–µ—Ç –≤ –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–µ. –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É backup-auth. –í –∫–∞—á–µ—Å—Ç–≤–µ –ø–µ—Ä–≤–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —É–∫–∞–∑–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ –ë–î, –∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ç–æ—Ä–æ–≥–æ –∏ —Ç—Ä–µ—Ç—å–µ–≥–æ ‚Äî id –∏ key —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –º–∞–∫–µ—Ç—É.
dokku postgres:backup-auth <service> \
    <aws-access-key-id> <aws-secret-access-key> \
    ru-central1 s3v4 https://storage.yandexcloud.net
–ü–æ—Å–ª–µ —á–µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã backup-schedule. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤ –±–∞–∫–µ—Ç–µ –Ω–∞—á–Ω—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –±—ç–∫–∞–ø—ã:
dj_database_url
–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è Django, –∫–æ—Ç–æ—Ä–æ–µ –∏—â–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º DATABASE_URL –∏, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å, —Å–æ–∑–¥–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –µ–µ –æ—Å–Ω–æ–≤–µ. –í –∫–æ–¥–µ Django —É–∫–∞–∑—ã–≤–∞–µ—Ç–µ:
DATABASES = {
    'default': dj_database_url.config(conn_max_age=600,
                                      default="sqlite:///db.sqlite3"),
}
–ò —Ç–æ–≥–¥–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–∞–∑–∞ SQLLite, –∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –≥–¥–µ —É–∫–∞–∑–∞–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –≤–∏–¥–∞:
DATABASE_URL=postgres://user:p#ssword!@localhost/foobar
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ Postgres. –ê dokku-postgres –µ–µ –∫–∞–∫ —Ä–∞–∑ –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç, –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å –±–∞–∑–æ–π.
dokku-letsencrypt
–ü–ª–∞–≥–∏–Ω, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞–Ω–∏–µ–º –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –¥–ª—è –¥–æ–º–µ–Ω–æ–≤. –£–∫–∞–∑—ã–≤–∞–µ—Ç–µ –∏–º—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –¥–æ–º–µ–Ω—ã, –∞ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ –ø–ª–∞–≥–∏–Ω —Å–¥–µ–ª–∞–µ—Ç —Å–∞–º.
Whitenoise
–ú–æ–¥—É–ª—å, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –æ—Ç–¥–∞—á–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –≤ Django. –°–∂–∏–º–∞–µ—Ç –∏—Ö, –ø—Ä–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å CDN. –û—Ç–¥–∞—á–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –≤ –î–∂–∞–Ω–≥–æ –¥–ª—è –º–µ–Ω—è –¥–æ —Å–∏—Ö –ø–æ—Ä –ø–ª—è—Å–∫–∞ —Å –±—É–±–Ω–æ–º —Å–µ–π—á–∞—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ä–µ–∂–∏–º–µ. –í –î–æ–∫–∫—É –ø—Ä–æ–±—Ä–æ—à–µ–Ω–∞ –ø–∞–ø–∫–∞ staticfiles –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –∏ –ø–∞–ø–∫–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã storage. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –î–∂–∞–Ω–≥–æ —Ç–∞–∫:
STATICFILES_DIRS = (
    os.path.join(BASE_DIR, 'static'),
)

STATIC_URL = 'static/'

if not DEBUG:
    STATICFILES_STORAGE = ('whitenoise.storage.'
                           'CompressedManifestStaticFilesStorage')
    STATIC_ROOT = BASE_DIR / 'staticfiles'
Rollbar
–ö–æ–≥–¥–∞-—Ç–æ –¥–∞–≤–Ω–æ –Ω–∞—Ç–∫–Ω—É–ª—Å—è –Ω–∞ rollbar –≤ —Å–æ–≤–µ—Ç–µ –±—é—Ä–æ –∏ —Å —Ç–µ—Ö –ø–æ—Ä –∏—Å–ø–æ–ª—å–∑—É—é –≤ —Å–≤–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –¥–≤—É–º—è (–Ω—É –ª–∞–¥–Ω–æ, —Å–µ–º—å—é) —Å—Ç—Ä–æ—á–∫–∞–º–∏ –∫–æ–¥–∞. –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã—è–≤–ª—è—Ç—å –æ—à–∏–±–∫–∏ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ:
Django Management Command
–í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ–∑–¥–∞—é—Ç—Å—è –∑–∞–¥–∞—á–∏ –¥–ª—è –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞. –≠—Ç–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å –∑–∞–¥–∞—á–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—Ç–º–µ—á–∞–ª–∏, —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–Ω–æ–≥–æ –∏ –Ω–∞–¥–æ –≤—Ä–µ–º—è –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ –∏–∑–±–∞–≤–ª—è—Ç—å—Å—è –æ—Ç –º–µ—Ä—Ç–≤—ã—Ö –¥—É—à. –≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã Django, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ Dokku –ø–æ –∫—Ä–æ–Ω—É, –æ–ø–∏—Å–∞–Ω–Ω–æ–º—É –≤ app.json:
"cron": [
    {
      "command": "python manage.py clean_users",
      "schedule": "@daily"
    },
    ...
  ]
–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
–°–µ–π—á–∞—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–æ –ø—Ä–æ—Å—Ç—ã–º bash —Å–∫—Ä–∏–ø—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø–∞–∫–∏ vuejs, css, –∑–∞–ø—É—Å–∫–∞–µ—Ç —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏, –µ—Å–ª–∏ –≤—Å–µ —Ö–æ—Ä–æ—à–æ, –∫–æ–º–º–∏—Ç–∏—Ç –ø—Ä–æ–µ–∫—Ç –≤ Dokku. –í –¥–æ–∫–∫—É –µ—Å—Ç—å –¥–≤–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è autofocus-stg –∏ autofocus. –°–ø–µ—Ä–≤–∞ –∏–¥–µ—Ç –¥–µ–ø–ª–æ–π –≤ –ø–µ—Ä–≤—ã–π. –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç, —Ç–æ —Ä—É–∫–∞–º–∏ –∑–∞–ø—É—Å–∫–∞—é –¥–µ–ø–ª–æ–π –≤ —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é. 
–í–æ–æ–±—â–µ dokku –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é GitHub Actions. –ù–æ —Ä—É–∫–∏ –ø–æ–∫–∞ –Ω–µ –¥–æ—à–ª–∏. –≠—Ç–æ –º–æ–∂–Ω–æ –ø–æ–¥—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ —Ç–µ–ª–µ–≥—Ä–∞–º–º-–±–æ—Ç–∞.
–ê–Ω–∞–ª–∏—Ç–∏–∫–∞

–î–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é dbt —Å –∞–¥–∞–ø—Ç–µ—Ä–æ–º Postgres. –° –µ–≥–æ –ø–æ–º–æ—â—å—é –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ —Å–¥–µ–ª–∞—Ç—å —Ä–∞–±–æ—Ç–∞—é—â–∏–π –∫–æ–Ω–≤–µ–µ—Ä, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏–π –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é —Ü–µ–ø–æ—á–µ–∫ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤. Dbt —Ç–æ–∂–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é. –ê –¥–∞–Ω–Ω—ã–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ —Å—Ö–µ–º—É dbt –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:

–ê –ø–æ—Ç–æ–º –∏–∑ —ç—Ç–æ–π —Ç–∞–±–ª–∏—Ü—ã —è –∑–∞–±–∏—Ä–∞—é –¥–∞–Ω–Ω—ã–µ –≤ DataLens –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏:
–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å–ª–µ–¥—É–µ—Ç
–ù–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ —ç—Ç–æ –ø—Ä–∏–º–µ—Ä–Ω–æ –≤—Å–µ, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏. –ï—Å–ª–∏ –µ—Å—Ç—å –∫–∞–∫–∏–µ-—Ç–æ –≤–æ–ø—Ä–æ—Å—ã ‚Äî –±—É–¥—É —Ä–∞–¥ –æ—Ç–≤–µ—Ç–∏—Ç—å. –ï—Å–ª–∏ –µ—Å—Ç—å –∑–∞–º–µ—á–∞–Ω–∏—è, –∫–∞–∫ –ª—É—á—à–µ —Å–¥–µ–ª–∞—Ç—å ‚Äî –±—É–¥—É —Ä–∞–¥ –≤—ã—Å–ª—É—à–∞—Ç—å. üôè –°–ø–∞—Å–∏–±–æ, —á—Ç–æ –¥–æ—á–∏—Ç–∞–ª–∏.
–í—Å–µ–º –º–∏—Ä ‚ô•Ô∏è   –ü—Ä–∏–≤–µ—Ç. –°–µ–≥–æ–¥–Ω—è —Ö–æ—á—É —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –ø—Ä–æ —Ç–æ, –∫–∞–∫ –∑–∞ –∫—É–ª–∏—Å–∞–º–∏ —É—Å—Ç—Ä–æ–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ –º–æ–µ–≥–æ –º–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç–∞ –ø–æ –≤–µ–¥–µ–Ω–∏—é –∑–∞–¥–∞—á autofocus.su. –í –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∑–∞–º–µ—Ç–∫–µ —è —Ä–∞—Å—Å–∫–∞–∑–∞–ª –ø—Ä–æ –ø—Ä–∏–Ω—Ü–∏–ø—ã, –ª–µ–∂–∞—â–∏–µ –≤ –æ—Å–Ω–æ–≤–µ –º–µ—Ç–æ–¥–∞ –ê–≤—Ç–æ—Ñ–æ–∫—É—Å–∞. –ê —Ç—É—Ç –±—É–¥–µ—Ç —Å–∫–æ—Ä–µ–µ –Ω–∞–±–æ—Ä –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ —Å –∫–æ—Ä–æ—Ç–∫–∏–º–∏ –æ–ø–∏—Å–∞–Ω–∏—è–º–∏ —Ç–æ–≥–æ, —á—Ç–æ –∏ –∫–∞–∫ —Å–≤—è–∑–∞–Ω–æ –º–µ–∂–¥—É —Å–æ–±–æ–π. –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –±—É–¥–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –≤ –≤–∞—à–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Å–ª—É—á–∞–µ, –Ω–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –ø–æ–∏—Å–∫–æ–≤ –±—É–¥—É—Ç –ø–æ–Ω—è—Ç–Ω—ã. autofocus.su –∑–∞–º–µ—Ç–∫–µ –õ–∏—á–Ω–æ –º–Ω–µ —á–∞—Å—Ç–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –∫–∞–∫–æ–≥–æ-—Ç–æ —Å–∫–µ–ª–µ—Ç–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —á—Ç–æ–±—ã –±—ã–ª–æ —Å —á–µ–≥–æ –Ω–∞—á–∞—Ç—å. –ù–∞–¥–µ—é—Å—å, —á—Ç–æ –±—É–¥—É –ø–æ–ª–µ–∑–µ–Ω. –ù–∞—á–Ω–µ–º —Å –±—ç–∫–µ–Ω–¥–∞. Django –í –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî Django. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è –∫–æ—Å–º–∏—á–µ—Å–∫–∏—Ö –∑–≤–µ–∑–¥–æ–ª–µ—Ç–æ–≤. –û—á–µ–Ω—å –º–Ω–æ–≥–æ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏ –Ω—é–∞–Ω—Å–∞–º –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ —Å—Ç–∞—Ç—å—è—Ö @kesn –°–ø–∞—Å–∏–±–æ –µ–º—É –∑–∞ —ç—Ç–æ! Django @kesn –í –î–∂–∞–Ω–≥–æ —É –º–µ–Ω—è —Å–µ–π—á–∞—Å —Ç—Ä–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî –¥–ª—è –∑–∞–¥–∞—á, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏–ª —Å–≤–æ–∏–º –∫–ª–∞—Å—Å–æ–º User –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö: AUTH_USER_MODEL = 'accounts.User' AUTH_USER_MODEL = 'accounts.User' –ü–æ–º–∏–º–æ –ø—Ä–æ—á–µ–≥–æ, —è —Å–¥–µ–ª–∞–ª –æ—Å–Ω–æ–≤–Ω—ã–º –∫–ª—é—á–æ–º –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–ø–æ—á—Ç—ã –∏ —É–±—Ä–∞–ª –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è: email = models.EmailField(primary_key=True)
password = None
REQUIRED_FIELDS = []
USERNAME_FIELD = 'email' email = models.EmailField(primary_key=True)
password = None
REQUIRED_FIELDS = []
USERNAME_FIELD = 'email' –≠—Ç–æ—Ç –∫–ª–∞—Å—Å —è –∏—Å–ø–æ–ª—å–∑—É—é –≤–º–µ—Å—Ç–µ —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ Django-sesame. django-sesame –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ Django —Å –ø–æ–º–æ—â—å—é –≤–æ–ª—à–µ–±–Ω—ã—Ö —Å—Å—ã–ª–æ–∫. –ü—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –≤ –ø—Ä–æ–µ–∫—Ç, –¥–µ–ª–∞–µ—Ç–µ –ø—è—Ç–æ–∫ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –º–æ–∂–µ—Ç–µ –ø—Ä–∏—Å—ã–ª–∞—Ç—å –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è–º —Å—Å—ã–ª–∫–∏, –ø–µ—Ä–µ–π–¥—è –ø–æ –∫–æ—Ç–æ—Ä—ã–º –æ–Ω–∏ —Å–º–æ–≥—É—Ç –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è https://example.com/sesame/login/?sesame=zxST9d0XT9xgfYLvoa9e2myN https://example.com/sesame/login/?sesame=zxST9d0XT9xgfYLvoa9e2myN –í–∏–¥ —Å—Å—ã–ª–∫–∏, —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –∏ –¥—Ä—É–≥–∏–µ –Ω—é–∞–Ω—Å—ã –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å. –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–º–µ—á–∞—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–∞–∫ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–≤—à–∏—Ö —Å–≤–æ–π –∞–¥—Ä–µ—Å –ø–æ—á—Ç—ã. dotenv –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è python, –∫–æ—Ç–æ—Ä–∞—è —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª .env –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—ã. –ê –≤—ã –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ .gitignore –∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –Ω–∞—Å—Ç–æ—è—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã. –†–µ—à–∞–µ—Ç –∫—É—á—É –≥–æ–ª–æ–≤–Ω–æ–π –±–æ–ª–∏ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é. –í settings.py –ø–∏—à–µ–º: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ .env .gitignore settings.py import dotenv

dotenv_file = BASE_DIR / ".env"
if os.path.isfile(dotenv_file):
    dotenv.load_dotenv(dotenv_file) import dotenv

dotenv_file = BASE_DIR / ".env"
if os.path.isfile(dotenv_file):
    dotenv.load_dotenv(dotenv_file) –ê –¥–∞–ª—å—à–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã –∫–∞–∫ –æ–±—ã—á–Ω–æ: DEBUG = os.environ.get('DJANGO_DEBUG', default=False) in [
    'True', 'true', '1', True] DEBUG = os.environ.get('DJANGO_DEBUG', default=False) in [
    'True', 'true', '1', True] –ï—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ .env —Å—Ç—Ä–æ–∫—É .env DJANGO_DEBUG=1 DJANGO_DEBUG=1 –¢–æ DEBUG –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±—É–¥–µ—Ç —Ä–∞–≤–µ–Ω True DEBUG True graphene-django –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ê–ü–ò –Ω–∞ –æ—Å–Ω–æ–≤–µ —è–∑—ã–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ GraphQL. –ï–≥–æ –ø—Ä–∏–¥—É–º–∞–ª–∏ –≤ Facebook (–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, –∑–∞–ø—Ä–µ—â–µ–Ω–Ω–æ–π –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –†–æ—Å—Å–∏–∏). –û–Ω  –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –ê–ü–ò –Ω–∞ –æ–¥–Ω—É —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø–∞ –∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å, –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –Ω—É–∂–Ω—ã, —É—á–∏—Ç—ã–≤–∞—è –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫–æ–π –∑–∞–ø—Ä–æ—Å: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ GraphQL query UserItems
    {
        user {
            pages
            page
            email
            isValidated
        }
        items {
            text
            id
            repeats
            state
        }
    } query UserItems
    {
        user {
            pages
            page
            email
            isValidated
        }
        items {
            text
            id
            repeats
            state
        }
    } –ò –≤ –æ—Ç–≤–µ—Ç –ø—Ä–∏–¥–µ—Ç –æ–±—ä–µ–∫—Ç User –∏ –º–∞—Å—Å–∏–≤ Items —Å –∑–∞–¥–∞—á–∫–∞–º–∏. –ê –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é –º—É—Ç–∞—Ü–∏–π: User Items mutation addItem($text: String!){
    createItem(text: $text){
        user {
           email
        }
    }
  } mutation addItem($text: String!){
    createItem(text: $text){
        user {
           email
        }
    }
  } –ö–æ–Ω–µ—á–Ω–æ, —ç—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä—è–º —Å –¥–≤—É—Ö —Å—Ç—Ä–æ–∫. –í–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã –º–æ–∂–µ—Ç –æ—Ç–¥–∞–≤–∞—Ç—å –≤–∞—à–∞ —Ç–æ—á–∫–∞ graphql –∏ –∫–∞–∫ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –º—É—Ç–∞—Ü–∏–∏. –°–ø–µ—Ä–≤–∞ –º–µ–Ω—è graphql –Ω–µ–º–Ω–æ–≥–æ –ø—É–≥–∞–ª, –∞ –ø–æ—Ç–æ–º —Ä–∞—Å–ø—Ä–æ–±–æ–≤–∞–ª. –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Ñ—Ä–æ–Ω—Ç—É. Vue.js –í –∫–∞—á–µ—Å—Ç–≤–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —á–∞—Å—Ç–∏ –≤—ã–±—Ä–∞–ª Vue.js –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–æ—á–µ–º—É –±—ã –∏ –Ω–µ—Ç. –°–¥–µ–ª–∞–ª –≤–µ—Ä—Å–∏—é –∏–∑ –∫–æ—Ä–æ–±–∫–∏ —Å Typescript. –ù–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ frontend —Ä—è–¥–æ–º —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ Django: Vue.js   –ò–∑ –≤–∞–∂–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ —É–∫–∞–∑–∞–ª —Ä–∞–∑–Ω—ã–µ –ø–∞–ø–∫–∏ –¥–ª—è production –∏ development: production development outputDir: process.env.NODE_ENV === "production" ? "dist" : "static" outputDir: process.env.NODE_ENV === "production" ? "dist" : "static" –ò —Ç–æ, –∫—É–¥–∞, —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å —Å–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã: configureWebpack: {
    output: {
      filename:
        process.env.NODE_ENV === "production"
          ? "../../static/js/[name].js"
          : "static/js/[name].js",
      chunkFilename:
        process.env.NODE_ENV === "production"
          ? "../../static/js/[name].js"
          : "static/js/[name].js",
    },
    plugins: [
      new WriteFilePlugin(),
      process.env.NODE_ENV === "production"
        ? new BundleTracker({
            filename: "webpack-stats-prod.json",
            publicPath: "/",
          })
        : new BundleTracker({
            filename: "webpack-stats.json",
            publicPath: "http://localhost:8080/",
          }),
    ],
  }, configureWebpack: {
    output: {
      filename:
        process.env.NODE_ENV === "production"
          ? "../../static/js/[name].js"
          : "static/js/[name].js",
      chunkFilename:
        process.env.NODE_ENV === "production"
          ? "../../static/js/[name].js"
          : "static/js/[name].js",
    },
    plugins: [
      new WriteFilePlugin(),
      process.env.NODE_ENV === "production"
        ? new BundleTracker({
            filename: "webpack-stats-prod.json",
            publicPath: "/",
          })
        : new BundleTracker({
            filename: "webpack-stats.json",
            publicPath: "http://localhost:8080/",
          }),
    ],
  }, –ê –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–¥—Ä—É–∂–∏—Ç—å –≤—Å–µ —ç—Ç–æ —Å Django –ø–æ–Ω–∞–¥–æ–±–∏–ª—Å—è: webpack_loader –ü–ª–∞–≥–∏–Ω –æ—Ç Jazzband, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∞–Ω–¥–ª—ã Webpack –≤ —à–∞–±–ª–æ–Ω–∞—Ö: –ü–ª–∞–≥–∏–Ω {% extends "base.html" %}

{% load render_bundle from webpack_loader %}

{% block title %}
  Autofocus
{% endblock title %}

{% block head %}
  {{ block.super }}
{% endblock head %}
    
{% block body %}
  <div id="app"></div>
{% endblock body %}

{% block script %}
  {% render_bundle 'app' %}
{% endblock script %} {% extends "base.html" %}

{% load render_bundle from webpack_loader %}

{% block title %}
  Autofocus
{% endblock title %}

{% block head %}
  {{ block.super }}
{% endblock head %}
    
{% block body %}
  <div id="app"></div>
{% endblock body %}

{% block script %}
  {% render_bundle 'app' %}
{% endblock script %} Vue Apollo –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–¥—Ä—É–∂–∏—Ç—å Vue.JS —Å GraphQL –µ—Å—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Vue Apollo. –ü–æ–¥–∫–ª—é—á–∞–µ–º –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –Ω–µ –∑–∞–±—ã–≤–∞–µ–º –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–æ–∫–∏–Ω—É—Ç—å x-csrftoken. –ï–≥–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –≤—ã—Ç–∞—Å–∫–∏–≤–∞–µ–º –∏–∑ –∫—É–∫ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –ø–∞–∫–µ—Ç–∞ js-cookie: Vue Apollo csrftoken js-cookie import { createApp, provide, h } from "vue";
import App from "./App.vue";
import "./registerServiceWorker";
import { DefaultApolloClient } from "@vue/apollo-composable";
import { ApolloClient, InMemoryCache, createHttpLink } from "@apollo/client/core";
import Cookies from "js-cookie";

const cache = new InMemoryCache();

const link = createHttpLink({
    uri: "/graphql",
    headers: {
        "x-csrftoken": Cookies.get("csrftoken")
    }
});

const apolloClient = new ApolloClient({
    cache,
    link: link,
});

const app = createApp({
    setup() {
        provide(DefaultApolloClient, apolloClient);
    },

    render: () => h(App),
});

app.mount("#app"); import { createApp, provide, h } from "vue";
import App from "./App.vue";
import "./registerServiceWorker";
import { DefaultApolloClient } from "@vue/apollo-composable";
import { ApolloClient, InMemoryCache, createHttpLink } from "@apollo/client/core";
import Cookies from "js-cookie";

const cache = new InMemoryCache();

const link = createHttpLink({
    uri: "/graphql",
    headers: {
        "x-csrftoken": Cookies.get("csrftoken")
    }
});

const apolloClient = new ApolloClient({
    cache,
    link: link,
});

const app = createApp({
    setup() {
        provide(DefaultApolloClient, apolloClient);
    },

    render: () => h(App),
});

app.mount("#app"); Tailwind CSS –î–ª—è css –∏—Å–ø–æ–ª—å–∑—É—é Tailwind css. –ï–≥–æ –ø—Ä–µ–ª–µ—Å—Ç—å –≤ —Ç–æ–º, —á—Ç–æ, –≤–æ-–ø–µ—Ä–≤—ã—Ö, —Ç–∞–º –µ—Å—Ç—å —Ö–æ—Ä–æ—à–æ –ø—Ä–æ–¥—É–º–∞–Ω–Ω–∞—è –∏ —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–ª–∞—Å—Å–æ–≤. –í–æ-–≤—Ç–æ—Ä—ã—Ö, –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∏—Ö –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏ —Ç–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –Ω–µ –≤—Å—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É, –∞ —Ç–æ–ª—å–∫–æ —Ç–µ –∫–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è. –ù–∞–ø—Ä–∏–º–µ—Ä –≤—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å —Ç–∞–∫–æ–π –∫–æ–¥: Tailwind css .page__current {
    @apply bg-slate-800 dark:bg-slate-400;
    @apply text-white dark:text-slate-700;
    @apply rounded-full;
    @apply cursor-default;
  } .page__current {
    @apply bg-slate-800 dark:bg-slate-400;
    @apply text-white dark:text-slate-700;
    @apply rounded-full;
    @apply cursor-default;
  } –ê –Ω–∞ –≤—ã—Ö–æ–¥–µ –ø–æ–ª—É—á–∏—Ç—Å—è: .page__current {
  --tw-bg-opacity: 1;
  background-color: rgb(30 41 59 / var(--tw-bg-opacity));
}

@media (prefers-color-scheme: dark) {
  .page__current {
    --tw-bg-opacity: 1;
    background-color: rgb(148 163 184 / var(--tw-bg-opacity));
  }
}

.page__current {
  --tw-text-opacity: 1;
  color: rgb(255 255 255 / var(--tw-text-opacity));
}

@media (prefers-color-scheme: dark) {
  .page__current {
    --tw-text-opacity: 1;
    color: rgb(51 65 85 / var(--tw-text-opacity));
  }
}

.page__current {
  border-radius: 9999px;
  cursor: default;
} .page__current {
  --tw-bg-opacity: 1;
  background-color: rgb(30 41 59 / var(--tw-bg-opacity));
}

@media (prefers-color-scheme: dark) {
  .page__current {
    --tw-bg-opacity: 1;
    background-color: rgb(148 163 184 / var(--tw-bg-opacity));
  }
}

.page__current {
  --tw-text-opacity: 1;
  color: rgb(255 255 255 / var(--tw-text-opacity));
}

@media (prefers-color-scheme: dark) {
  .page__current {
    --tw-text-opacity: 1;
    color: rgb(51 65 85 / var(--tw-text-opacity));
  }
}

.page__current {
  border-radius: 9999px;
  cursor: default;
} –ü—Ä–∏ —ç—Ç–æ–º, –µ—Å–ª–∏ –∫–ª–∞—Å—Å –Ω–∏–≥–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —Ç–æ –æ–Ω –Ω–µ –ø–æ–ø–∞–¥–µ—Ç –≤ —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∏–π —Ñ–∞–π–ª. –£–∫–∞–∑–∞—Ç—å, –≥–¥–µ –∏ –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∫–ª–∞—Å—Å–æ–≤ –º–æ–∂–Ω–æ –≤ tailwind.config.js: /** @type {import('tailwindcss').Config} */

module.exports = {
  content: [
    "./focus/**/*.{html,js}",
    "./accounts/**/*.{html,js}",
    "./frontend/src/**/*.{html,vue,js}"
  ],
  theme: {
    extend: {},
    fontFamily: {
      sans: ["PT Sans", "sans-serif"],
    },
  },
  plugins: [require("@tailwindcss/typography"), require("@tailwindcss/forms")],
}; /** @type {import('tailwindcss').Config} */

module.exports = {
  content: [
    "./focus/**/*.{html,js}",
    "./accounts/**/*.{html,js}",
    "./frontend/src/**/*.{html,vue,js}"
  ],
  theme: {
    extend: {},
    fontFamily: {
      sans: ["PT Sans", "sans-serif"],
    },
  },
  plugins: [require("@tailwindcss/typography"), require("@tailwindcss/forms")],
}; –í–æ–æ–±—â–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Tailwind –ø—Ä—è–º–æ –≤–æ Vue.js, –Ω–æ –ø–æ–∫–∞ –Ω–µ —Ä–∞–∑–±–∏—Ä–∞–ª—Å—è, –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞—Ç—å. –•–æ—Ç—è —ç—Ç–æ –±—ã–ª–æ –±—ã —É–¥–æ–±–Ω–µ–µ: –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∏–ª–∏ –≤–º–µ—Å—Ç–µ —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –î–ª—è —é–Ω–∏—Ç-—Ç–µ—Å—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é TestCase —Å–∞–º–æ–π Django. –ï—â–µ –µ—Å—Ç—å –ø–∞–ø–∫–∞ –≤ –ø—Ä–æ–µ–∫—Ç–µ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º functional_tests, –≤ –∫–æ—Ç–æ—Ä–æ–π —Ö—Ä–∞–Ω—è—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã, –Ω–∞ –æ—Å–Ω–æ–≤–µ Selenium+Chromedriver. –í —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–∞—Ö –ø–æ–∫—Ä—ã—Ç—å –≤–µ—Å—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ü–ª—é—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—à–∏–±–æ–∫.  TestCase functional_tests –ü–æ–∫–∞ –Ω–µ –ø–æ–¥—Å—Ç—É–ø–∞–ª—Å—è –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –≤—ã–∫–∞—Ç–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä. –í—Ä–æ–¥–µ –µ—Å—Ç—å Mailtrap, –Ω–æ —Ä—É–∫–∏ –ø–æ–∫–∞ –Ω–µ –¥–æ—à–ª–∏. –ü—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ª–æ–∫–∞–ª—å–Ω–æ ‚Äî –ø–æ–¥–º–µ–Ω—è—é –ø–æ—á—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç –Ω–∞ console.EmailBackend, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—á–∞—Ç–∞–µ—Ç –ø–æ—á—Ç—É –ø—Ä—è–º–æ –≤ –∫–æ–Ω—Å–æ–ª—å: Mailtrap console.EmailBackend if DEBUG:
    EMAIL_BACKEND = "django.core.mail.backends.console.EmailBackend"
else:
    EMAIL_USE_TLS = True
    EMAIL_HOST = ‚Äò***‚Äô
    EMAIL_PORT = 587
    EMAIL_HOST_USER = ‚Äò***‚Äô
    EMAIL_HOST_PASSWORD = os.environ.get('EMAIL_HOST_PASSWORD', '')
    DEFAULT_FROM_EMAIL = ‚Äò***‚Äô if DEBUG:
    EMAIL_BACKEND = "django.core.mail.backends.console.EmailBackend"
else:
    EMAIL_USE_TLS = True
    EMAIL_HOST = ‚Äò***‚Äô
    EMAIL_PORT = 587
    EMAIL_HOST_USER = ‚Äò***‚Äô
    EMAIL_HOST_PASSWORD = os.environ.get('EMAIL_HOST_PASSWORD', '')
    DEFAULT_FROM_EMAIL = ‚Äò***‚Äô –ò –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é –µ–µ —Å –ø–æ–º–æ—â—å—é django.core.mail. –¢–∞–º –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø–∏—Å—å–º–∞ –∏ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∏—Ö —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ: django.core.mail # –ê –≤ –ø–æ—á—Ç–æ–≤–æ–º —è—â–∏–∫–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–∏—Å—å–º–æ
self.assertEqual(len(mail.outbox), 1)

# –í –ø–∏—Å—å–º–µ –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ –Ω–∞ –≤—Ö–æ–¥
email_text = mail.outbox[0].body
link = re.search(r'(http.*)$', email_text, re.MULTILINE).group(1)
self.assertIsNotNone(link) # –ê –≤ –ø–æ—á—Ç–æ–≤–æ–º —è—â–∏–∫–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–∏—Å—å–º–æ
self.assertEqual(len(mail.outbox), 1)

# –í –ø–∏—Å—å–º–µ –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ –Ω–∞ –≤—Ö–æ–¥
email_text = mail.outbox[0].body
link = re.search(r'(http.*)$', email_text, re.MULTILINE).group(1)
self.assertIsNotNone(link) Vue.JS –ø–æ–∫–∞ –Ω–∏–∫–∞–∫ –Ω–µ —Ç–µ—Å—Ç–∏—Ä—É—é. Dokku –î–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —è –∏—Å–ø–æ–ª—å–∑—É—é Dokku. –≠—Ç–æ –æ–ø–µ–Ω—Å–æ—Ä—Å–Ω—ã–π –∞–Ω–∞–ª–æ–≥ Heroku ‚Äî –æ–±–ª–∞—á–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏. –ó–≤—É—á–∏—Ç —Å–ª–æ–∂–Ω–æ, –∞ –Ω–∞ –¥–µ–ª–µ –≤—ã –ø—Ä–æ—Å—Ç–æ –ø—É—à–∏—Ç–µ –≤–µ—Ç–∫—É –ø–æ –∞–¥—Ä–µ—Å—É –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –æ–Ω–æ —Å–∞–º–æ —Ç–∞–º –≤—Å–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–µ—Ç—Å—è. –í –ø–µ—Ä–≤—ã–π —Ä–∞–∑ —è —Å —ç—Ç–∏–º –ø–æ–¥—Ö–æ–¥–æ–º —Å—Ç–æ–ª–∫–Ω—É–ª—Å—è –≤ —Å—Ç–∞—Ç—å–µ @ohld–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π –ü—Ä–æ–¥–∞–∫—à–Ω-—Ä–µ–¥–∏ –¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç –Ω–∞ Django. Dokku Heroku @ohld –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π –ü—Ä–æ–¥–∞–∫—à–Ω-—Ä–µ–¥–∏ –¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç –Ω–∞ Django –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–æ–µ–∫—Ç Django –≤ Dokku –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞:
.buildpacks‚Äî —É–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–æ–π —Å–±–æ—Ä—â–∏–∫ –ø—Ä–æ–µ–∫—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:  .buildpacks https://github.com/heroku/heroku-buildpack-python.git#v222 https://github.com/heroku/heroku-buildpack-python.git#v222 App.json ‚Äî –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, cron: App.json cron {
  "formation": {
    "web": {
      "quantity": 1
    }
  },
  "cron": [
    {
      "command": "python manage.py clean_users",
      "schedule": "@daily"
    },
    {
      "command": "cd af_dbt && dbt deps && dbt run",
      "schedule": "@daily"
    }
  ]
} {
  "formation": {
    "web": {
      "quantity": 1
    }
  },
  "cron": [
    {
      "command": "python manage.py clean_users",
      "schedule": "@daily"
    },
    {
      "command": "cd af_dbt && dbt deps && dbt run",
      "schedule": "@daily"
    }
  ]
} Procfile ‚Äî —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø—Ä–æ—Ü–µ—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –±–∏–ª–¥–∞: Procfile release: python manage.py migrate --noinput && python manage.py collectstatic --no-input
web: gunicorn --bind :$PORT --workers 4 --worker-class uvicorn.workers.UvicornWorker autofocus.asgi:application release: python manage.py migrate --noinput && python manage.py collectstatic --no-input
web: gunicorn --bind :$PORT --workers 4 --worker-class uvicorn.workers.UvicornWorker autofocus.asgi:application Runtime.txt ‚Äî —É–∫–∞–∑—ã–≤–∞–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –≤–µ—Ä—Å–∏—é Python: Runtime.txt python-3.10.8 python-3.10.8 –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–æ—Å—Ç–æ –ø—É—à–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∏ –≤—Å–µ. Dokku —à—É—Ä—à–∏—Ç –∏ –±–µ—Å—à–æ–≤–Ω–æ –≤—ã–∫–∞—Ç—ã–≤–∞–µ—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –ø–æ–≤–µ—Ä—Ö —Å—Ç–∞—Ä–æ–π.   Postrgres –¢–∞–∫–∂–µ –≤–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –∫–∞–∫–∞—è-—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö. –Ø –≤—ã–±—Ä–∞–ª Postgres –∏ –ø–ª–∞–≥–∏–Ω –∫ Dokku dokku postgres. –° –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥ create –∏ link —Å–æ–∑–¥–∞–µ—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç–µ –µ–µ –∫ –≤–∞—à–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é. –¢–∞–∫–∂–µ, –≤—ã –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å –±–∞–∑—É –¥–æ—Å—Ç—É–ø–Ω–æ–π —Å–Ω–∞—Ä—É–∂–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø—Ä–∏ –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã expose. –ê –µ—â–µ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –±–∞–∫–µ—Ç –≤ –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–µ. –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É backup-auth. –í –∫–∞—á–µ—Å—Ç–≤–µ –ø–µ—Ä–≤–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —É–∫–∞–∑–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ –ë–î, –∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ç–æ—Ä–æ–≥–æ –∏ —Ç—Ä–µ—Ç—å–µ–≥–æ ‚Äî id –∏ key —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –º–∞–∫–µ—Ç—É. dokku postgres dokku postgres . create link expose backup-auth id key dokku postgres:backup-auth <service> \
    <aws-access-key-id> <aws-secret-access-key> \
    ru-central1 s3v4 https://storage.yandexcloud.net dokku postgres:backup-auth <service> \
    <aws-access-key-id> <aws-secret-access-key> \
    ru-central1 s3v4 https://storage.yandexcloud.net –ü–æ—Å–ª–µ —á–µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã backup-schedule. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤ –±–∞–∫–µ—Ç–µ –Ω–∞—á–Ω—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –±—ç–∫–∞–ø—ã:   dj_database_url –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è Django, –∫–æ—Ç–æ—Ä–æ–µ –∏—â–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º DATABASE_URL –∏, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å, —Å–æ–∑–¥–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –µ–µ –æ—Å–Ω–æ–≤–µ. –í –∫–æ–¥–µ Django —É–∫–∞–∑—ã–≤–∞–µ—Ç–µ: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ DATABASE_URL DATABASES = {
    'default': dj_database_url.config(conn_max_age=600,
                                      default="sqlite:///db.sqlite3"),
} DATABASES = {
    'default': dj_database_url.config(conn_max_age=600,
                                      default="sqlite:///db.sqlite3"),
} –ò —Ç–æ–≥–¥–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–∞–∑–∞ SQLLite, –∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –≥–¥–µ —É–∫–∞–∑–∞–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –≤–∏–¥–∞: DATABASE_URL=postgres://user:p#ssword!@localhost/foobar DATABASE_URL=postgres://user:p#ssword!@localhost/foobar –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ Postgres. –ê dokku-postgres –µ–µ –∫–∞–∫ —Ä–∞–∑ –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç, –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å –±–∞–∑–æ–π. dokku-letsencrypt –ü–ª–∞–≥–∏–Ω, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞–Ω–∏–µ–º –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –¥–ª—è –¥–æ–º–µ–Ω–æ–≤. –£–∫–∞–∑—ã–≤–∞–µ—Ç–µ –∏–º—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –¥–æ–º–µ–Ω—ã, –∞ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ –ø–ª–∞–≥–∏–Ω —Å–¥–µ–ª–∞–µ—Ç —Å–∞–º. –ü–ª–∞–≥–∏–Ω Whitenoise –ú–æ–¥—É–ª—å, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –æ—Ç–¥–∞—á–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –≤ Django. –°–∂–∏–º–∞–µ—Ç –∏—Ö, –ø—Ä–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å CDN. –û—Ç–¥–∞—á–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –≤ –î–∂–∞–Ω–≥–æ –¥–ª—è –º–µ–Ω—è –¥–æ —Å–∏—Ö –ø–æ—Ä –ø–ª—è—Å–∫–∞ —Å –±—É–±–Ω–æ–º —Å–µ–π—á–∞—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ä–µ–∂–∏–º–µ. –í –î–æ–∫–∫—É –ø—Ä–æ–±—Ä–æ—à–µ–Ω–∞ –ø–∞–ø–∫–∞ staticfiles –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –∏ –ø–∞–ø–∫–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã storage. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –î–∂–∞–Ω–≥–æ —Ç–∞–∫: –ú–æ–¥—É–ª—å staticfiles storage STATICFILES_DIRS = (
    os.path.join(BASE_DIR, 'static'),
)

STATIC_URL = 'static/'

if not DEBUG:
    STATICFILES_STORAGE = ('whitenoise.storage.'
                           'CompressedManifestStaticFilesStorage')
    STATIC_ROOT = BASE_DIR / 'staticfiles' STATICFILES_DIRS = (
    os.path.join(BASE_DIR, 'static'),
)

STATIC_URL = 'static/'

if not DEBUG:
    STATICFILES_STORAGE = ('whitenoise.storage.'
                           'CompressedManifestStaticFilesStorage')
    STATIC_ROOT = BASE_DIR / 'staticfiles' Rollbar –ö–æ–≥–¥–∞-—Ç–æ –¥–∞–≤–Ω–æ –Ω–∞—Ç–∫–Ω—É–ª—Å—è –Ω–∞ rollbar –≤ —Å–æ–≤–µ—Ç–µ –±—é—Ä–æ –∏ —Å —Ç–µ—Ö –ø–æ—Ä –∏—Å–ø–æ–ª—å–∑—É—é –≤ —Å–≤–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –¥–≤—É–º—è (–Ω—É –ª–∞–¥–Ω–æ, —Å–µ–º—å—é) —Å—Ç—Ä–æ—á–∫–∞–º–∏ –∫–æ–¥–∞. –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã—è–≤–ª—è—Ç—å –æ—à–∏–±–∫–∏ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ: rollbar —Å–æ–≤–µ—Ç–µ   Django Management Command –í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ–∑–¥–∞—é—Ç—Å—è –∑–∞–¥–∞—á–∏ –¥–ª—è –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞. –≠—Ç–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å –∑–∞–¥–∞—á–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—Ç–º–µ—á–∞–ª–∏, —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–Ω–æ–≥–æ –∏ –Ω–∞–¥–æ –≤—Ä–µ–º—è –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ –∏–∑–±–∞–≤–ª—è—Ç—å—Å—è –æ—Ç –º–µ—Ä—Ç–≤—ã—Ö –¥—É—à. –≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã Django, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ Dokku –ø–æ –∫—Ä–æ–Ω—É, –æ–ø–∏—Å–∞–Ω–Ω–æ–º—É –≤ app.json: –∫–æ–º–∞–Ω–¥—ã app.json "cron": [
    {
      "command": "python manage.py clean_users",
      "schedule": "@daily"
    },
    ...
  ] "cron": [
    {
      "command": "python manage.py clean_users",
      "schedule": "@daily"
    },
    ...
  ] –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –°–µ–π—á–∞—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–æ –ø—Ä–æ—Å—Ç—ã–º bash —Å–∫—Ä–∏–ø—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø–∞–∫–∏ vuejs, css, –∑–∞–ø—É—Å–∫–∞–µ—Ç —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏, –µ—Å–ª–∏ –≤—Å–µ —Ö–æ—Ä–æ—à–æ, –∫–æ–º–º–∏—Ç–∏—Ç –ø—Ä–æ–µ–∫—Ç –≤ Dokku. –í –¥–æ–∫–∫—É –µ—Å—Ç—å –¥–≤–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è autofocus-stg –∏ autofocus. –°–ø–µ—Ä–≤–∞ –∏–¥–µ—Ç –¥–µ–ø–ª–æ–π –≤ –ø–µ—Ä–≤—ã–π. –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç, —Ç–æ —Ä—É–∫–∞–º–∏ –∑–∞–ø—É—Å–∫–∞—é –¥–µ–ø–ª–æ–π –≤ —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é.  autofocus-stg autofocus –í–æ–æ–±—â–µ dokku –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é GitHub Actions. –ù–æ —Ä—É–∫–∏ –ø–æ–∫–∞ –Ω–µ –¥–æ—à–ª–∏. –≠—Ç–æ –º–æ–∂–Ω–æ –ø–æ–¥—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ —Ç–µ–ª–µ–≥—Ä–∞–º–º-–±–æ—Ç–∞. GitHub Actions —Ç–µ–ª–µ–≥—Ä–∞–º–º-–±–æ—Ç–∞ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –î–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é dbt —Å –∞–¥–∞–ø—Ç–µ—Ä–æ–º Postgres. –° –µ–≥–æ –ø–æ–º–æ—â—å—é –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ —Å–¥–µ–ª–∞—Ç—å —Ä–∞–±–æ—Ç–∞—é—â–∏–π –∫–æ–Ω–≤–µ–µ—Ä, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏–π –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é —Ü–µ–ø–æ—á–µ–∫ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤. Dbt —Ç–æ–∂–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é. –ê –¥–∞–Ω–Ω—ã–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ —Å—Ö–µ–º—É dbt –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:  dbt dbt   –ê –ø–æ—Ç–æ–º –∏–∑ —ç—Ç–æ–π —Ç–∞–±–ª–∏—Ü—ã —è –∑–∞–±–∏—Ä–∞—é –¥–∞–Ω–Ω—ã–µ –≤ DataLens –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏:  DataLens   –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å–ª–µ–¥—É–µ—Ç –ù–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ —ç—Ç–æ –ø—Ä–∏–º–µ—Ä–Ω–æ –≤—Å–µ, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏. –ï—Å–ª–∏ –µ—Å—Ç—å –∫–∞–∫–∏–µ-—Ç–æ –≤–æ–ø—Ä–æ—Å—ã ‚Äî –±—É–¥—É —Ä–∞–¥ –æ—Ç–≤–µ—Ç–∏—Ç—å. –ï—Å–ª–∏ –µ—Å—Ç—å –∑–∞–º–µ—á–∞–Ω–∏—è, –∫–∞–∫ –ª—É—á—à–µ —Å–¥–µ–ª–∞—Ç—å ‚Äî –±—É–¥—É —Ä–∞–¥ –≤—ã—Å–ª—É—à–∞—Ç—å. üôè –°–ø–∞—Å–∏–±–æ, —á—Ç–æ –¥–æ—á–∏—Ç–∞–ª–∏. –í—Å–µ–º –º–∏—Ä ‚ô•Ô∏è ]]></text>
</doc>
