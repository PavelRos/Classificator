<?xml version="1.0" ?>
<doc>
	<label auto="true" type="str" verify="true"><![CDATA[Develop]]></label>
	<author auto="true" type="list" verify="true">
		<item type="str"><![CDATA[Kopcheniy]]></item>
	</author>
	<date auto="true" type="str" verify="true"><![CDATA[2022-12-13, 11:01]]></date>
	<link auto="true" type="str" verify="true"><![CDATA[https://habr.com/ru/company/timeweb/blog/704996/]]></link>
	<title auto="true" type="str" verify="true"><![CDATA[Вы тоже любите приятные сюрпризы?]]></title>
	<categories auto="true" type="list" verify="true">
		<item type="str"><![CDATA[Блог компании Timeweb Cloud]]></item>
		<item type="str"><![CDATA[Реверс-инжиниринг]]></item>
		<item type="str"><![CDATA[FPGA]]></item>
		<item type="str"><![CDATA[DIY или Сделай сам]]></item>
		<item type="str"><![CDATA[Электроника для начинающих]]></item>
	</categories>
	<key_words auto="true" type="list" verify="true">
		<item type="str"><![CDATA[timeweb_статьи]]></item>
		<item type="str"><![CDATA[FPGA]]></item>
		<item type="str"><![CDATA[DIY]]></item>
		<item type="str"><![CDATA[arm]]></item>
		<item type="str"><![CDATA[sdram]]></item>
		<item type="str"><![CDATA[ethernet]]></item>
		<item type="str"><![CDATA[Где купить платы]]></item>
		<item type="str"><![CDATA[ПЛИС]]></item>
		<item type="str"><![CDATA[HDMI]]></item>
		<item type="str"><![CDATA[микроконтроллер]]></item>
		<item type="str"><![CDATA[процессор]]></item>
		<item type="str"><![CDATA[4G]]></item>
		<item type="str"><![CDATA[SMA]]></item>
		<item type="str"><![CDATA[Микрон]]></item>
		<item type="str"><![CDATA[RockChip]]></item>
		<item type="str"><![CDATA[магнитола]]></item>
	</key_words>
	<text auto="true" type="str" verify="true"><![CDATA[Недавно я подбирал отладочную плату для своих задач. Цены не очень радовали, я даже немного расстроился. Но потом неожиданно нашёл одну очень интересную плату по весьма приятной цене. С неё всё и началось. Потом были ещё платы, наклейки, сюрпризы… Любопытно что под капотом наклейкой? Тогда в путь!

Цель: Отодрать уже, наконец, эту наклейку. Удовлетворить любопытство и изучить плату на предмет возможности использования её в качестве отладочной платы или другого применения. Результатами поделиться с вами. Позже нашлись и другие платы. Поэтому цель распространяется и на них.

❯ Что же мы ищем?

Понадобилась мне отладочная плата с плиской. Сразу отмечу, что в итоге нашлись платы не только с ПЛИС. Но об этом далее. Цены на доски с программируемой логикой да и на отдельные микросхемы немалые. 

Забавно, что платы предлагаются в том числе и в кредит:



Эта плата без периферии, только ПЛИС и генератор. А если нужна память, Ethernet, HDMI или что-то ещё, то такие платы обойдутся и того дороже. И даже на «али» цены далеко не всегда радуют. Возможность получить подделку или отбраковку тоже не добавляет оптимизма.

И тут внимание привлекают платы для светодиодных экранов:





Чем похожи эти платы друг на друга? Хорошим (а где-то и богатым) набором периферии, приятной ценой, доступностью в России. В зависимости от того, где покупать, от вида платы и её состояния цены будут, в основном, 500… 2000 рублей. Есть платы и подороже.

Мне попадалось множество плат. По основной микросхеме можно выделить 3 группы:

ПЛИС + мелкий микроконтроллер.
ПЛИС + мощный процессор.
Только микроконтроллер. 


Третий пункт подробно рассматривать не будем, но такие платы есть. 

❯ ПЛИС + мелкий микроконтроллер.

Приёмная плата MRV330-1. На плате установлены ПЛИС ALTERA CyClone IV ep4ce6f17c8n, M12l64322a (SDRAM 512K x 32 Bit x 4 Banks), 2 штуки atheros ar8035-a (Gigabit Ethernet PHY) с обвязкой, 74hc245, разъёмы, flash-память с прошивкой для ПЛИС и мелкий контроллер stm8s003f3p6.



Приёмная плата MRV366. Установлены ПЛИС Xilinx SPARTAN-6 XC6SLX16 csg324div1817, M12l64322a (SDRAM 512K x 32 Bit x 4 Banks), связка flash+GD32F330G8 (ARM Cortex-M4 32-bit MCU), 74hc245.



Также есть 2 шт. pf025 (видимо, тоже Gigabit Ethernet PHY, даташит не нашёл) с обвязкой.




Похожие платы из этой группы










Если подытожить, в этой группе можно встретить, в основном, ПЛИС Xilinx SPARTAN-6 XC6SLX16, ALTERA CyClone IV ep4ce6f17c8n, Lattice sl2-12e-8f256c с похожим набором периферии. Хотя, встречаются и другие.

❯ ПЛИС + мощный процессор.

Плата HUIDU HD C15C. По некоторым данным, на плате установлены Altera Cyclone IV EP4CE6F17C8N и 4 ядерный RK3188 (quad-core Cortex-A9 with separately NEON and FPU coprocessor). Также установлены broadcom b50610 Gigabit Ethernet transceiver, 2шт M12l18168a, Mini PCI-e порт (для Wi-Fi или 4G модуля, поставляемых по запросу), 74hc245 (с обратной стороны платы), 32Гб NAND flash eMMC память KLM4G1FETE-B041, LAN8720A (10/100 Ethernet Transceiver), WM8524 (24-bit 192kHz Stereo DAC). Есть порты Ethernet (2 шт.), USB, SMA (для антенны) и аудиовыход.



Плата может быть интересна тем, что кроме ПЛИС на ней установлен процессор, о котором есть много информации, отладочные платы и прочее (раз, два). Такие процессоры встречаются в магнитолах и других устройствах.



Контроллер HD-D10 (D30 похож). Плата похожа на предыдущую. Установлены процессор ZTE Cortex ARM A9 (точное название нужно уточнять), Altera Cyclone IV EP4CE6F17C8N, память NANYA nt5cb128m, флеш память от Микрон, предположительно 2 ГБ, ОЗУ объемом 256 МБ, SDRAM M12l18168a, LAN8720A (10/100 Ethernet Transceiver), LT8619, HDMI/MHL Dual-mode Receiver, 74hc245 и др.
Контроллер HD-D16. ПЛИС, предположительно, Altera Cyclone IV EP4CE6F17C8N, процессор RockChip PX30 (4-ядерный ARM Cortex-A35 CPU), Ethernet, USB, 3 чипа памяти и др


Процессор RockChip PX30 также используется в магнитолах и других устройствах. На этом процессоре тоже есть отладочные платы, и разные эксперименты.

Есть много других подобных плат.

Небольшой сюрприз...


















Теперь вы его понимаете…



❯ Способы борьбы с 74hc245.

Проблема большинства подобных плат в том, что на них установлены микросхемы 74hc245, настроены они на работу в одном направлении (от ПЛИС к разъёмам) и питаются от 5 В, что много для ПЛИС и не позволяет просто изменить направление с помощью вывода DIR. Можно попробовать отпаять вывод Vcc микросхемы 74hc245, изолировать его от пада термоскотчем или соплеклеем и питать от нужного уровня напряжения. C выводом DIR поступить также.

Если нужно убрать 74hc245:

Отпаять и заменить проволочками/кусочком шлейфа fpc с нужным шагом или платкой, как на картинке:



Использовать гибкие печатные платы:





Симпатично. Подробнее здесь.

Встречал вариант замены микросхемы на двунаправленный вариант SN74CBT3245APW. Только смысла большого здесь не вижу: хоть у микросхемы вместо вывода direction (выбор направления) и not connected, но Vcc то всё равно сидит на 5В. Разве что изолировать его от 5 В и подавать нужное напряжение.
Использовать платы без 74hc245.


❯ Платы без 74hc245.

Есть интересный вариант – карты A5S, A7S, A10S+ и др.


Основное отличие таких плат от предыдущих в отсутствии микросхем 74hc245. Также нет разъёмов (остальная обвязка есть) для Ethernet. С помощью двух 120-контактных разъёмов карта вставляется в материнскую плату, с которой можно взять разъёмы и развести свою плату:



С нижней стороны платы только 2 разъёма для Ethernet и ещё какой-то разъём. Не знаю, что это за модель материнки – мне её подарил продавец карты А5S, которую я купил у него за 1000 р. Бывают и другие материнские платы.

На А5S установлены ПЛИС Xilinx Spartan-6XC6SLX16-CSG324DIV1837, 1 штука SDRAM M12L64322A, 2 штуки B50612D (Gbit Ethernet transceiver) c обвязкой (нет только разъёмов), контроллер GD32F330G8 (ARM Cortex-M4 32-bit MCU), флеш память, генератор тактового сигнала. Разъёмы у А5S Receptacle Amphenol FCI 10140609-121802LF, PLUG Amphenol FCI 10140607-121802LF. 120-контактные в 2 ряда с шагом 0.8 мм.

Среди таких карт выделяется, А10S+.



У неё 3 памяти: одна SDRAM M12L128324A и две M12L64322A. Микроконтроллер здесь более популярный (чем, например, от Nuvoton или от GigaDevice) – STM32F410C8U6. Также установлены ПЛИС ALTERA (возможно, Cyclon-4 EP4CE15F23C8N), 2 микросхемы B50612D (Гбит Эзернет), генератор и cdcs503 (Clock Buffer Multiplier) и др. 

Думается для экспериментов плату можно брать. Если что-то пойдёт не так, то только один микроконтроллер окупит около трети стоимости платы. А ведь на ней есть и другие детали…

Карта А4S обойдётся чуть дешевле, но она менее интересная.

Возможно, кому-то будет интересна передающая карта Novastar MSD300 (и похожая MSD 600).



На плате есть ПЛИС ALTERA CYCLONE IV EP4CE6F17C8N, STM32F103VCT6, CP2102, tfp401apzp, M12l64322a или em638325ts-6g 2шт (2M x 32 Synchronous DRAM (SDRAM)), ds12cr887+33 (часы), broadcom B50610c1kmlg 2шт (Gigabit Ethernet Transceiver), USB, DVI, 2 порта Ethernet.

На плате MSD600 похожий набор, но там ещё 2 порта Ethernet, HDMI, ADV7612 (HDMI приёмник), память NANYA nt5tu32m1606-8e 512Mb DDR2 SDRAM и др. Но стоит карта дороже.

Есть платы и других типов:



Novastar XC160.



Несколько отличающийся вариант – плата Multi-function Huidu HD-Y1.



Здесь ALTERA Cyclone IV, какой-то микроконтроллер от STM, 2 порта Ethernet с обвязкой (чипы Broadcom?), 8 реле. (Описание картинки здесь).

❯ Возможные применения.

Когда смотришь на плату с ПЛИС, памятью и Ethernet, появляется мысль, что из этого может получиться хороший логический анализатор. На таких платах делают интересный ЧПУ проект ColorCNC.
Их дружат с esp32 (или подобным). 

А такую плату можно применять для приложений с видеосигналом:



Это и есть та самая плата, с которой и началось создание этой статьи. А может быть, и не только этой…



❯ Выводы.

Всё, наклейки отодраны – цель достигнута. 

Надеюсь кому-нибудь этот материал пригодится. Буду рад, если поделитесь своим мнением в комментариях. Возможно, я обделил вниманием какую-то интересную плату. 

Думается платы, описанные в статье, вполне годятся, как минимум, для игры в лотерею экспериментов. А где-то и для законченных проектов.

А вы как считаете?

Какие бы ни случались обстоятельства, не нужно унывать. Лучше действовать, ведь решение может быть рядом, его нужно только заметить.    капотом    Цель: Отодрать уже, наконец, эту наклейку   ❯ Что же мы ищем? ❯ Что же мы ищем?                         ПЛИС + мелкий микроконтроллер.
ПЛИС + мощный процессор.
Только микроконтроллер.  ПЛИС + мелкий микроконтроллер.  ПЛИС + мощный процессор.  Только микроконтроллер.       ❯ ПЛИС + мелкий микроконтроллер.]]></text>
</doc>
