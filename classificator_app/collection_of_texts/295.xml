<?xml version="1.0" ?>
<doc>
	<label auto="true" type="str" verify="true"><![CDATA[Develop]]></label>
	<author auto="true" type="list" verify="true">
		<item type="str"><![CDATA[shurik2533]]></item>
	</author>
	<date auto="true" type="str" verify="true"><![CDATA[2022-12-09, 02:13]]></date>
	<link auto="true" type="str" verify="true"><![CDATA[https://habr.com/ru/post/704420/]]></link>
	<title auto="true" type="str" verify="true"><![CDATA[Клубничная чудо-коробка 2.0 всё]]></title>
	<categories auto="true" type="list" verify="true">
		<item type="str"><![CDATA[Развитие стартапа]]></item>
		<item type="str"><![CDATA[Разработка на Raspberry Pi]]></item>
		<item type="str"><![CDATA[Научно-популярное]]></item>
		<item type="str"><![CDATA[DIY или Сделай сам]]></item>
		<item type="str"><![CDATA[Биология]]></item>
	</categories>
	<key_words auto="true" type="list" verify="true">
		<item type="str"><![CDATA[аэропоника]]></item>
		<item type="str"><![CDATA[клубника]]></item>
		<item type="str"><![CDATA[raspberrypi]]></item>
		<item type="str"><![CDATA[форсунки]]></item>
		<item type="str"><![CDATA[автоматизация]]></item>
		<item type="str"><![CDATA[гидропоника]]></item>
		<item type="str"><![CDATA[растения]]></item>
		<item type="str"><![CDATA[ситиферма]]></item>
	</key_words>
	<text auto="true" type="str" verify="true"><![CDATA[Продолжаю серию постов про свои клубничные приключения. В этом хочу рассказать, как дорабатывал систему выращивания клубники, с какими проблемами столкнулся, каких результатов достиг и почему решил остановить проект «Коробка 2.0».
Предыдущие части:
Коробка 1.0. Клубничный гроубокс на балконе
Коробка 2.0. Строительство, монтаж
Коробка 2.0. Электроника, запуск
Прошлый пост закончился на том, что я подготовил окружение для выращивания и высадил рассаду. Впереди меня ждут новые доработки и улучшения. С них и начну рассказ.
Технические доработки и нововведения
Автодолив очищенной воды
Воду из обратного осмоса я собирал в отдельную бочку и включал её наполнение вручную. По мере расходования жидкости в баках для полива, раз в несколько дней мне приходилось самостоятельно дозаполнять их. Настало время этот процесс автоматизировать.
Насос от обратного осмоса подключил к реле, после обратноосмотической мембраны поставил по электроклапану на каждый бак.
В баках уже установлены датчики уровня. Когда раствор убывает, автоматически включается насос и открывается нужный клапан.
Автокоррекция питательного раствора
Так, очищенная вода теперь доливается сама, но растения съедают питательные вещества, т.е. падает EC, а так же может меняться pH раствора. Эти показатели уже измеряются для каждого бака, осталось только сделать автодолив концентратов, при отклонении от нормы.
Концентраты раствора A и B нельзя смешивать, в то же время их необходимо подавать в равных пропорциях, это значит, что устройства подачи должны быть достаточно точными и не иметь большого разброса друг относительно друга. Мой выбор пал на перистальтические насосы.
Я предварительно сделал замеры. Погрешность около 5%. Для начала сойдет. Насосы с наименьшим разбросом установил на концентрат раствора, остальные на pH Up и pH Down.
Чтобы концентраты лучше перемешивались, я их подаю в дренажные бачки, откуда они вместе с раствором возвращаются в основные баки. Кажется, что перемешивается достаточно хорошо, но есть планы установить перемешиватели.
Подача CO2
Растения быстро выедают углекислоту в замкнутом помещении. Когда я прихожу в контейнер, датчик всегда показывает минимально возможное значение - 400ppm. Уверен, что на деле этот показатель ниже. А CO2 необходим для фотосинтеза. В теплицах часто организуют дополнительную подачу этого газа, чтобы растения лучше росли.
Я заказал электроклапан с манометрами, купил баллон с газом на 20 литров и подключил к системе. Датчик CO2 у меня уже был. Подачу газа сделал только когда у растений день, т.к. ночью в дополнительной подаче нет необходимости. Более того, ночью растения сами выделяют углекислый газ.
Установил максимальный порог - 1200ppm, который и поддерживал. Запуск вентиляции днем сделал редким, чтобы экономить газ. В итоге баллона хватило на полтора месяца. Для собственной безопасности, установил дублирующий датчик с дисплеем, чтобы не отравиться при утечке.
Борьба с датчиками температуры и позорное решение проблемы
Я давно борюсь с тем, что у меня зависают датчики температуры DS18B20. Случается это раз в 1-2 дня. Пробовал различные рекомендации: разместил шину подальше от силовой линии, использовал экранированный кабель с хорошим сечением, добавлял конденсаторы рядом с датчиками и диод Шоттки на конце линии, но безрезультатно.
В качестве ещё одного решения перевел 1-Wire на 5В, вместо 3.3В. GPIO на малинке умеет только в сигналы 3.3В. Чтобы обмениваться данными на уровне 5В, требуется преобразователь логических уровней. Я взял чип TXS0108E. Он на 8 каналов, но мне пока потребуется только один. Собрал на макетке. Дома протестировал — работает.
Установил в контейнере, но проблема осталась. Мне надоело тратить время на второстепенную, пока, задачу, поэтому я решил пойти на радикальные меры. Чтобы восстановить работу датчиков, у них нужно отключить питание на несколько секунд. Я автоматизировал их перезагрузку — повесил питание на свободное реле и сбрасывал, когда датчики зависали.
Мини-канализация
Сделал в контейнере небольшую канализацию. Ямобуром вырыл яму на 1.5 метра в глубину. Насверлил в трубе отверстий в нижней части, опустил в яму и обсыпал галькой. Чтобы вода зимой не замерзала, прокинул греющий кабель. Он экономичный и греет только если мороз. В канализацию я выведу сток от обратного осмоса, конденсат от осушителя и буду сливать понемногу рабочий раствор, чтобы обновлять его. Если сделать слив равномерным, рассчитываю, что до 500 литров в сутки можно будет сбрасывать.
Завел шмелей
Мне надоело тратить время на ручное опыление кисточкой. Чтобы пройтись по всем кустам, требуется около 30 минут раз в два дня. Лучший способ автоматизировать этот процесс — завести шмелей, они будут трудиться неустанно!
Шмелей продают в картонных ульях:
Для такого улья у меня слишком маленькое помещение. Вопрос с нехваткой пищи — не проблема, шмелям можно докупить пыльцу. Высокая концентрация особей будет доставлять дискомфорт при обслуживании контейнера. Но и эта проблема решается. В улье отдельные отверстия на вход и на выход. Если сделать автоматическое закрытие выхода за несколько часов до обслуживания, то большинство шмелей останутся в улье. Но это только в планах, а пока, если хочу долго находиться в контейнере, буду закрывать выход насекомым вручную.
Опасно ли находиться рядом со шмелями? Они не агрессивные и сами стараются не нападать, но ребята крайне любопытны и лезут везде. Поэтому, если на тебе окажется шмель и ты его случайно заденешь, то он ужалит. Меня за месяц жалили 3 раза. Но тут дело в высокой плотности насекомых. На больших площадях вероятность значительно меньше.
Вентилятор пришлось обернуть в сетку, т.к. эти шмели об него убиваются.
Ещё возникла проблема с навигацией для шмелей. Когда выключается свет, можно услышать как они осыпаются на пол.
Я начал на ночь оставлять дежурное освещение. Стало получше, но на следующем видео показано как шмель завис у лампы.
Видео
В итоге он нашел дорогу домой, но на это потребовалось больше усилий, чем следовало бы.
Позже я увидел как решают эту проблему взрослые — вешают рядом с ульем лампу со спектром, близким к УФ. Выбор спектра обусловлен особенностью зрения шмелей.
Дневник событий
Главная проблема моей аэропонной установки
С самого начала было понятно, что корни в установке увлажняются неравномерно. Основная причина — неудачное размещение форсунок сверху, с факелом, направленным вниз. Когда я осматривал работу полива, мне показалось, что капельная взвесь равномерно заполняет бокс, но на деле вышло иначе. Угол распыления недостаточно широк и верхней части корней недостает влаги. Это можно попытаться компенсировать длительным поливом, но тогда будет переувлажняться нижняя часть корней. Я попытался найти баланс со временем полива и решил продолжить выращивать посаженные кусты. Но сейчас я думаю, что надо было остановиться уже тогда, пожертвовать кустами и решить проблему основательно.
Слабый старт
С момента посадки прошло 7 недель. Появилась первая ягода. По моим ощущениям, с приличным запозданием. Цветоносы хилые, ягода мелкая.
Есть стойкое ощущение, что кусты плохо развиваются. Ещё и листья крутит. Скорее всего дело в переувлажнении. Решил осмотреть корни — подгнивают. Думаю, причина та же.
Видимо, баланс с поливом нащупал плохо. Решил увеличить интервал между поливами, а для устранения гнили корней добавил в раствор немного перекиси.
Кроме проблемы с развитием, полно неопыленки. Шмелей к этому времени я ещё не завел, а в контейнере появляюсь 1-2 раза в неделю. Тут пока остается только принять.
Дело пошло лучше
Последние исправления помогли и немного позже появилась ягода покрупнее. Гниль начала уходить.
Деплой перед сном
Не долго я радовался тому, что дела начали налаживаться. Вносил правки в код, запустил и ушел. Самое главное — полив. Его работу после запуска системы управления я проверял на слух. Шумят форсунки — значит работает. Но заработали не все. Из-за ошибки в коде половина перестала работать. Я спокойно уехал домой и лёг спать. Когда проснулся утром, увидел в Телеграме уведомления, что проблема с поливом и сразу поехал в контейнер. Меня там ждала следующая картина:
Баг исправил быстро, растения опрыскал с Эпином, в надежде, что восстановятся. В общей сложности, растения без полива и под освещением провели около 10 часов. Два десятка кустов в итоге погибли, остальные оклемались.
Ягода всё равно спеет
Собрал корзинку. Размер и вкус хорошие. Хотя сладости можно было бы и побольше. Я в прошлом посте упоминал, что у меня две линии полива с разной концентрацией раствора. На одной линии EC 1.1, на второй - 0.8. При концентрации 0.8 ягода немного слаще и крупнее.
Отпуск
Собрался в отпуск. Страшно. 17 дней не будет физического доступа к контейнеру. Фаза плодоношения ещё не завершилась, но уже близится к концу. Чтобы ягода не переспевала и не гнила в мое отсутствие, я обрезал все цветоносы и благополучно уехал. В отпуске я следил за параметрами, но ни разу не вмешивался в процесс. Всё прошло хорошо. Когда вернулся, меня ждали живые кусты. Это очень радует. Все идет к тому, что я доведу систему до уровня, когда для её обслуживания можно будет оставлять человека без особой квалификации.
Проблема с концентратом
У меня работает автоподмешивание концентратов раствора, чтобы держать EC на одном уровне. Я уже давно заметил, что в концентрате B (Магний сернокислый, Калий фосфорнокислый, Рексолин APN) со временем начинают появляться сгустки. Главной предполагаемой причиной было взаимодействие с воздухом. В чем я убедился, когда уезжал в отпуск, залив достаточное количество концентрата. Сверху в бутылки воздух поступает свободно и на концентрате образовался налет. Отдельно проводил эксперимент, если стравить воздух из бутылки, то проблема не проявляется. Видимо, придется держать концентраты в емкостях без доступа воздуха.
Сломалась одна линия полива
В Telegram прилетело уведомление из контейнера "Pressure difference for line 2 middle status: too_low, value: 0.005". Оно означает, что на второй линии на средней полке отсутствует разница в давлении до включения форсунок и во время. Т.к. на остальных линиях с разницей давления всё хорошо, значит с самой системой полива всё в порядке. Остается только грешить на клапан. Дополнительно прилетел график, на котором видно, что проблема только на одной линии.
Делать нечего, надо ехать в контейнер. Там я убедился, что проблема в клапане и быстро его заменил. Растения не пострадали. Хорошо, что сделал мониторинг и заранее купил про запас самых важных элементов. Сначала я думал, что клапаны не качественные, но после разборки обнаружил плотное солевое кольцо внутри, которое мешало ходу клапана. После очистки клапан снова заработал. Любопытно, что я больше всего боялся за отложение солей на форсунках, но такой проблемы пока не возникало. Интересно, почему оно образовалось в клапане?
Щёлочь потекла
Пришло уведомление о протечке в контейнере. Ну, думаю, опять конденсат нападал, но надо съездить проверить. Оказалось другое. Спустя месяц работы начал капать pH UP. Прохудилась силиконовая трубка в месте крепления. Я так и не понял, она порвалась от натяжения или дело в щёлочи. Трубка изнутри стала скользкой, на переходнике больше не держится, хотя изначально натягивалась с трудом. Ещё из любопытного, что разъело алюминий на пенофоле. Прихожу, а в контейнере шипит.
Сначала я думал, чем можно заменить силиконовую трубку, но нашел самое простое решение проблемы — избавился от pH UP совсем. Корректировка pH вверх нужна, когда раствор начинает кислить, а в нормальных условия раствор кислить не должен. Это явный признак проблемы. Одна из причин — грибок в растворе. Я ставил автоподнятие pH, когда у меня гнили корни. После устранения проблемы pH перестал падать, а значит и автокорректировка вверх больше не нужна. В таких случаях надо не раствор корректировать, а проблему устранять.
Большой потоп
Видео
Вода в контейнер подается из скважины. Скважина не моя, но я был её единственным пользователем и использовал по своему усмотрению. Однажды, хозяин участка решил завести воду в свой хозблок, сделал там накопительный бак. И мы договорились, что я подключусь к нему. Есть ещё на этом участке работник. Мы обсудили с ним, как всё должно работать. Я ему сообщил, что мне надо на своей стороне выполнить подготовку к переключению. Раньше я из контейнера автоматически включал насос и выключал его, когда бак заполнялся.
Через несколько дней мне позвонили и сказали, что у меня в контейнере из-под двери хлещет вода. Ну, нифига себе, думаю! Оказалось, что рабочий, с которым мы обсуждали детали, просто взял и врезал меня в их новый водопровод. Без моего присутствия, не предупредив, не уточнив, готово ли всё на моей стороне. Как итог, я вычерпал около 200л воды и пол дня приводил всё в порядок. Этих проблем можно было избежать, установив на баке защиту в виде поплавкового отсекателя.
Вторая волна
Началась вторая волна плодоношения. Урожайность значительно выше, чем в первую. Ягода стала ещё крупнее, средний вес - 18-20 гр.
Каждые 2-3 дня я приезжал в контейнер и увозил по несколько лотков клубники. В один день даже собрал больше 5.5 кг за раз. Ягоду уже некуда было девать. Дома все объелись, варенья наварил, родственников накормил, даже объявились желающие покупать. В общей сложности за вторую волну я собрал более 32 кг ягоды с 233 кустов. Думаю, собрал бы ещё килограмм 10, но работы в контейнере были остановлены. Об этом я расскажу в конце поста. Да, кустов осталось 233 из изначально посаженных 336.
Подвижные стеллажи
Идея подвижных стеллажей оказалась непригодной для клубники. Посмотрите на фото:
Если стеллажи держать близко друг к другу, то цветоносы спутываются и последующее раздвижение довольно хлопотно. А в самом начале я очень гордился, что придумал такую классную идею. Даже ввязался в историю, чтобы получить патент на систему подвижных стеллажей для выращивания растений, обращался к юристу по интеллектуальной собственности для исследования баз патентов и оценки самой идеи. Реальность оказалась немного сложнее моих ожиданий. Юрист сказал, что на патент не тянет, но можно попробовать зарегистрироваться в качестве полезной модели. Погрузившись глубже в детали патентования я решил, что большого смысла в этом нет. Во-первых, начал сомневаться в уникальности и особенности идеи, во-вторых, регистрация составных технических решений показалась мне сомнительной, в-третьих, нет гарантии, что такое ресурсоемкое дело, выгорит.
Исследования и эксперименты
Анализ раствора
В аэропонной системе в контейнере крутится 180 литров раствора. За сутки на начальном этапе развития уходило в среднем по 9 литров и раствор периодически нужно доливать. Элементы в растворе расходуются не пропорционально, поэтому соотношение солей, используемое при первоначальном замешивании, не самое оптимальное. На этапе вегетации я отнес раствор в лабораторию, чтобы посмотреть, как перекосилось соотношение элементов относительно изначального.
Раствор крутился в системе 25 дней. Я доливал в него чистую воду и первоначальный концентрат, чтобы EC был на уровне 0.82. Отмечу, что на анализ я относил только отработавший раствор. В идеале я должен был отнести ещё и первоначальный раствор, чтобы знать реальное начальное соотношение, но я его взял из калькулятора, по которому готовил.
Подробности можно почитать в отдельном посте. Тут лишь отмечу, что азот и марганец значительно уплыли вниз и образовался очень странный избыток цинка и меди, вероятно, из-за соединительных элементов в системе полива.
Попытка компенсировать проблему с корнями
Я уже писал, что корни увлажняются неравномерно из-за положения форсунок. Либо снизу заливает, либо сверху подсыхает. Я попытался это исправить, поместив часть растений в субстрат из кокоса и перлита.
Кокос очень хорошо смачивается, а перлит даст больше кислорода корням. Рассчитывал, что таким образом удастся избежать проблемы с подсыхающими верхушками. Попытка провалилась. Часть горшков стала слишком влажной, а некоторым не хватало влаги. На развитии растений это сказалось негативно.
Органика в аэропонике
В советской книге "Аэропоника в теплицах", И.Г. Мураш, 1964 г. упоминалось, что у них в аэропонике очень хорошо зашел настой коровяка. Я решил тоже попробовать, сначала коровяк, но позже перешел на вермикофе. Начал с небольших доз и смотрел за результатом. К сожалению, не было возможности сделать контрольную и экспериментальную группу с одинаковыми условиями, поэтому добавил органику на все растения. Купил концентрат, прогнал через фильтр. Жду, как будет вести себя в системе.
Органику добавил — хорошо. Но растения не питаются коровьим навозом. Требуются организмы, способные разложить её на доступные для растений элементы. Я в биологии не силен, у меня нет понимания, живут ли в моем растворе такие микроорганизмы. В книге "Гидропоника для всех" У.Тексье упоминал, что для органической гидропоники использовал триходерму. Попробовал добавить немного в раствор. Вероятно, она сможет работать на стенках каналов и в фильтрах. Особенно в дренажном фильтре. В нем я использую аквариумную губку, которая как раз и работает биофильтром.
Спустя время заметил, что форсунки стали работать хуже, разбираю, а там зеленый налёт.
Причем налет образуется и после фильтра в 5 микрон. Занялся поиском причин. Есть такое понятие — биопленка. Микроорганизмы образуют колонии на стенках трубок. Со временем наросты отваливаются и создают серьезную проблему для форсунок. В гидропонике это мало заметно и проявляется значительно позже, а в аэропонике, кажется, это большая проблема. Пока не знаю как с этим бороться. Можно будет попробовать установить более мелкий фильтр, не пропускающий микроорганизмы после себя. Думаю, 0.2-0.5 микрон должно хватить. Добавил задачу в бэклог для проверки гипотезы.
Конец Коробки 2.0
Я поспешил с масштабированием, собрал установку на 336 кустов. Технология ещё очень далека от совершенства, а большие объемы требуют ресурсов на поддержание существования. Я стал заложником собственных трудов и мне не хватает времени на развитие и эксперименты.
Потоп, о котором я писал выше, имел последствия. Влажность воздуха в контейнере была слишком высокой и даже осушитель с ней не справлялся. Вышел из строя модуль реле и ещё один был на грани, контакты окислились. В этот момент я и принял решение об остановке проекта. Зачем я буду сейчас прилагать усилия и пытаться спасти то, что есть? Я уже получил результат, не удовлетворяющий своим ожиданиям. Урожайность ниже, чем я хочу, растения развиваются плохо. Стараться только ради ягоды, которую ещё можно получить с этих кустов? Тогда будет трудно двигаться дальше. И я принял решение законсервировать контейнер. Но идеи получить идеальную клубнику не оставил, сосредоточусь на отработке технологии, а объемы подождут. Сначала я соберу дома маленькую установку, на которой отработаю грамотное увлажнение корней. А уже после переоборудую контейнер под лабораторию, в которой буду на небольших объемах проводить честные эксперименты с контрольной группой, чтобы улучшать результат. Так что скоро будет Коробка 2.1!
Итоги и планы
В общей сложности выжило 233 куста из 336. А из выживших далеко не все были в хорошем состоянии. Основная часть растений пострадала из-за способа полива. Именно на этом я планирую сосредоточиться в ближайшее время. Пока не будет здоровых корней, об остальных доработках можно не думать. У меня есть мнение, что загадка решения проблемы кроется в самом растении — очень капризна земляника садовая в плане орошения. Я пробовал выращивать томаты на аэропонике, и там корни получились шикарными.
Ещё у меня сейчас в стадии проработки интереснейший проект с аэропоникой для третьей стороны. Детали раскрывать не хочется до его утверждения. Но позже обязательно расскажу о нем в своем телеграм-канале. Кстати, подписывайтесь. Там я веду нечто вроде дневника своих аэропонных приключений.
И напоследок хочу вбросить желание. Если вы как-то связаны с сити-фермерством, производством растительной продукции, особенно в области гидропоники и аэропоники, приглашайте меня к себе на экскурсию. Быть может, будем друг другу полезны. Так же я открыт для идей и предложений. Если есть что-то интересное — пишите.
До новых встреч. Мне ещё будет о чем рассказать.
Telegram-канал проекта: https://t.me/cyberdacha
Telegram для связи: https://t.me/shurik2533 Продолжаю серию постов про свои клубничные приключения. В этом хочу рассказать, как дорабатывал систему выращивания клубники, с какими проблемами столкнулся, каких результатов достиг и почему решил остановить проект «Коробка 2.0».   Предыдущие части: Коробка 1.0. Клубничный гроубокс на балконе
Коробка 2.0. Строительство, монтаж
Коробка 2.0. Электроника, запуск Коробка 1.0. Клубничный гроубокс на балконе Коробка 1.0. Клубничный гроубокс на балконе Коробка 1.0. Клубничный гроубокс на балконе Коробка 2.0. Строительство, монтаж Коробка 2.0. Строительство, монтаж Коробка 2.0. Строительство, монтаж Коробка 2.0. Электроника, запуск Коробка 2.0. Электроника, запуск Коробка 2.0. Электроника, запуск Прошлый пост закончился на том, что я подготовил окружение для выращивания и высадил рассаду. Впереди меня ждут новые доработки и улучшения. С них и начну рассказ. Технические доработки и нововведения Автодолив очищенной воды Воду из обратного осмоса я собирал в отдельную бочку и включал её наполнение вручную. По мере расходования жидкости в баках для полива, раз в несколько дней мне приходилось самостоятельно дозаполнять их. Настало время этот процесс автоматизировать. Насос от обратного осмоса подключил к реле, после обратноосмотической мембраны поставил по электроклапану на каждый бак.   В баках уже установлены датчики уровня. Когда раствор убывает, автоматически включается насос и открывается нужный клапан. Автокоррекция питательного раствора Так, очищенная вода теперь доливается сама, но растения съедают питательные вещества, т.е. падает EC, а так же может меняться pH раствора. Эти показатели уже измеряются для каждого бака, осталось только сделать автодолив концентратов, при отклонении от нормы. Концентраты раствора A и B нельзя смешивать, в то же время их необходимо подавать в равных пропорциях, это значит, что устройства подачи должны быть достаточно точными и не иметь большого разброса друг относительно друга. Мой выбор пал на перистальтические насосы.   Я предварительно сделал замеры. Погрешность около 5%. Для начала сойдет. Насосы с наименьшим разбросом установил на концентрат раствора, остальные на pH Up и pH Down.   Чтобы концентраты лучше перемешивались, я их подаю в дренажные бачки, откуда они вместе с раствором возвращаются в основные баки. Кажется, что перемешивается достаточно хорошо, но есть планы установить перемешиватели. Подача CO2 Растения быстро выедают углекислоту в замкнутом помещении. Когда я прихожу в контейнер, датчик всегда показывает минимально возможное значение - 400ppm. Уверен, что на деле этот показатель ниже. А CO2 необходим для фотосинтеза. В теплицах часто организуют дополнительную подачу этого газа, чтобы растения лучше росли. Я заказал электроклапан с манометрами, купил баллон с газом на 20 литров и подключил к системе. Датчик CO2 у меня уже был. Подачу газа сделал только когда у растений день, т.к. ночью в дополнительной подаче нет необходимости. Более того, ночью растения сами выделяют углекислый газ.   Установил максимальный порог - 1200ppm, который и поддерживал. Запуск вентиляции днем сделал редким, чтобы экономить газ. В итоге баллона хватило на полтора месяца. Для собственной безопасности, установил дублирующий датчик с дисплеем, чтобы не отравиться при утечке. Борьба с датчиками температуры и позорное решение проблемы Я давно борюсь с тем, что у меня зависают датчики температуры DS18B20. Случается это раз в 1-2 дня. Пробовал различные рекомендации: разместил шину подальше от силовой линии, использовал экранированный кабель с хорошим сечением, добавлял конденсаторы рядом с датчиками и диод Шоттки на конце линии, но безрезультатно. В качестве ещё одного решения перевел 1-Wire на 5В, вместо 3.3В. GPIO на малинке умеет только в сигналы 3.3В. Чтобы обмениваться данными на уровне 5В, требуется преобразователь логических уровней. Я взял чип TXS0108E. Он на 8 каналов, но мне пока потребуется только один. Собрал на макетке. Дома протестировал — работает.   Установил в контейнере, но проблема осталась. Мне надоело тратить время на второстепенную, пока, задачу, поэтому я решил пойти на радикальные меры. Чтобы восстановить работу датчиков, у них нужно отключить питание на несколько секунд. Я автоматизировал их перезагрузку — повесил питание на свободное реле и сбрасывал, когда датчики зависали. Мини-канализация Сделал в контейнере небольшую канализацию. Ямобуром вырыл яму на 1.5 метра в глубину. Насверлил в трубе отверстий в нижней части, опустил в яму и обсыпал галькой. Чтобы вода зимой не замерзала, прокинул греющий кабель. Он экономичный и греет только если мороз. В канализацию я выведу сток от обратного осмоса, конденсат от осушителя и буду сливать понемногу рабочий раствор, чтобы обновлять его. Если сделать слив равномерным, рассчитываю, что до 500 литров в сутки можно будет сбрасывать.   Завел шмелей   Мне надоело тратить время на ручное опыление кисточкой. Чтобы пройтись по всем кустам, требуется около 30 минут раз в два дня. Лучший способ автоматизировать этот процесс — завести шмелей, они будут трудиться неустанно! Шмелей продают в картонных ульях:   Для такого улья у меня слишком маленькое помещение. Вопрос с нехваткой пищи — не проблема, шмелям можно докупить пыльцу. Высокая концентрация особей будет доставлять дискомфорт при обслуживании контейнера. Но и эта проблема решается. В улье отдельные отверстия на вход и на выход. Если сделать автоматическое закрытие выхода за несколько часов до обслуживания, то большинство шмелей останутся в улье. Но это только в планах, а пока, если хочу долго находиться в контейнере, буду закрывать выход насекомым вручную. Опасно ли находиться рядом со шмелями? Они не агрессивные и сами стараются не нападать, но ребята крайне любопытны и лезут везде. Поэтому, если на тебе окажется шмель и ты его случайно заденешь, то он ужалит. Меня за месяц жалили 3 раза. Но тут дело в высокой плотности насекомых. На больших площадях вероятность значительно меньше. Вентилятор пришлось обернуть в сетку, т.к. эти шмели об него убиваются.   Ещё возникла проблема с навигацией для шмелей. Когда выключается свет, можно услышать как они осыпаются на пол.  Я начал на ночь оставлять дежурное освещение. Стало получше, но на следующем видео показано как шмель завис у лампы. Видео Видео    В итоге он нашел дорогу домой, но на это потребовалось больше усилий, чем следовало бы. Позже я увидел как решают эту проблему взрослые — вешают рядом с ульем лампу со спектром, близким к УФ. Выбор спектра обусловлен особенностью зрения шмелей.   Дневник событий Главная проблема моей аэропонной установки С самого начала было понятно, что корни в установке увлажняются неравномерно. Основная причина — неудачное размещение форсунок сверху, с факелом, направленным вниз. Когда я осматривал работу полива, мне показалось, что капельная взвесь равномерно заполняет бокс, но на деле вышло иначе. Угол распыления недостаточно широк и верхней части корней недостает влаги. Это можно попытаться компенсировать длительным поливом, но тогда будет переувлажняться нижняя часть корней. Я попытался найти баланс со временем полива и решил продолжить выращивать посаженные кусты. Но сейчас я думаю, что надо было остановиться уже тогда, пожертвовать кустами и решить проблему основательно. Слабый старт С момента посадки прошло 7 недель. Появилась первая ягода. По моим ощущениям, с приличным запозданием. Цветоносы хилые, ягода мелкая.   Есть стойкое ощущение, что кусты плохо развиваются. Ещё и листья крутит. Скорее всего дело в переувлажнении. Решил осмотреть корни — подгнивают. Думаю, причина та же.   Видимо, баланс с поливом нащупал плохо. Решил увеличить интервал между поливами, а для устранения гнили корней добавил в раствор немного перекиси. Кроме проблемы с развитием, полно неопыленки. Шмелей к этому времени я ещё не завел, а в контейнере появляюсь 1-2 раза в неделю. Тут пока остается только принять. Дело пошло лучше Последние исправления помогли и немного позже появилась ягода покрупнее. Гниль начала уходить.   Деплой перед сном Не долго я радовался тому, что дела начали налаживаться. Вносил правки в код, запустил и ушел. Самое главное — полив. Его работу после запуска системы управления я проверял на слух. Шумят форсунки — значит работает. Но заработали не все. Из-за ошибки в коде половина перестала работать. Я спокойно уехал домой и лёг спать. Когда проснулся утром, увидел в Телеграме уведомления, что проблема с поливом и сразу поехал в контейнер. Меня там ждала следующая картина:   Баг исправил быстро, растения опрыскал с Эпином, в надежде, что восстановятся. В общей сложности, растения без полива и под освещением провели около 10 часов. Два десятка кустов в итоге погибли, остальные оклемались. Ягода всё равно спеет   Собрал корзинку. Размер и вкус хорошие. Хотя сладости можно было бы и побольше. Я в прошлом посте упоминал, что у меня две линии полива с разной концентрацией раствора. На одной линии EC 1.1, на второй - 0.8. При концентрации 0.8 ягода немного слаще и крупнее. Отпуск Собрался в отпуск. Страшно. 17 дней не будет физического доступа к контейнеру. Фаза плодоношения ещё не завершилась, но уже близится к концу. Чтобы ягода не переспевала и не гнила в мое отсутствие, я обрезал все цветоносы и благополучно уехал. В отпуске я следил за параметрами, но ни разу не вмешивался в процесс. Всё прошло хорошо. Когда вернулся, меня ждали живые кусты. Это очень радует. Все идет к тому, что я доведу систему до уровня, когда для её обслуживания можно будет оставлять человека без особой квалификации.   Проблема с концентратом У меня работает автоподмешивание концентратов раствора, чтобы держать EC на одном уровне. Я уже давно заметил, что в концентрате B (Магний сернокислый, Калий фосфорнокислый, Рексолин APN) со временем начинают появляться сгустки. Главной предполагаемой причиной было взаимодействие с воздухом. В чем я убедился, когда уезжал в отпуск, залив достаточное количество концентрата. Сверху в бутылки воздух поступает свободно и на концентрате образовался налет. Отдельно проводил эксперимент, если стравить воздух из бутылки, то проблема не проявляется. Видимо, придется держать концентраты в емкостях без доступа воздуха.   Сломалась одна линия полива В Telegram прилетело уведомление из контейнера "Pressure difference for line 2 middle status: too_low, value: 0.005". Оно означает, что на второй линии на средней полке отсутствует разница в давлении до включения форсунок и во время. Т.к. на остальных линиях с разницей давления всё хорошо, значит с самой системой полива всё в порядке. Остается только грешить на клапан. Дополнительно прилетел график, на котором видно, что проблема только на одной линии.   Делать нечего, надо ехать в контейнер. Там я убедился, что проблема в клапане и быстро его заменил. Растения не пострадали. Хорошо, что сделал мониторинг и заранее купил про запас самых важных элементов. Сначала я думал, что клапаны не качественные, но после разборки обнаружил плотное солевое кольцо внутри, которое мешало ходу клапана. После очистки клапан снова заработал. Любопытно, что я больше всего боялся за отложение солей на форсунках, но такой проблемы пока не возникало. Интересно, почему оно образовалось в клапане? Щёлочь потекла   Пришло уведомление о протечке в контейнере. Ну, думаю, опять конденсат нападал, но надо съездить проверить. Оказалось другое. Спустя месяц работы начал капать pH UP. Прохудилась силиконовая трубка в месте крепления. Я так и не понял, она порвалась от натяжения или дело в щёлочи. Трубка изнутри стала скользкой, на переходнике больше не держится, хотя изначально натягивалась с трудом. Ещё из любопытного, что разъело алюминий на пенофоле. Прихожу, а в контейнере шипит. Сначала я думал, чем можно заменить силиконовую трубку, но нашел самое простое решение проблемы — избавился от pH UP совсем. Корректировка pH вверх нужна, когда раствор начинает кислить, а в нормальных условия раствор кислить не должен. Это явный признак проблемы. Одна из причин — грибок в растворе. Я ставил автоподнятие pH, когда у меня гнили корни. После устранения проблемы pH перестал падать, а значит и автокорректировка вверх больше не нужна. В таких случаях надо не раствор корректировать, а проблему устранять. Большой потоп Видео Видео    Вода в контейнер подается из скважины. Скважина не моя, но я был её единственным пользователем и использовал по своему усмотрению. Однажды, хозяин участка решил завести воду в свой хозблок, сделал там накопительный бак. И мы договорились, что я подключусь к нему. Есть ещё на этом участке работник. Мы обсудили с ним, как всё должно работать. Я ему сообщил, что мне надо на своей стороне выполнить подготовку к переключению. Раньше я из контейнера автоматически включал насос и выключал его, когда бак заполнялся. Через несколько дней мне позвонили и сказали, что у меня в контейнере из-под двери хлещет вода. Ну, нифига себе, думаю! Оказалось, что рабочий, с которым мы обсуждали детали, просто взял и врезал меня в их новый водопровод. Без моего присутствия, не предупредив, не уточнив, готово ли всё на моей стороне. Как итог, я вычерпал около 200л воды и пол дня приводил всё в порядок. Этих проблем можно было избежать, установив на баке защиту в виде поплавкового отсекателя. Вторая волна Началась вторая волна плодоношения. Урожайность значительно выше, чем в первую. Ягода стала ещё крупнее, средний вес - 18-20 гр.   Каждые 2-3 дня я приезжал в контейнер и увозил по несколько лотков клубники. В один день даже собрал больше 5.5 кг за раз. Ягоду уже некуда было девать. Дома все объелись, варенья наварил, родственников накормил, даже объявились желающие покупать. В общей сложности за вторую волну я собрал более 32 кг ягоды с 233 кустов. Думаю, собрал бы ещё килограмм 10, но работы в контейнере были остановлены. Об этом я расскажу в конце поста. Да, кустов осталось 233 из изначально посаженных 336. Подвижные стеллажи Идея подвижных стеллажей оказалась непригодной для клубники. Посмотрите на фото:   Если стеллажи держать близко друг к другу, то цветоносы спутываются и последующее раздвижение довольно хлопотно. А в самом начале я очень гордился, что придумал такую классную идею. Даже ввязался в историю, чтобы получить патент на систему подвижных стеллажей для выращивания растений, обращался к юристу по интеллектуальной собственности для исследования баз патентов и оценки самой идеи. Реальность оказалась немного сложнее моих ожиданий. Юрист сказал, что на патент не тянет, но можно попробовать зарегистрироваться в качестве полезной модели. Погрузившись глубже в детали патентования я решил, что большого смысла в этом нет. Во-первых, начал сомневаться в уникальности и особенности идеи, во-вторых, регистрация составных технических решений показалась мне сомнительной, в-третьих, нет гарантии, что такое ресурсоемкое дело, выгорит. Исследования и эксперименты Анализ раствора В аэропонной системе в контейнере крутится 180 литров раствора. За сутки на начальном этапе развития уходило в среднем по 9 литров и раствор периодически нужно доливать. Элементы в растворе расходуются не пропорционально, поэтому соотношение солей, используемое при первоначальном замешивании, не самое оптимальное. На этапе вегетации я отнес раствор в лабораторию, чтобы посмотреть, как перекосилось соотношение элементов относительно изначального. Раствор крутился в системе 25 дней. Я доливал в него чистую воду и первоначальный концентрат, чтобы EC был на уровне 0.82. Отмечу, что на анализ я относил только отработавший раствор. В идеале я должен был отнести ещё и первоначальный раствор, чтобы знать реальное начальное соотношение, но я его взял из калькулятора, по которому готовил. Подробности можно почитать в отдельном посте. Тут лишь отмечу, что азот и марганец значительно уплыли вниз и образовался очень странный избыток цинка и меди, вероятно, из-за соединительных элементов в системе полива. посте     Попытка компенсировать проблему с корнями Я уже писал, что корни увлажняются неравномерно из-за положения форсунок. Либо снизу заливает, либо сверху подсыхает. Я попытался это исправить, поместив часть растений в субстрат из кокоса и перлита.   Кокос очень хорошо смачивается, а перлит даст больше кислорода корням. Рассчитывал, что таким образом удастся избежать проблемы с подсыхающими верхушками. Попытка провалилась. Часть горшков стала слишком влажной, а некоторым не хватало влаги. На развитии растений это сказалось негативно. Органика в аэропонике   В советской книге "Аэропоника в теплицах", И.Г. Мураш, 1964 г. упоминалось, что у них в аэропонике очень хорошо зашел настой коровяка. Я решил тоже попробовать, сначала коровяк, но позже перешел на вермикофе. Начал с небольших доз и смотрел за результатом. К сожалению, не было возможности сделать контрольную и экспериментальную группу с одинаковыми условиями, поэтому добавил органику на все растения. Купил концентрат, прогнал через фильтр. Жду, как будет вести себя в системе. Органику добавил — хорошо. Но растения не питаются коровьим навозом. Требуются организмы, способные разложить её на доступные для растений элементы. Я в биологии не силен, у меня нет понимания, живут ли в моем растворе такие микроорганизмы. В книге "Гидропоника для всех" У.Тексье упоминал, что для органической гидропоники использовал триходерму. Попробовал добавить немного в раствор. Вероятно, она сможет работать на стенках каналов и в фильтрах. Особенно в дренажном фильтре. В нем я использую аквариумную губку, которая как раз и работает биофильтром. Спустя время заметил, что форсунки стали работать хуже, разбираю, а там зеленый налёт.   Причем налет образуется и после фильтра в 5 микрон. Занялся поиском причин. Есть такое понятие — биопленка. Микроорганизмы образуют колонии на стенках трубок. Со временем наросты отваливаются и создают серьезную проблему для форсунок. В гидропонике это мало заметно и проявляется значительно позже, а в аэропонике, кажется, это большая проблема. Пока не знаю как с этим бороться. Можно будет попробовать установить более мелкий фильтр, не пропускающий микроорганизмы после себя. Думаю, 0.2-0.5 микрон должно хватить. Добавил задачу в бэклог для проверки гипотезы. биопленка Конец Коробки 2.0 Я поспешил с масштабированием, собрал установку на 336 кустов. Технология ещё очень далека от совершенства, а большие объемы требуют ресурсов на поддержание существования. Я стал заложником собственных трудов и мне не хватает времени на развитие и эксперименты. Потоп, о котором я писал выше, имел последствия. Влажность воздуха в контейнере была слишком высокой и даже осушитель с ней не справлялся. Вышел из строя модуль реле и ещё один был на грани, контакты окислились. В этот момент я и принял решение об остановке проекта. Зачем я буду сейчас прилагать усилия и пытаться спасти то, что есть? Я уже получил результат, не удовлетворяющий своим ожиданиям. Урожайность ниже, чем я хочу, растения развиваются плохо. Стараться только ради ягоды, которую ещё можно получить с этих кустов? Тогда будет трудно двигаться дальше. И я принял решение законсервировать контейнер. Но идеи получить идеальную клубнику не оставил, сосредоточусь на отработке технологии, а объемы подождут. Сначала я соберу дома маленькую установку, на которой отработаю грамотное увлажнение корней. А уже после переоборудую контейнер под лабораторию, в которой буду на небольших объемах проводить честные эксперименты с контрольной группой, чтобы улучшать результат. Так что скоро будет Коробка 2.1! Итоги и планы В общей сложности выжило 233 куста из 336. А из выживших далеко не все были в хорошем состоянии. Основная часть растений пострадала из-за способа полива. Именно на этом я планирую сосредоточиться в ближайшее время. Пока не будет здоровых корней, об остальных доработках можно не думать. У меня есть мнение, что загадка решения проблемы кроется в самом растении — очень капризна земляника садовая в плане орошения. Я пробовал выращивать томаты на аэропонике, и там корни получились шикарными.   Ещё у меня сейчас в стадии проработки интереснейший проект с аэропоникой для третьей стороны. Детали раскрывать не хочется до его утверждения. Но позже обязательно расскажу о нем в своем телеграм-канале. Кстати, подписывайтесь. Там я веду нечто вроде дневника своих аэропонных приключений. подписывайтесь И напоследок хочу вбросить желание. Если вы как-то связаны с сити-фермерством, производством растительной продукции, особенно в области гидропоники и аэропоники, приглашайте меня к себе на экскурсию. Быть может, будем друг другу полезны. Так же я открыт для идей и предложений. Если есть что-то интересное — пишите. До новых встреч. Мне ещё будет о чем рассказать. Telegram-канал проекта: https://t.me/cyberdacha https://t.me/cyberdacha Telegram для связи: https://t.me/shurik2533 https://t.me/shurik2533 ]]></text>
</doc>
