<?xml version="1.0" ?>
<doc>
	<label auto="true" type="str" verify="true"><![CDATA[Other]]></label>
	<author auto="true" type="list" verify="true">
		<item type="str"><![CDATA[AstraLinux_Group]]></item>
	</author>
	<date auto="true" type="str" verify="true"><![CDATA[2022-08-19, 12:10]]></date>
	<link auto="true" type="str" verify="true"><![CDATA[https://habr.com/ru/company/astralinux/blog/683488/]]></link>
	<title auto="true" type="str" verify="true"><![CDATA[Что нужно знать о применении шрифтов]]></title>
	<categories auto="true" type="list" verify="true">
		<item type="str"><![CDATA[Блог компании ГК «Астра»]]></item>
		<item type="str"><![CDATA[Типографика]]></item>
		<item type="str"><![CDATA[Дизайн]]></item>
		<item type="str"><![CDATA[Подготовка технической документации]]></item>
	</categories>
	<key_words auto="true" type="list" verify="true">
		<item type="str"><![CDATA[типографика]]></item>
		<item type="str"><![CDATA[шрифт]]></item>
		<item type="str"><![CDATA[шрифты]]></item>
		<item type="str"><![CDATA[типографика и верстка]]></item>
		<item type="str"><![CDATA[astra linux]]></item>
		<item type="str"><![CDATA[импортозамещение]]></item>
		<item type="str"><![CDATA[офисное по]]></item>
		<item type="str"><![CDATA[электронные документы]]></item>
		<item type="str"><![CDATA[документооборот]]></item>
		<item type="str"><![CDATA[подготовка документации]]></item>
	</key_words>
	<text auto="true" type="str" verify="true"><![CDATA[Одна из самых частых проблем при миграции информационных систем на ОС Astra Linux — это искажение документов, ранее созданных на ОС Windows в MS Office и других программных средствах. В лучшем случае «слетает» вёрстка, в худшем — всё превращается в текст из нечитаемых символов, известных в народе как кракозябры.
Зачастую эти проблемы связаны со шрифтами. В этой статье мы расскажем, что нужно знать об их применении, и как избежать указанных неприятностей.
Технологические особенности применения шрифтов
В состав операционной системы входит комплект шрифтов, которые используются на компьютере для отображения информации и создания документов. Кроме того, операционная система позволяет расширять дефолтный набор, устанавливая и другие шрифты.
Программные средства, создающие электронные документы, такие как текстовые редакторы, электронные таблицы, средства подготовки презентаций, обычно включают в электронные документы офисных форматов ODF (odt, ods, odp), OOXML (docx, xlsx, pptx) или PDF не сами шрифты, а только их наименования. В дальнейшем при формировании образа документа на экране компьютера или при печати нужные шрифты запрашиваются у операционной системы. Электронный документ может быть сохранён на флеш-носитель или отправлен по электронной почте для использования на другом компьютере, и если нужные шрифты установлены в операционной системе того устройства, то документ будет отображаться так же, как он выглядел при создании.
Если же нужные шрифты на компьютере отсутствуют, то операционная система предоставит вместо них другие шрифты — в этом случае отображаемый документ может выглядеть иначе, так как размеры символов шрифтов, предоставленных для замены, могут отличаться от нужных.
Внедряем шрифты в электронный документ
Избежать указанных проблем можно, если внедрить нужные шрифты непосредственно в электронный документ.
Для PDF-документов следует использовать формат PDF/A, предназначенный для долгосрочного архивного хранения электронных документов. В файл документа в формате PDF/A можно включить все нужные шрифты, и именно они будут использованы на любом другом компьютере для отображения документа без искажений. Если вы используете LibreOfiice, то при экспорте документа в формат PDF следует в параметрах выбрать Archive (PDF/A, ISO 19005), как показано на рисунке.
В случае документов в форматах ODF или OOXML внедрить шрифты в файл электронного документа можно путём задания соответствующих свойств.
Если вы используете LibreOfiice, то в свойствах документа надо выбрать переключатели, управляющие внедрением шрифтов, как показано на рисунке.
Таким образом, внедрение шрифтов в файл электронного документа позволит избежать искажений документа при отображении и печати, хотя размер файла электронного документа при этом немного увеличивается.
Проблемы применения проприетарных шрифтов
Пользователи обычно не обращают внимания на лицензирование шрифтов, установленных на их компьютерах, и на то, что широко применяемые шрифты Times New Roman, Arial и Courier New, поставляемые с операционной системой Windows, являются проприетарными. Файлы шрифтов содержат информацию о правообладателе и другие сведения о лицензировании шрифтов в качестве объектов собственности и правовой защиты.
В представленном примере приведена информация о шрифте Times New Roman, правообладателем которого является американская компания Monotype.
В лицензионных документах на проприетарные шрифты содержится запрет на их копирование или распространение. Следует понимать, что копирование или распространение шрифта — это не обязательно непосредственное копирование или передача файлов самого шрифта. Описанное выше внедрение шрифтов в файлы электронных документов и последующее копирование на носитель или отправка по электронной почте документов с внедрёнными шрифтами также является копированием и распространением, нарушающим лицензионное соглашение.
Нередки случаи, когда лицензионные соглашения для различных версий одного и того же проприетарного шрифта разрешают или запрещают его внедрение в файлы электронных документов PDF/A формата, для чего в файле шрифта содержится соответствующий признак запрета.
В лицензии на проприетарные шрифты указано, что если они содержат признак такого запрета, то приложения, которые используются для создания документов с внедрёнными шрифтами, должны уметь определять значение этих признаков и соответственно внедрять или не внедрять шрифты в документ.
В результате PDF/A-документ без внедрённого шрифта при отсутствии этого шрифта на компьютере может отображаться другими символами вместо нормальных букв, как показано в приведённом ниже примере.
Учитывая эти проблемы, разработчики ОС Astra Linux в 2015 году пытались приобрести у компании Monotype лицензию на применение шрифтов Times New Roman, Arial, Courier New и Verdana, однако уже тогда в этом было отказано со ссылкой на санкционные ограничения.
На основании изложенного можно определить следующие требования к применению проприетарных шрифтов:
Применение проприетарных шрифтов возможно только после приобретения лицензии на использование шрифта у правообладателя (в случае Times New Roman и Arial это Monotype) или его авторизованных дистрибьюторов на территории Российской Федерации. Кроме того, следует учитывать, что в лицензионном соглашении на шрифты прописаны юрисдикция и право США, поэтому необходимо оценивать риски, связанные с нарушением санкционного законодательства США.
В случае, когда право на использование экземпляра шрифта было ранее приобретено в составе программного обеспечения лицензиата компании Monotype (например, вместе с Windows), использование ранее приобретённого шрифта в других операционных системах также требует согласования с правообладателем, так как такой случай явным образом не разъяснён в лицензионном соглашении и может быть оспорен правообладателем в судебном порядке.
Следует отметить, что в настоящее время реализация этих требований существенно затруднена.
Свободные шрифты на замену проприетарным
Решением проблем, связанных с проприетарными шрифтами является применение свободных шрифтов, лицензии на использование которых не накладывают ограничений на их копирование и распространение. Главный вопрос, требующий при этом внимания — это отображение без искажений документов, созданных с применением проприетарных шрифтов. Добиться этого можно, используя свободные шрифты, которые метрически подобны проприетарным.
Метрическое подобие означает, что все аналогичные буквы в таких шрифтах имеют одинаковые размеры, хотя и различаются по внешнему виду, так как именно внешний вид символов шрифта является объектом правовой защиты.
Если документ был создан с использованием проприетарных шрифтов, которые отсутствуют на компьютере, то подстановка вместо них метрически подобных свободных шрифтов не вызовет искажения документа при отображении, так как каждый символ свободного шрифта будет занимать столько же места, сколько занимал символ шрифта проприетарного.
В приведённой ниже таблице представлены распространённые проприетарные шрифты и их свободные метрические аналоги.
Обратите внимание, что шрифт PT Astra Sans хотя и похож по начертанию на Arial, но метрически подобен именно Times New Roman, что и определяет его расположение в этой таблице.
Следует отметить, что свободные шрифты могут быть свободно скачаны и установлены на любой компьютер под управлением любой операционной системы, поэтому ничего не мешает уже сегодня начать использовать метрически аналогичные свободные шрифты вместо проприетарных.
Особенности шрифтов PT Astra Serif и PT Astra Sans
Шрифты PT Astra Serif и PT Astra Sans были разработаны с учётом следующих требований:
обеспечить метрическое подобие шрифту Times New Roman, так как именно этот проприетарный шрифт наиболее часто упоминается в требованиях по оформлению документов;
обеспечить взаимозаменяемость шрифтов с засечками и без засечек.
Второе требование заслуживает дополнительного пояснения.
Шрифты с засечками и без засечек отличаются характерным видом символов, что наглядно видно в приведённом ниже примере:
В требованиях к разработке документов часто встречается, что при создании деловой документации (писем, приказов, контрактов, технических заданий и проч.) должен применяться шрифт с засечками, и почти всегда это был Times New Roman. Конструкторская и строительная документация (чертежи, схемы, описания и др.) в соответствии с требованиями должна разрабатываться шрифтом без засечек и для этого обычно использовали шрифт Arial.
Особенность этих шрифтов в том, что они не являются метрически подобными — символы шрифта Arial заметно крупнее символов шрифта Times New Roman. Eсли документ был создан каким-либо из этих шрифтов, а затем потребуется замена шрифта, чтобы добавить или убрать засечки на символах, то из-за метрического несоответствия шрифтов Times New Roman и Arial отображение документа изменится. В результате может измениться количество страниц, размеры врезок и подписей в рисунках и схемах, может неполно отображаться текст и т. д.
В отличие от шрифтов Times New Roman и Arial, шрифт с засечками PT Astra Serif и шрифт без засечек PT Astra Sans метрически подобны и замена одного из них на другой не приведёт к искажению документа.
В представленной таблице наглядно видна идентичность переноса по строкам непрерывной последовательности символов для метрически подобных шрифтов Times New Roman, PT Astra Serif и PT Astra Sans и отличия в распределении символов по строкам для шрифта Arial.
Таким образом, свободные шрифты PT Astra Serif и PT Astra Sans могут заменить проприетарный шрифт Times New Roman, а также они взаимозаменяемы как шрифты с засечками и без засечек.
Скачать описанные шрифты можно по ссылкам:
https://astralinux.ru/information/
https://www.paratype.ru/fonts/pt/pt-astra-serif
https://www.paratype.ru/fonts/pt/pt-astra-sans
Не забывайте об организационных вопросах
Превратить текст в нечитаемые кракозябры — это древний и проверенный способ затормозить работу и вывести коллег из равновесия, поэтому во многих организациях подготовка документов регламентирована инструкциями по ведению делопроизводства, разработанными с учётом ГОСТ Р 7.0.97-2016 «Организационно-распорядительная документация. Требования к оформлению документов», в п. 3.3 которого указано, что для создания документов необходимо использовать свободно распространяемые бесплатные шрифты.
В ГОСТ Р 2.105-2019 «Единая система конструкторской документации. Общие требования к текстовым документам» в п. 5.1.1 указано, что при автоматизированном способе выполнения документов следует учитывать лицензионные или иные ограничения на применяемые шрифты. Рекомендуется использовать шрифты, распространяемые на основе открытой лицензии, или обеспечивать хранение и передачу шрифтов всем пользователям документов.
В примечании к этому же пункту отмечается необходимость учитывать, что при автоматизированном способе выполнения документов применение проприетарных шрифтов из состава ОС Windows (включая Arial, Times New Roman, Courier New, Verdana и др.) может привести к искажениям при отображении этих документов в других операционных системах (например, при переходе на отечественное ПО), в которых эти шрифты отсутствуют из-за санкционных и лицензионных ограничений.
Заслуживают внимания и «Требования к организационно-техническому взаимодействию государственных органов и государственных организаций», утверждённые приказом Минцифры РФ N 667, ФСО РФ N 233 от 04.12.2020, в п. 4 гл. II которых указано, что файл документа в электронном виде должен быть представлен в формате PDF/A-1.
Целесообразно учитывать эти нормативные требования как при разработке самих электронных документов, так и при разработке систем электронного документооборота. Одна из самых частых проблем при миграции информационных систем на ОС Astra Linux — это искажение документов, ранее созданных на ОС Windows в MS Office и других программных средствах. В лучшем случае «слетает» вёрстка, в худшем — всё превращается в текст из нечитаемых символов, известных в народе как кракозябры. Зачастую эти проблемы связаны со шрифтами. В этой статье мы расскажем, что нужно знать об их применении, и как избежать указанных неприятностей. Технологические особенности применения шрифтов В состав операционной системы входит комплект шрифтов, которые используются на компьютере для отображения информации и создания документов. Кроме того, операционная система позволяет расширять дефолтный набор, устанавливая и другие шрифты. Программные средства, создающие электронные документы, такие как текстовые редакторы, электронные таблицы, средства подготовки презентаций, обычно включают в электронные документы офисных форматов ODF (odt, ods, odp), OOXML (docx, xlsx, pptx) или PDF не сами шрифты, а только их наименования. В дальнейшем при формировании образа документа на экране компьютера или при печати нужные шрифты запрашиваются у операционной системы. Электронный документ может быть сохранён на флеш-носитель или отправлен по электронной почте для использования на другом компьютере, и если нужные шрифты установлены в операционной системе того устройства, то документ будет отображаться так же, как он выглядел при создании. Если же нужные шрифты на компьютере отсутствуют, то операционная система предоставит вместо них другие шрифты — в этом случае отображаемый документ может выглядеть иначе, так как размеры символов шрифтов, предоставленных для замены, могут отличаться от нужных.   Внедряем шрифты в электронный документ Избежать указанных проблем можно, если внедрить нужные шрифты непосредственно в электронный документ. Для PDF-документов следует использовать формат PDF/A, предназначенный для долгосрочного архивного хранения электронных документов. В файл документа в формате PDF/A можно включить все нужные шрифты, и именно они будут использованы на любом другом компьютере для отображения документа без искажений. Если вы используете LibreOfiice, то при экспорте документа в формат PDF следует в параметрах выбрать Archive (PDF/A, ISO 19005), как показано на рисунке.   В случае документов в форматах ODF или OOXML внедрить шрифты в файл электронного документа можно путём задания соответствующих свойств. Если вы используете LibreOfiice, то в свойствах документа надо выбрать переключатели, управляющие внедрением шрифтов, как показано на рисунке.   Таким образом, внедрение шрифтов в файл электронного документа позволит избежать искажений документа при отображении и печати, хотя размер файла электронного документа при этом немного увеличивается.   Проблемы применения проприетарных шрифтов Пользователи обычно не обращают внимания на лицензирование шрифтов, установленных на их компьютерах, и на то, что широко применяемые шрифты Times New Roman, Arial и Courier New, поставляемые с операционной системой Windows, являются проприетарными. Файлы шрифтов содержат информацию о правообладателе и другие сведения о лицензировании шрифтов в качестве объектов собственности и правовой защиты.   В представленном примере приведена информация о шрифте Times New Roman, правообладателем которого является американская компания Monotype. В лицензионных документах на проприетарные шрифты содержится запрет на их копирование или распространение. Следует понимать, что копирование или распространение шрифта — это не обязательно непосредственное копирование или передача файлов самого шрифта. Описанное выше внедрение шрифтов в файлы электронных документов и последующее копирование на носитель или отправка по электронной почте документов с внедрёнными шрифтами также является копированием и распространением, нарушающим лицензионное соглашение. Нередки случаи, когда лицензионные соглашения для различных версий одного и того же проприетарного шрифта разрешают или запрещают его внедрение в файлы электронных документов PDF/A формата, для чего в файле шрифта содержится соответствующий признак запрета. В лицензии на проприетарные шрифты указано, что если они содержат признак такого запрета, то приложения, которые используются для создания документов с внедрёнными шрифтами, должны уметь определять значение этих признаков и соответственно внедрять или не внедрять шрифты в документ. В результате PDF/A-документ без внедрённого шрифта при отсутствии этого шрифта на компьютере может отображаться другими символами вместо нормальных букв, как показано в приведённом ниже примере.   Учитывая эти проблемы, разработчики ОС Astra Linux в 2015 году пытались приобрести у компании Monotype лицензию на применение шрифтов Times New Roman, Arial, Courier New и Verdana, однако уже тогда в этом было отказано со ссылкой на санкционные ограничения. На основании изложенного можно определить следующие требования к применению проприетарных шрифтов: Применение проприетарных шрифтов возможно только после приобретения лицензии на использование шрифта у правообладателя (в случае Times New Roman и Arial это Monotype) или его авторизованных дистрибьюторов на территории Российской Федерации. Кроме того, следует учитывать, что в лицензионном соглашении на шрифты прописаны юрисдикция и право США, поэтому необходимо оценивать риски, связанные с нарушением санкционного законодательства США.
В случае, когда право на использование экземпляра шрифта было ранее приобретено в составе программного обеспечения лицензиата компании Monotype (например, вместе с Windows), использование ранее приобретённого шрифта в других операционных системах также требует согласования с правообладателем, так как такой случай явным образом не разъяснён в лицензионном соглашении и может быть оспорен правообладателем в судебном порядке. Применение проприетарных шрифтов возможно только после приобретения лицензии на использование шрифта у правообладателя (в случае Times New Roman и Arial это Monotype) или его авторизованных дистрибьюторов на территории Российской Федерации. Кроме того, следует учитывать, что в лицензионном соглашении на шрифты прописаны юрисдикция и право США, поэтому необходимо оценивать риски, связанные с нарушением санкционного законодательства США. Применение проприетарных шрифтов возможно только после приобретения лицензии на использование шрифта у правообладателя (в случае Times New Roman и Arial это Monotype) или его авторизованных дистрибьюторов на территории Российской Федерации. Кроме того, следует учитывать, что в лицензионном соглашении на шрифты прописаны юрисдикция и право США, поэтому необходимо оценивать риски, связанные с нарушением санкционного законодательства США. В случае, когда право на использование экземпляра шрифта было ранее приобретено в составе программного обеспечения лицензиата компании Monotype (например, вместе с Windows), использование ранее приобретённого шрифта в других операционных системах также требует согласования с правообладателем, так как такой случай явным образом не разъяснён в лицензионном соглашении и может быть оспорен правообладателем в судебном порядке. В случае, когда право на использование экземпляра шрифта было ранее приобретено в составе программного обеспечения лицензиата компании Monotype (например, вместе с Windows), использование ранее приобретённого шрифта в других операционных системах также требует согласования с правообладателем, так как такой случай явным образом не разъяснён в лицензионном соглашении и может быть оспорен правообладателем в судебном порядке. Следует отметить, что в настоящее время реализация этих требований существенно затруднена. Свободные шрифты на замену проприетарным Решением проблем, связанных с проприетарными шрифтами является применение свободных шрифтов, лицензии на использование которых не накладывают ограничений на их копирование и распространение. Главный вопрос, требующий при этом внимания — это отображение без искажений документов, созданных с применением проприетарных шрифтов. Добиться этого можно, используя свободные шрифты, которые метрически подобны проприетарным. Метрическое подобие означает, что все аналогичные буквы в таких шрифтах имеют одинаковые размеры, хотя и различаются по внешнему виду, так как именно внешний вид символов шрифта является объектом правовой защиты. Если документ был создан с использованием проприетарных шрифтов, которые отсутствуют на компьютере, то подстановка вместо них метрически подобных свободных шрифтов не вызовет искажения документа при отображении, так как каждый символ свободного шрифта будет занимать столько же места, сколько занимал символ шрифта проприетарного. В приведённой ниже таблице представлены распространённые проприетарные шрифты и их свободные метрические аналоги.   Обратите внимание, что шрифт PT Astra Sans хотя и похож по начертанию на Arial, но метрически подобен именно Times New Roman, что и определяет его расположение в этой таблице. Следует отметить, что свободные шрифты могут быть свободно скачаны и установлены на любой компьютер под управлением любой операционной системы, поэтому ничего не мешает уже сегодня начать использовать метрически аналогичные свободные шрифты вместо проприетарных.]]></text>
</doc>
