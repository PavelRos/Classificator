<?xml version="1.0" ?>
<doc>
	<label auto="true" type="str" verify="true"><![CDATA[Other]]></label>
	<author auto="true" type="list" verify="true">
		<item type="str"><![CDATA[GolovinDS]]></item>
	</author>
	<date auto="true" type="str" verify="true"><![CDATA[2022-07-11, 17:20]]></date>
	<link auto="true" type="str" verify="true"><![CDATA[https://habr.com/ru/company/otus/blog/676336/]]></link>
	<title auto="true" type="str" verify="true"><![CDATA[Создание рига персонажа в Maya]]></title>
	<categories auto="true" type="list" verify="true">
		<item type="str"><![CDATA[Блог компании OTUS]]></item>
		<item type="str"><![CDATA[Дизайн игр]]></item>
	</categories>
	<key_words auto="true" type="list" verify="true">
		<item type="str"><![CDATA[maya]]></item>
		<item type="str"><![CDATA[риг]]></item>
		<item type="str"><![CDATA[3d-моделирование]]></item>
	</key_words>
	<text auto="true" type="str" verify="true"><![CDATA[Автор статьи: Дарибаев Мурат
ΛLGORITHM 3D studios
В этой статье мы рассмотрим один из способов создания рига персонажа, используя дополнение к Autodesk Maya Advanced Skeleton. Maya содержит достаточное количество инструментов для работы со скелетной анимацией и огромное количество дополнений в виде плагинов и наборов скриптов, расширяющих функционал программы. Чтобы персонаж “ожил” и его можно было начать анимировать, необходимо сначала создать риг. (от англ. Rig - оснастка). Риг - это огромная конструкция, состоящая из суставов, контроллеров в виде простых кривых либо других примитивов, solver’ов инверсной кинематики, выражений (expressions), ограничителей (constraints) и прочих объектов, находящихся в определенной иерархической зависимости по отношению друг к другу. Вся эта конструкция будет управлять нашим персонажем, позволяя ему ходить, бегать, приседать, поворачивать головой и тд. По сути риг - это такие “ниточки”, дергая за которые, мы управляем нашим персонажем.
Это наш персонаж
Так выглядит персонаж с “ригом”
Существует несколько способов создания рига:
это создавать риг “вручную”, без использования вспомогательных скриптов и плагинов,
использовать так называемые auto-риггеры. Мы же рассмотрим второй способ, так как первый будет очень долгим процессом. На данный момент существует множество дополнений для Maya в виде авто-риггеров, как платных так и бесплатных. Создавать риг в этой статье мы будем с помощью Advanced Skeleton.
Его преимущества в том, что он во-первых бесплатен. Во-вторых все риги созданные Advanced Skeleton’ом можно открыть на другом компьютере где не установлен плагин.
Advanced Skeleton не создает в сцене каких-либо новых нод, а использует все внутренние инструменты Maya. Просто все это дело очень удобно автоматизировано.
И устанавливается он очень просто: достаточно распаковать архив в Мои Документы\maya\scripts и перетащить файл install.mel во вьюпорт майи.
После установки на shelf’e появятся 4 иконки
Нажимая на иконку с цифрой 5 мы запустим основное окно AdvancedSkeleton’a. Первое что нам нужно сделать, это импортировать в сцену уже готовый шаблон скелета двуногого персонажа (biped.ma). Во вкладке Body - Fit выбираем biped.ma и нажимаем Import.
Импортированный шаблон скелета biped.ma
После импорта шаблона, нам нужно подогнать скелет под нашего персонажа. Перетаскивая суставы стандартным инструментом Move. Можно использовать клавишу insert (либо зажать d), чтобы перемещать суставы, не нарушая нижележащую иерархию . Суставы можно поворачивать, например shoulder, чтобы корректнее расположить внутри модели. Но делать все это в локальных осях, как перемещения Move, так и вращения Rotate.
Подогнанный к персонажу скелет
После того как подогнали скелет к 3d-модели, необходимо пройти во вкладку Build и нажать на кнпопку Build AdvancedSkeleton.
После нажатия на кнопку Build, через некоторое время Maya создаст полностью рабочий риг со всеми нужными контроллерами для анимации.
Построенный риг
Далее нам осталось лишь “привязать” модель персонажа к деформирующим суставам Advanced Skeleton’a. Для этого нужно выделить геометрию персонажа, если она состоит из нескольких объектов их также выделяем с зажатым shift. Не снимая выделения с объектов, переходим во вкладку Deform (option1) и нажимаем на кнопки +Select DeformJoints и затем на кнопку Set Smooth Bind Options. В появившемся диалоговом окне Bind skin options нажимаем Bind Skin.
Кнопка +Select DeformJoints добавит к текущим выделенным объектам (геометрия персонажа) деформирующие суставы, которые нужно привязать к полигонам, последующей командой Bind Skin.
Далее, необходимо произвести скиннинг персонажа, используя Paint skin weights tool в Maya. Можно использовать возможности Advanced Skeleton для скиннинга. 
Инструмент Paint skin weights tool
В окне Influences выбираем нужный сустав. Paint operation: Add - добавить, Scale - удалить (если на нуле), Replace - заменить, Smooth - сгладить веса. Переключаясь между необходимыми суставами в окне Influences начинаем красить веса кисточкой прямо по полигонами. Кое где уменьшая влияния определенного сустава, а в каких-то моментах, наоборот, необходимо добавить веса. После скиннинга можно накинуть Delta Mush деформер, который еще больше сгладит деформации персонажа.
После этих действий наш персонаж будет готов к анимации.
Теперь нашего персонажа можно начинать анимировать!
Более подробный процесс создания рига и скиннинга можно посмотреть на курсах по 3D-моделированию в OTUS. Для ознакомления с процессом обучения приглашаю всех желающих на бесплатный демоурок курса по теме: "Рендер в Marmoset Toolbag". На уроке вы сможете изучить программу Marmoset Toolbag: теорию освещения, инструменты, а также пошаговый рендер и настройку сцены для конечной картинки.
Зарегистрироваться на бесплатный урок   Автор статьи: Дарибаев Мурат
ΛLGORITHM 3D studios  Автор статьи: Дарибаев Мурат ΛLGORITHM 3D studios В этой статье мы рассмотрим один из способов создания рига персонажа, используя дополнение к Autodesk Maya Advanced Skeleton. Maya содержит достаточное количество инструментов для работы со скелетной анимацией и огромное количество дополнений в виде плагинов и наборов скриптов, расширяющих функционал программы. Чтобы персонаж “ожил” и его можно было начать анимировать, необходимо сначала создать риг. (от англ. Rig - оснастка). Риг - это огромная конструкция, состоящая из суставов, контроллеров в виде простых кривых либо других примитивов, solver’ов инверсной кинематики, выражений (expressions), ограничителей (constraints) и прочих объектов, находящихся в определенной иерархической зависимости по отношению друг к другу. Вся эта конструкция будет управлять нашим персонажем, позволяя ему ходить, бегать, приседать, поворачивать головой и тд. По сути риг - это такие “ниточки”, дергая за которые, мы управляем нашим персонажем.  Это наш персонаж  Так выглядит персонаж с “ригом” Существует несколько способов создания рига: Существует несколько способов создания рига: это создавать риг “вручную”, без использования вспомогательных скриптов и плагинов,
использовать так называемые auto-риггеры. Мы же рассмотрим второй способ, так как первый будет очень долгим процессом. На данный момент существует множество дополнений для Maya в виде авто-риггеров, как платных так и бесплатных. Создавать риг в этой статье мы будем с помощью Advanced Skeleton. это создавать риг “вручную”, без использования вспомогательных скриптов и плагинов, это создавать риг “вручную”, без использования вспомогательных скриптов и плагинов, использовать так называемые auto-риггеры. Мы же рассмотрим второй способ, так как первый будет очень долгим процессом. На данный момент существует множество дополнений для Maya в виде авто-риггеров, как платных так и бесплатных. Создавать риг в этой статье мы будем с помощью Advanced Skeleton. использовать так называемые auto-риггеры. Мы же рассмотрим второй способ, так как первый будет очень долгим процессом. На данный момент существует множество дополнений для Maya в виде авто-риггеров, как платных так и бесплатных. Создавать риг в этой статье мы будем с помощью Advanced Skeleton. Advanced Skeleton Advanced Skeleton Его преимущества в том, что он во-первых бесплатен. Во-вторых все риги созданные Advanced Skeleton’ом можно открыть на другом компьютере где не установлен плагин. Advanced Skeleton не создает в сцене каких-либо новых нод, а использует все внутренние инструменты Maya. Просто все это дело очень удобно автоматизировано. И устанавливается он очень просто: достаточно распаковать архив в Мои Документы\maya\scripts и перетащить файл install.mel во вьюпорт майи. После установки на shelf’e появятся 4 иконки  После установки на shelf’e появятся 4 иконки Нажимая на иконку с цифрой 5 мы запустим основное окно AdvancedSkeleton’a. Первое что нам нужно сделать, это импортировать в сцену уже готовый шаблон скелета двуногого персонажа (biped.ma). Во вкладке Body - Fit выбираем biped.ma и нажимаем Import.  Импортированный шаблон скелета biped.ma После импорта шаблона, нам нужно подогнать скелет под нашего персонажа. Перетаскивая суставы стандартным инструментом Move. Можно использовать клавишу insert (либо зажать d), чтобы перемещать суставы, не нарушая нижележащую иерархию . Суставы можно поворачивать, например shoulder, чтобы корректнее расположить внутри модели. Но делать все это в локальных осях, как перемещения Move, так и вращения Rotate.  Подогнанный к персонажу скелет   После того как подогнали скелет к 3d-модели, необходимо пройти во вкладку Build и нажать на кнпопку Build AdvancedSkeleton.]]></text>
</doc>
