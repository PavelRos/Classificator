<?xml version="1.0" ?>
<doc>
	<original_author auto="true" type="list" verify="true">
		<item type="str"><![CDATA[Nava Whiteford]]></item>
	</original_author>
	<label auto="true" type="str" verify="true"><![CDATA[Other]]></label>
	<author auto="true" type="list" verify="true">
		<item type="str"><![CDATA[Bright_Translate]]></item>
	</author>
	<date auto="true" type="str" verify="true"><![CDATA[2022-04-15, 12:00]]></date>
	<link auto="true" type="str" verify="true"><![CDATA[https://habr.com/ru/company/ruvds/blog/660645/]]></link>
	<title auto="true" type="str" verify="true"><![CDATA[Немного о 35 мм кинопленке и цифровом аудио]]></title>
	<categories auto="true" type="list" verify="true">
		<item type="str"><![CDATA[Блог компании RUVDS.com]]></item>
		<item type="str"><![CDATA[Работа с видео]]></item>
		<item type="str"><![CDATA[Обработка изображений]]></item>
		<item type="str"><![CDATA[Видеотехника]]></item>
		<item type="str"><![CDATA[Звук]]></item>
	</categories>
	<key_words auto="true" type="list" verify="true">
		<item type="str"><![CDATA[ruvds_перевод]]></item>
		<item type="str"><![CDATA[кинотеатр]]></item>
		<item type="str"><![CDATA[35мм кинопленка]]></item>
		<item type="str"><![CDATA[dolby digital]]></item>
		<item type="str"><![CDATA[кодирование аудио]]></item>
	</key_words>
	<text auto="true" type="str" verify="true"><![CDATA[Вспомним, что это была за 35 мм киноплёнка, и какими способами на ней кодировались аудиоданные. В частности, обратим внимание на технологию Dolby Digital и попутно заглянем в патент, который поможет прояснить некоторые детали.

Недавно я решил прикупить 35 мм киноплёнку для экспериментов с проекционной оптикой. Самый дешёвый вариант – это достать такую из кассет с трейлерами к старым фильмам, которые на eBay стоят всего по несколько долларов.

Для тех, кто не ходил в кино последние несколько лет — поясню, что речь идёт о коротких рулонах плёнки, содержащей демо-ролики, показываемые перед началом фильма.

В данном случае я купил трейлер к посредственному фильму-катастрофе 1997 года «Вулкан». По содержанию он более-менее похож на этот.


Несмотря на то что практически во всех кинотеатрах сейчас используется цифровая проекция, аналоговые фильмы все ещё хранят в себе определённое очарование. Для меня это как минимум интересно – иметь возможность видеть сам носитель видеоматериала и взаимодействовать с ним. На изображении ниже показана «А» из “A News Corporation Company”. Здесь отчётливо видна зернистость и ограниченность оптического разрешения формата:


Ещё один любопытный факт из поздней эры аналогового кино состоит в том, что звук обычно кодировался в одном из четырёх аналоговых или цифровых форматов. На следующем изображении видно, что в кадр внедрялись дополнительные данные:


Аналоговая звуковая дорожка использовалась для устаревших проекторов, не оснащённых цифровым декодером. Тайм-код также может быть использован для синхронизации проекции с внешними (часто цифровыми) источниками звука.

Однако форматы SDDS (Sony) и Dolby Digital уже кодировались в виде матриц на саму плёнку и затем декодировались оптическим считывателем или специальным устройством. Лично я считаю эту технологию довольно впечатляющей для 90-х годов. Каждый кадр содержит 4 таких матрицы 78х78, проматываемые через проектор со скоростью 24 к/с, то есть 96 матриц в секунду. Сегодня четверть века спустя, вы можете найти QR-сканер, который выполняет около 60 считываний в секунду, хотя я думаю, что это всё ещё «непростая задача», особенно в реальном времени.

Мне не удалось отыскать публичные ссылки на формат Dolby matrix, но кое-какую полезную информацию можно найти вот в этом патенте. Матрицы на представленной выше плёнке имеют размер 78х78 пикселей. В патенте предполагается, что каждая матрица содержит 5776 бит (38*19 байт). Это значение приблизительно соотносится с 6084 битами, доступными на участке 78х78, где после вычитания опорных точек мы получаем 5684 бита. Возможно, это более поздний метод, который несколько отличается от представленного в патенте, но, скорее всего, он всё же вписывается в правильный диапазон.

В патенте предполагается, что данные хранятся в 8-битных байтах. Учитывая скорость потока 584 КБ/с, я думаю, что аудиоданные сохраняются в несжатом виде, хотя и не уверен. Согласно патенту, в процессе также задействовалась технология Reed-Solomon ECC.

Использование несжатых данных и применение коррекции ошибок Reed-Solomon, вероятно, помогло существенно упростить электронику. QR-коды относительно сложно декодируются, требуя от декодера перебора нескольких шаблонов масок в поиске подходящего.

В методе Dolby опорные точки, скорее всего, используются для сохранения правильного выравнивания кода относительно сенсора, а байты кодируются непосредственно в матрице. Затем код Рида-Соломона компенсирует порой значительные механические повреждения и ошибки считывания.

Если посмотреть на саму матрицу, то, похоже, что одиночные байты кодируются по оси X. При этом по оси Y часто встречаются одинаковые смежные блоки из 8 пикселей:


Из этого следует, что матрица должна относительно легко декодироваться. И было бы интересно собрать подходящий матричный декодер Dolby digital… Так что, возможно, однажды мы к этому формату ещё вернёмся.

При изучении эволюции плёнки и сопутствующих ей цифровых методов кодирования аудио формируется интересное представление об общем инженерном пути, связанном с ограничениями 35 мм стандарта. И несмотря на то что сегодня аналоговая плёнка уже практически полностью забыта и вытеснена цифрой, она всё ещё имеет своих приверженцев.            фильму-катастрофе 1997 года «Вулкан» этот      цифровая проекция           Аналоговая звуковая дорожка   устройством 60 считываний в секунду   этом патенте   технология Reed-Solomon ECC   перебора нескольких шаблонов масок            цифровых кодирования своих приверженцев    ]]></text>
</doc>
